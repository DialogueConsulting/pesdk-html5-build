!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("photoeditorsdk/PhotoEditorSDK.UI.DesktopUI.Core"),require("photoeditorsdk")):"function"==typeof define&&define.amd?define([["PhotoEditorSDK","UI","DesktopUI"],"photoeditorsdk"],e):"object"==typeof exports?exports._unexposedPESDK=e(require("photoeditorsdk/PhotoEditorSDK.UI.DesktopUI.Core"),require("photoeditorsdk")):t._unexposedPESDK=e(t.PhotoEditorSDK.UI.DesktopUI,t.PhotoEditorSDK)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=35)}({0:function(e,o){e.exports=t},1:function(t,o){t.exports=e},35:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(0),s=o.n(a),l=o(36),p=function(t){function e(){return n(this,e),r(this,t.apply(this,arguments))}return i(e,t),e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.getOrCreate("adjustments");this.sharedState.set({operation:e})},e.prototype._onOperationRemoved=function(t){t===this.sharedState.get("operation")&&this._onEnter()},e.isEnabled=function(t){return t.isToolAllowed("adjustment")&&t.isToolEnabled("adjustments")},e}(a.BaseControls);p.clickAtPosition=a.BaseControls.clickAtPosition,p.getPreloadAssets=a.BaseControls.getPreloadAssets,p.identifier="adjustments",p.controlsComponent=l.a,p.canvasControlsComponent=a.BaseControls.canvasControlsComponent,p.iconPath="editor/controls/adjustments/icon.png",p.activeIconPath="editor/controls/adjustments/icon-active.png",p.requiredOperations=["adjustments"],p.defaultOptions={availableAdjustments:null},e.default=p,s.a.Controls.AdjustmentsControls=p},36:function(t,e,o){"use strict";function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=o(0),l=(o.n(s),o(37)),p=s.GroupedControlsStyles.ControlGroupList,u=[{identifier:"basics",items:["brightness","saturation","contrast","gamma"]},{identifier:"refinements",items:["clarity","exposure","shadows","highlights"]}],c=function(t){function e(){r(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var p=i(this,t.call.apply(t,[this].concat(a)));return p._bindAll("_onOperationUpdated","_onTabSwitch","_onResetDefaultClick"),p._events=n({},s.Constants.EVENTS.OPERATION_UPDATED,p._onOperationUpdated),p}return a(e,t),e.prototype._isAdjustmentAvailable=function(t){var e=this.props.options.availableAdjustments;return null===e||-1!==e.indexOf(t)},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onTabSwitch=function(){this._scrollbar.update()},e.prototype._onResetDefaultClick=function(){var t=this.getSharedState("operation");if(t.hasChanges()){t.resetOptions(),this.props.controls.addLocalHistorySnapshot();this.context.editor.render(),this.forceUpdate()}},e.prototype._onValueChange=function(t){this.props.controls.addLocalHistorySnapshot(t,!0)},e.prototype._renderAdjustmentsControls=function(){var t=this,e=function(e){return s.React.createElement(s.CollapseSectionComponent,{key:e.identifier,title:t._t("editor.controls.adjustments.sections."+e.identifier),alwaysExpanded:!0},s.React.createElement(d,{className:void 0+e.identifier},o(e.items)))},o=function(e){return e.filter(function(e){return t._isAdjustmentAvailable(e)}).map(function(e){return t._makeItem(e)})};return u.filter(function(e){return e.items.filter(function(e){return t._isAdjustmentAvailable(e)}).length>0}).map(e)},e.prototype._makeItem=function(t){var e=this.getSharedState("operation"),o=e.getOption(t);return s.React.createElement(l.a,{item:t,value:o,onValueChange:this._onValueChange.bind(this,t),className:void 0,key:t})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this;return s.React.createElement(s.ScrollableListComponent,{direction:"vertical",innerListRef:function(e){t._list=e},innerRef:function(e){t._scrollbar=e}},s.React.createElement(f,null,s.React.createElement(h,null,s.React.createElement(s.ButtonComponent,{title:this._t("editor.controls.adjustments.reset"),className:void 0,onClick:this._onResetDefaultClick})),this._renderAdjustmentsControls()))},e}(s.ControlsComponent);c.contextTypes=s.ControlsComponent.contextTypes,c.RootElement=s.ControlsComponent.RootElement,e.a=c;var f=Object(s.adonis)(p).ul("x32ss4","SectionList"),d=s.adonis.ul("gz4y54","SectionItemList"),h=s.adonis.div("7abnmv","BottomSection")},37:function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=o(1),s=o.n(a),l=o(0),p=(o.n(l),s.a.Operations.AdjustmentsOperation),u=function(t){function e(){n(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=r(this,t.call.apply(t,[this].concat(i)));s._bindAll("_onValueChange"),s._option=p.prototype.availableOptions[s.props.item];var l=s.getSharedState("operation");return s.state={value:l?l.getOption(s.props.item):s._option.default},s}return i(e,t),e.prototype.shouldComponentUpdate=function(t){return t.value!==this.props.value||t.value!==this.state.value},e.prototype._onValueChange=function(t){var e=this.getSharedState("operation"),o=this._option,n=o.minValue,r=o.midValue,i=o.maxValue;t=t<0?r+(r-n)*t/100:r+(i-r)*t/100,this.props.onBeforeValueChange&&this.props.onBeforeValueChange(t),e.setOption(this.props.item,t),this.context.editor.render(),this.setState({value:t}),this.props.onValueChange&&this.props.onValueChange(t),this.forceUpdate()},e.prototype.render=function(){var t=this.getSharedState("operation"),e=this._option,o=e.minValue,n=e.midValue,r=e.maxValue,i=t?t.getOption(this.props.item):n,a=100*(i<=n?(i-o)/(n-o)-1:(i-n)/(r-n));return i===o&&(a=-100),l.React.createElement(l.SliderControlComponent,{key:this.props.item,label:this._t("editor.controls.adjustments.items."+this.props.item),minValue:-100,maxValue:100,value:parseInt(a),onSliderValueChange:this._onValueChange,onValueChange:this._onValueChange,className:this.props.className,middleDot:!0})},e}(l.SharedStateComponent);u.contextTypes=l.SharedStateComponent.contextTypes,e.a=u}}).default});