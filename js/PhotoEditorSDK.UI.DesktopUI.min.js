!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("photoeditorsdk"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["photoeditorsdk","react","react-dom"],e):"object"==typeof exports?exports.PhotoEditorDesktopUI=e(require("photoeditorsdk"),require("react"),require("react-dom")):t.PhotoEditorDesktopUI=e(t.PhotoEditorSDK,t.React,t.ReactDOM)}("undefined"!=typeof self?self:this,function(t,e,n){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=119)}([function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(20),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(143),r=i(o),s=n(147),a=i(s),l=n(20),c=i(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,c.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";(function(t){n.d(e,"j",function(){return O}),n.d(e,"v",function(){return P}),n.d(e,"q",function(){return T}),n.d(e,"e",function(){return x}),n.d(e,"c",function(){return w}),n.d(e,"a",function(){return C}),n.d(e,"o",function(){return R}),n.d(e,"i",function(){return E}),n.d(e,"p",function(){return I}),n.d(e,"y",function(){return M}),n.d(e,"f",function(){return D}),n.d(e,"n",function(){return B}),n.d(e,"w",function(){return S});var i=n(5),o=n.n(i),r=n(40),s=n.n(r),a=n(150),l=n.n(a),c=n(60),u=n.n(c),p=n(86),h=n(156),d=n.n(h),f=n(87),m=n(170),g=n(183),_=n(184),y=n(13),v=n(64),b=n(30),k=n(94);n.d(e,"u",function(){return m.a}),n.d(e,"l",function(){return s.a}),n.d(e,"b",function(){return f.a}),n.d(e,"d",function(){return g.a}),n.d(e,"s",function(){return _.a}),n.d(e,"m",function(){return l.a}),n.d(e,"z",function(){return y.b}),n.d(e,"x",function(){return y.a}),n.d(e,"h",function(){return v.a}),n.o(h,"withTheme")&&n.d(e,"A",function(){return h.withTheme}),n.o(h,"ThemeProvider")&&n.d(e,"t",function(){return h.ThemeProvider}),n.d(e,"g",function(){return b.a}),n.d(e,"k",function(){return u.a}),n.d(e,"r",function(){return k.a});var S=new d.a(t.adonisOptions||{injection:!1,theme:p.a,minified:!0,cssSelectorPrefix:".pesdk-desktop-editor ",classNamePrefix:"pesdk-",hashedStyles:!0}),C=o.a.Base64,w=o.a.Color,x=(o.a.Math.ColorMatrix,o.a.EventEmitter),E=(o.a.EXIF,o.a.OptionType),O=o.a.Promise,T=o.a.Utils,R=o.a.RenderType,D=o.a.ImageFormat,I=o.a,P=(o.a.UniformType,o.a.Math.Vector2),B=o.a.Math.Rectangle,M="undefined"!=typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):n(95)}).call(e,n(29))},function(t,e,n){/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */
t.exports=n(120).default},function(e,n){e.exports=t},function(t,e,n){t.exports={default:n(157),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(47),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(54)("wks"),o=n(36),r=n(10).Symbol,s="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=s&&r[t]||(s?r:o)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(10),o=n(8),r=n(26),s=n(19),a=function(t,e,n){var l,c,u,p=t&a.F,h=t&a.G,d=t&a.S,f=t&a.P,m=t&a.B,g=t&a.W,_=h?o:o[e]||(o[e]={}),y=_.prototype,v=h?i:d?i[e]:(i[e]||{}).prototype;h&&(n=e);for(l in n)(c=!p&&v&&void 0!==v[l])&&l in _||(u=c?v[l]:n[l],_[l]=h&&"function"!=typeof v[l]?n[l]:m&&c?r(u,i):g&&v[l]==u?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):f&&"function"==typeof u?r(Function.call,u):u,f&&((_.virtual||(_.virtual={}))[l]=u,t&a.R&&y&&!y[l]&&s(y,l,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var i=n(17);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});for(var i="undefined"==typeof window?t:window,o=i.requestAnimationFrame,r=i.cancelAnimationFrame,s=0,a=["ms","moz","webkit","o"],l=0;l<a.length&&!o;++l)o=i[a[l]+"RequestAnimationFrame"],r=i[a[l]+"CancelAnimationFrame"]||i[a[l]+"CancelRequestAnimationFrame"];o&&(o=o.bind(i)),r&&(r=r.bind(i)),o||(o=function(t,e){var n=(new Date).getTime(),i=Math.max(0,16-(n-s)),o=setTimeout(function(){t(n+i)},i);return s=n+i,o}),r||(r=function(t){clearTimeout(t)})}).call(e,n(29))},function(t,e,n){"use strict";e.__esModule=!0;var i=n(192),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e,n){"use strict";e.__esModule=!0;var i=n(47),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},function(t,e,n){var i=n(12),o=n(76),r=n(49),s=Object.defineProperty;e.f=n(18)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(16),o=n(33);t.exports=n(18)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(123),r=i(o),s=n(134),a=i(s),l="function"==typeof a.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};e.default="function"==typeof a.default&&"symbol"===l(r.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onDragStart","_onDragMove","_onDragEnd"),a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.refs.element&&(this._element=this.refs.element)},e.prototype._onDragStart=function(t){if(!this.props.disabled){t.preventDefault(),t.stopPropagation(),this._initialMousePosition=c.u.getEventPosition(t),document.addEventListener("mousemove",this._onDragMove),document.addEventListener("touchmove",this._onDragMove),document.addEventListener("mouseup",this._onDragEnd),document.addEventListener("touchend",this._onDragEnd);var e=this._element.getBoundingClientRect(),n=new c.v(e.left,e.top);this._lastMousePosition=this._initialMousePosition.clone();var i=this._initialMousePosition.clone().subtract(n);this.props.onStart&&this.props.onStart(i,this._initialMousePosition.clone(),t)}},e.prototype._onDragMove=function(t){t.preventDefault(),t.stopPropagation();var e=c.u.getEventPosition(t);if(e){var n=e.clone().subtract(this._initialMousePosition),i=e.clone().subtract(this._lastMousePosition);this._lastMousePosition=e.clone(),this.props.onDrag&&this.props.onDrag(n,e,i,t)}},e.prototype._onDragEnd=function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this._onDragMove(t),document.removeEventListener("mousemove",this._onDragMove),document.removeEventListener("touchmove",this._onDragMove),document.removeEventListener("mouseup",this._onDragEnd),document.removeEventListener("touchend",this._onDragEnd),this.props.onStop&&this.props.onStop(t)},e.prototype.render=function(){var t=this;if(!this.props.children||this.props.children instanceof Array)throw new Error("DraggableComponent expects exactly one child.");var e={onMouseDown:this._onDragStart,onTouchStart:this._onDragStart,onClick:function(e){if(t.props.disabled){var n=t.props.children.props.onClick;return void(n&&n(e))}e.stopPropagation()}};if("string"==typeof this.props.children.type)e.ref="element";else{var n=this.props.children.props.innerRef;e.innerRef=function(e){t._element=e,n&&n(e)}}return c.l.cloneElement(this.props.children,e)},e}(c.b);u.contextTypes=c.b.contextTypes,u.propTypes={onStart:c.k.func,onDrag:c.k.func,onStop:c.k.func,disabled:c.k.bool},e.a=u},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){var i=n(80),o=n(51);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(32);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(79),o=n(55);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var i=n(93),o=n.n(i),r=n(6),s=n.n(r);e.a={load:function(t){var e=this;return function(){if(t.substr(0,5),!0)return s.a.resolve([t,t])}().then(function(t){var n=o()(t,2),i=n[0],r=n[1];return e._createAndLoadImage(i,r)})},_createAndLoadImage:function(t,e){return new s.a(function(t,n){var i=new window.Image;i.addEventListener("load",function(){t(i)}),i.addEventListener("error",function(){n(new Error("Failed to load image at "+e))}),i.crossOrigin="Anonymous",i.src=e})},loadXHR:function(t,e){return new s.a(function(n,i){var o=void 0;window.XDomainRequest?(o=new window.XDomainRequest,e&&o.overrideMimeType(e),o.onload=function(){n(o)},o.onerror=function(t){i(t)}):window.XMLHttpRequest&&(o=new window.XMLHttpRequest,e&&o.overrideMimeType(e),o.onreadystatechange=function(t){4===o.readyState&&(200===o.status?n(o):i(new Error("HTTP Status "+o.status)))}),o.open("GET",t,!0),o.send()})}}},function(t,e,n){"use strict";var i=n(15),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(n,i,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s()(this,e);var a=l()(this,t.call(this));return a.id=p.q.getUUID(),a.type=n,a.title=i,a.text=o,a.overlay=r,a.visible=!0,a.data=null,a}return u()(e,t),e.prototype.setData=function(t){this.data=t,this.emit("update")},e.prototype.close=function(){this.visible=!1,this.emit("close")},e.prototype.remove=function(){this.emit("remove")},e}(p.e),d=function(t){function e(){s()(this,e);var n=l()(this,t.call(this));return n._modals=[],n}return u()(e,t),e.prototype.displayLoading=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new h("loading",t,null,e);return this.addModal(n),n},e.prototype.displayProgress=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new h("progress",null,t);return n.setData({progress:e}),this.addModal(n),n},e.prototype.displayWarning=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["OK"],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=new h("warning",t,e,i);return o.setData({buttons:n}),this.addModal(o),o},e.prototype.displayError=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=new h("error",t,e,n);return this.addModal(i),i},e.prototype.addModal=function(t){var e=this;this._modals.push(t),t.on("close",function(){e.emit("update")}),t.on("remove",function(){e.removeModal(t)}),t.on("update",function(){e.emit("update")}),this.emit("update")},e.prototype.removeModal=function(t){var e=this._modals.indexOf(t);this._modals.splice(e,1),this.emit("update")},e.prototype.getModals=function(){return this._modals},o()(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}(p.e);e.a=d},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(125)(!0);n(77)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports=!0},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(16).f,o=n(21),r=n(9)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){n(131);for(var i=n(10),o=n(19),r=n(24),s=n(9)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],u=i[c],p=u&&u.prototype;p&&!p[s]&&o(p,s,c),r[c]=r.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,n){t.exports=e},function(t,e,n){"use strict";(function(t){var i=n(0),o=n.n(i),r=n(172),s=n(176),a=n.n(s),l="undefined"!=typeof window?window:t,c=function(){function t(e){o()(this,t),this._url=e,this._parsedUrl=a.a.parse(this._url,!0)}return t.prototype._isJSONPRequest=function(){var t=this._parsedUrl.query;for(var e in t){if("?"===t[e])return!0}return!1},t.prototype.load=function(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()},t.prototype._loadJSON=function(){var t=this;return new r.a(function(e,n){var i=void 0;l.XDomainRequest?(i=new l.XDomainRequest,i.onload=function(){var t=JSON.parse(i.responseText);e(t)},i.onerror=function(t){n(t)},i.open("GET",t._url,!0),i.send()):l.XMLHttpRequest&&(i=new XMLHttpRequest,i.onreadystatechange=function(t){if(4===i.readyState)if(200===i.status){var o=JSON.parse(i.responseText);e(o)}else n(new Error("HTTP Status "+i.status))},i.open("GET",t._url,!0),i.send())})},t.prototype._loadJSONP=function(){var t=this,e=!1,n=!1,i="pesdk"+Math.round(99999999999999*Math.random());return new r.a(function(o,r){var s=t._createJSONPNode(i);l[i]=function(i){t._removeJSONPNode(s),e||(n=!0,o(i))},l.setTimeout(function(){n||(t._removeJSONPNode(s),e=!0,r(new Error("Timeout of 5 seconds exceeded.")))},5e3)})},t.prototype._createJSONPNode=function(t){var e=this._buildJSONPUrl(t),n=document.querySelector("head"),i=document.createElement("script");return i.src=e,n.appendChild(i),i},t.prototype._removeJSONPNode=function(t){t.parentNode.removeChild(t)},t.prototype._buildJSONPUrl=function(t){var e=this._parsedUrl.query,n=null;for(var i in e)if("?"===e[i]){n=i;break}return delete this._parsedUrl.search,e[n]=t,a.a.format(this._parsedUrl)},t}();e.a=c}).call(e,n(29))},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._buttons=[],r.state={visible:!1},r}return u()(e,t),e.prototype.componentDidMount=function(){for(var e,n=this,i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];(e=t.prototype.componentDidMount).call.apply(e,[this].concat(o));var s=this.props.modal;s.on("close",function(){n.setState({visible:!1}),setTimeout(function(){s.remove()},1e3*n.context.theme.transitionDuration)}),Object(p.z)(function(){n.setState({visible:!0})})},e.prototype._onButtonClick=function(t){},e.prototype._renderButtons=function(){var t=this;return this._buttons.map(function(e,n){return p.l.createElement(y,{key:n,onClick:t._onButtonClick.bind(t,n)},e)})},e.prototype.render=function(){var t=this.props.modal,e=o()({},t.type,!0),n=this._buttons.length?p.l.createElement(_,null,this._renderButtons()):null;return p.l.createElement(d,{visible:this.state.visible},p.l.createElement(f,e,p.l.createElement(m,null,p.l.createElement(v,{src:this._getAssetPath("shared/modals/icon.png",!0)})),p.l.createElement(g,null,p.l.createElement(b,null,t.title),p.l.createElement(k,null,t.text))),n,p.l.createElement(S,{visible:!this.state.visible}))},e}(p.b);h.propTypes={modal:p.k.object},h.contextTypes=p.b.contextTypes,e.a=h;var d=p.w.div("1jkivgb",{visible:"7bce9v"},"Modal"),f=p.w.div("1udylfs",{error:"120drhm",warning:"120drhm",loading:"120drhm"},"Top"),m=p.w.div("z6arf2","IconContainer"),g=p.w.div("245la5","TextContainer"),_=p.w.div("1943606","Buttons"),y=p.w.div("1kylmay","Button"),v=p.w.img("jsue2c","Icon"),b=p.w.div("1fx19is","Title"),k=p.w.div("1id6172","Text"),S=p.w.div("mv80g2",{visible:"2jlos"},"BlockingOverlay")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(40),u=n.n(c),p=n(60),h=n.n(p),d=n(13),f=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._timeout=null,a.state={enter:!1,appear:!1,leave:!1},a.props.active&&(a.state.enter=!0,a.state.appear=!0),a}return l()(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.active&&!t.active?this._leave():!this.props.active&&t.active&&(this._enter(),this._appear())},e.prototype._cancelTimeout=function(){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null)},e.prototype._enter=function(){this.setState({enter:!0})},e.prototype._leave=function(){var t=this;this._timeout&&this._cancelTimeout(),this.setState({appear:!1,leave:!0}),this._timeout=window.setTimeout(function(){t._cancelTimeout(),t.setState({enter:!1})},this.props.leaveDuration)},e.prototype._appear=function(){var t=this;this._timeout&&this._cancelTimeout(),Object(d.b)(function(){t.setState({appear:!0,leave:!1}),t._timeout=window.setTimeout(function(){t._cancelTimeout()},t.props.appearDuration)})},e.prototype._buildStateProps=function(){var t=this.props,e=t.enterProp,n=t.appearProp,i=t.leaveProp,o={};return e&&(o[e]=this.state.enter),n&&(o[n]=this.state.appear),i&&(o[i]=this.state.leave),o},e.prototype.render=function(){if(!this.props.children)return null;var t=this._buildStateProps();return u.a.cloneElement(this.props.children,t)},e}(c.Component);f.propTypes={active:h.a.bool,enterProp:h.a.string,enterDuration:h.a.number,appearProp:h.a.string,appearDuration:h.a.number,leaveProp:h.a.string,leaveDuration:h.a.number},f.defaultProps={active:!0,enterProp:"rendered",enterDuration:300,appearProp:"visible",appearDuration:300,leaveDuration:300},e.a=f},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=n(94),a=n(41),l=function(){function t(e,n){o()(this,t),this._ui=e,this._options=n,this._categoriesById={},this._categories=[],this._stickersById={},this._addCategories(s.a.DEFAULTS.STICKER_CATEGORIES);var i=this._options,r=i.categories,a=i.replaceCategories;this._options.categories?this._addCategories(r,a):(this._updateCategoriesMap(),this._updateAllCategory())}return t.prototype.loadExternal=function(t){var e=this;return new a.a(t).load().then(function(t){e._addCategories(t.categories,e._options.replaceCategories)})},t.prototype._addCategories=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._categories=e?t.slice(0):r.u.mergeCategories(this._categories,t,"stickers"),this._updateCategoriesMap(),this._updateAllCategory()},t.prototype._updateCategoriesMap=function(){var t=this;this._categoriesById={},this._categories.forEach(function(e){t._categoriesById[e.identifier]=e}),this._categories.forEach(function(e){e.stickers.forEach(function(e){t._stickersById[e.identifier]=e})}),void 0!==this._options.availableStickers&&null!==this._options.availableStickers&&(this._categories.forEach(function(e){e.stickers=e.stickers.filter(function(e){return-1!==t._options.availableStickers.indexOf(e.identifier)})}),this._categories=this._categories.filter(function(t){return t.stickers.length>0})),this._updateAllCategory()},t.prototype._updateAllCategory=function(){this._allCategory={identifier:"all",defaultName:"All",stickers:this._categories.map(function(t){return t.stickers}).reduce(function(t,e){return t.concat(e)},[])},this._categoriesById.all=this._allCategory},t.prototype.getStickersForCategory=function(t){if(!this._categoriesById[t])throw new Error("Unknown sticker category '"+t+"'");return this._categoriesById[t].stickers},t.prototype.getStickerByIdentifier=function(t){return this._stickersById[t]},t.prototype.getCategories=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?[this._allCategory].concat(this._categories):this._categories},t.prototype.getCategory=function(t){return this._categoriesById[t]},t.getURLForSticker=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base",n=t.images,i="base"===e?n.mediaBase||n.mediaThumb:n.mediaThumb,o=i.uris||[i.uri];if(void 0===r.u.Browser||r.u.Browser.getIEVersion()){var s=o.filter(function(t){return!/\.svg$/i.test(t)});return s.length?s[0]:o[0]}var a=o.filter(function(t){return/\.svg$/i.test(t)});return a.length?a[0]:o[0]},t}();e.a=l},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onSharedStateUpdate"),a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.context.sharedState&&this.context.sharedState.on("update",this._onSharedStateUpdate)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.context.sharedState&&this.context.sharedState.off("update",this._onSharedStateUpdate)},e.prototype._onSharedStateUpdate=function(t,e){this.shouldSharedComponentUpdate(t,e)?(this.sharedComponentWillUpdate(t,e),this.forceUpdate(),this.sharedStateDidChange(t,e)):this.sharedStateDidChange(t,e)},e.prototype.sharedComponentWillUpdate=function(t,e){},e.prototype.shouldSharedComponentUpdate=function(t,e){return!0},e.prototype.sharedStateDidChange=function(t,e){},e.prototype.sharedStateWillChange=function(t,e){},e.prototype.setSharedState=function(t,e){this.context.sharedState.set(t,e)},e.prototype.getSharedState=function(t){return this.context.sharedState.get(t)},e.prototype.forceSharedUpdate=function(){this.context.sharedState.broadcastUpdate()},e}(c.b);u.contextTypes={editor:c.k.object,ui:c.k.object,options:c.k.object,mediator:c.k.object,sharedState:c.k.object,theme:c.k.object,screen:c.k.object,appComponent:c.k.object},u.propTypes={sharedState:c.k.any},e.a=u},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(71),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKeyDown","_onInputBlur","_onInputChange"),a.state={},a}return l()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return this.props.value!==t.value||this.props.disabled!==t.disabled},e.prototype._onInputChange=function(t){this.props.onLiveChange&&this.props.onLiveChange(t)},e.prototype._onInputBlur=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype._onKeyDown=function(t){13!==t.keyCode&&27!==t.keyCode||this._input.blur(),this.props.onKeyDown&&this.props.onKeyDown()},e.prototype.focus=function(){this._input.focus()},e.prototype._getInputStyle=function(){return{}},e.prototype.render=function(){var t=this,e=this.constructor.RootElement;return c.l.createElement(e,{value:this.props.value,onChange:this._onInputChange,onBlur:this._onInputBlur,innerRef:function(e){t._input=e},onKeyDown:this._onKeyDown,name:this.props.name,styles:this.props.styles,className:this.props.className,style:this._getInputStyle(),disabled:this.props.disabled})},e}(c.b);p.contextTypes=c.b.contextTypes,e.a=p,p.RootElement=Object(c.w)(u.a).input("120drhm","NumericInputComponent")},function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){var i=n(17),o=n(10).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(17);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(12),o=n(127),r=n(55),s=n(53)("IE_PROTO"),a=function(){},l=function(){var t,e=n(48)("iframe"),i=r.length;for(e.style.display="none",n(82).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(54)("keys"),o=n(36);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(10),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(51);t.exports=function(t){return Object(i(t))}},function(t,e,n){e.f=n(9)},function(t,e,n){var i=n(10),o=n(8),r=n(35),s=n(57),a=n(16).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(151)()},function(t,e,n){var i=n(28),o=n(9)("toStringTag"),r="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i,o,r,s=n(26),a=n(163),l=n(82),c=n(48),u=n(10),p=u.process,h=u.setImmediate,d=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,_={},y=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},v=function(t){y.call(t.data)};h&&d||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},d=function(t){delete _[t]},"process"==n(28)(p)?i=function(t){p.nextTick(s(y,t,1))}:m&&m.now?i=function(t){m.now(s(y,t,1))}:f?(o=new f,r=o.port2,o.port1.onmessage=v,i=s(r.postMessage,r,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",v,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:h,clear:d}},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=o(e),this.reject=o(n)}var o=n(32);t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";(function(t){var n="warn",i=[{type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{type:"info",background:"#BDE5F8",color:"#00529B"},{type:"warn",background:"#FEEFB3",color:"#9F6000"},{type:"error",background:"#FFBABA",color:"#D8000C"},{type:"log",background:"#EEEEEE",color:"#1f4f6b"}],o=i.map(function(t){return t.type}),r={};r.setLevel=function(t){n=t},r.canLog=function(t){return null!==n&&!(o.indexOf(t)<o.indexOf(n))},r.hasColorfulOutput=function(){return(!t||t&&t.browser)&&"undefined"!=typeof navigator&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)},r.printError=function(t){t.stack.split("\n").forEach(function(t){r.error("Error",t)})},i.forEach(function(t){var e=t.type,n=t.background,i=t.color;r[e]=function(t){if("undefined"!=typeof console&&r.canLog(e)){for(var o=arguments.length,s=Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];var l=s.map(function(t){return"string"==typeof t?t:t.toString()}).join(" ");if(!r.hasColorfulOutput())return console.log("PhotoEditorSDK | "+t+" | "+l);console.log("%c  %c PhotoEditorSDK %c  %c "+t+" %c  "+l+"  %c  ","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: "+n+"; color: "+i+"; line-height: 20px; padding: 4px 0; font-weight: bold","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0")}}}),e.a=r}).call(e,n(92))},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(20),s=n.n(r),a=n(0),l=n.n(a),c=n(214),u=n(217),p=function(){function t(e,n){l()(this,t),this._ui=e,this._fonts=n,this._loadedFonts=[]}return t.prototype.setFonts=function(t){this._fonts=t},t.prototype.needsToLoad=function(){for(var t=this,e=0;e<this._fonts.length;e++){var n=function(e){var n=void 0;return t._fonts[e].getVariations().forEach(function(t){n=n||t.getProvider()}),n?{v:!0}:"continue"}(e);switch(n){case"continue":continue;default:if("object"===(void 0===n?"undefined":s()(n)))return n.v}}},t.prototype.fontLoaded=function(t){var e=t.getFontFamily();return-1!==this._loadedFonts.indexOf(e)},t.prototype.setFontLoaded=function(t){if(!this.fontLoaded(t)){var e=t.getFontFamily();this._loadedFonts.push(e)}},t.prototype.load=function(){var t=this,e=this._fonts,n={google:new c.a(this._ui),file:new u.a(this._ui)},i=function(){for(var t in n){n[t].dispose()}};e.filter(function(e){return!t.fontLoaded(e)}).forEach(function(t){t.getVariations().forEach(function(t){var e=t.getProvider();if(e){n[e].add(t)}})});var r=[];for(var s in n)r.push(n[s].load());return o.a.all(r).then(function(){i(),e.forEach(function(e){t.setFontLoaded(e)})}).catch(function(t){throw i(),t})},t}();e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(104),u=n(106),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._serializeSticker=function(e,n){var i=e.getInputDimensions(!1),o=t.prototype._serializeSticker.call(this,e,n);return"none"!==n.getTintMode()&&(o.options.tintColor=n.serializeOption("tintColor",!0)),o.options.dimensions=n.getDimensions().clone().divide(i.min()).toObject(),o.options.identifier=o.options.name,delete o.options.name,o},e.prototype._serializePath=function(e){var n=t.prototype._serializePath.call(this,e),i=e.getBrush();return i.hasOption("hardness")&&(n.hardness=i.getOption("hardness")),n},e.prototype._serializeOperation=function(e,n){return"frame"===e.constructor.identifier?(this._serializeFrameOperation(e,n),null):"overlay"===e.constructor.identifier?(this._serializeOverlayOperation(e,n),null):t.prototype._serializeOperation.call(this,e,n)},e.prototype._serializeFrameOperation=function(t,e){var n=e.filter(function(t){return"sprite"===t.type}),i=void 0;n.length?i=n.pop():(i={type:"sprite",options:{sprites:[]}},e.push(i)),i.options.sprites.push({type:"frame",options:this._getFrameOptions(t)})},e.prototype._serializeOverlayOperation=function(t,e){if(t.getIdentifier()){var n=e.filter(function(t){return"sprite"===t.type}),i=void 0;n.length?i=n.pop():(i={type:"sprite",options:{sprites:[]}},e.push(i)),i.options.sprites.push({type:"overlay",options:{identifier:t.getIdentifier(),intensity:t.getAlpha(),blendMode:u.a[t.getBlendMode()]}})}},e.prototype._getFrameOptions=function(t){return{identifier:t.getFrame().identifier}},e.prototype._serializeOrientationOperation=function(e){var n=t.prototype._serializeOrientationOperation.call(this,e);return 90!==n.options.rotation&&270!==n.options.rotation||(n.options.flipHorizontally=!n.options.flipHorizontally,n.options.flipVertically=!n.options.flipVertically),n},e.prototype._serializeTransformOperation=function(e){var n=this._editor.operations;if(n.exists("orientation")){e=e.clone();var i=n.get("orientation");e.rotate(-i.getRotation()),i.getFlipVertically()&&(e.flip("vertical"),e.setRotation(-1*e.getRotation())),i.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation()))}var o=t.prototype._serializeTransformOperation.call(this,e);return o.type="transform",o},e.prototype._serializeText=function(e,n){var i=t.prototype._serializeText.call(this,e,n),o=e.getInputDimensions(!1);return i.options.fontIdentifier=n.getFontIdentifier(),i.options.maxWidth=i.options.maxWidth*o.x/o.min(),delete i.options.fontFamily,i},e.prototype._serializeFilterOperation=function(e){var n=t.prototype._serializeFilterOperation.call(this,e);return n?(n.options.identifier=n.options.name,delete n.options.name,n):null},e.prototype._serializeRadialFocusOperation=function(e){var n=t.prototype._serializeRadialFocusOperation.call(this,e),i=n.options.options;return i.start=i.position,delete i.position,i.end={x:i.start.x+i.radius,y:i.start.y},delete i.radius,n},e}(c.a);e.a=p,p.version="2.0.0"},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(105),d=n(107),f=n(108),m=n(44),g=n(109),_=n(65),y=n(30),v=n(106),b=p.q.flipObject(v.a),k=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));r._frameManager=new d.a(r._ui,r._getOptions("frame"));var a=r._getOptions("overlay");return a&&(r._overlayManager=new f.a(r._ui,a)),r}return u()(e,t),e.prototype._deserializeSprite=function(e,n){return"frame"===n.type?this._deserializeFrame(e,n):"overlay"===n.type?this._deserializeOverlay(e,n):t.prototype._deserializeSprite.call(this,e,n)},e.prototype._deserializeOperation=function(e){return"transform"===e.type?this._deserializeTransformOperation(e):t.prototype._deserializeOperation.call(this,e)},e.prototype._deserializeOrientationOperation=function(e){return 90!==e.options.rotation&&270!==e.options.rotation||(e.options.flipHorizontally=!e.options.flipHorizontally,e.options.flipVertically=!e.options.flipVertically),t.prototype._deserializeOrientationOperation.call(this,e)},e.prototype._deserializeTransformOperation=function(e){var n=this;return t.prototype._deserializeCropOperation.call(this,e).then(function(t){if(t){var e=n._operationsData.orientation;if(e){var i=e.options;t.rotate(i.rotation),i.flipHorizontally&&(t.flip("horizontal"),t.setRotation(-1*t.getRotation())),i.flipVertically&&(t.flip("vertical"),t.setRotation(-1*t.getRotation()))}return t}})},e.prototype._deserializeFrame=function(t,e){var n=this,i=e.options.identifier,r=this._frameManager.getFrameByIdentifier(i);if(!r)return p.h.warn("Deserializer","Unknown frame `"+i+"`. Skipping frame."),o.a.resolve();var s=new g.a(this._ui,r);return s.load().then(function(){n._editor.operations.getOrCreate("frame",{frame:s.getFrame()})})},e.prototype._deserializeOverlay=function(t,e){var n=this,i=e.options,r=i.blendMode,s=i.intensity,a=i.identifier,l=this._overlayManager.getOverlayByIdentifier(a);if(!l)return p.h.warn("Deserializer","Unknown overlay `"+a+"`. Skipping overlay."),o.a.resolve();var c=this._editor.getUI().getAssetPath(l.image);return y.a.load(c).then(function(t){n._editor.operations.getOrCreate("overlay",{alpha:s,identifier:a,blendMode:parseInt(b[r||l.blendMode],10),image:t})})},e.prototype._createBrushForPath=function(e){var n=t.prototype._createBrushForPath.call(this,e);return void 0!==e.hardness&&n.hasOption("hardness")&&n.setHardness(e.hardness),n},e.prototype._deserializeSticker=function(t,e){var n=this,i=p.p.Operations.SpriteOperation,r=e.options,s=this._stickerManager.getStickerByIdentifier(r.identifier),a=m.a.getURLForSticker(s,"base");if(!s)return p.h.warn("Deserializer","Unknown sticker `"+r.identifier+"`. Skipping sprite."),o.a.resolve();var l=t.getInputDimensions(!1);return new o.a(function(e,o){var c=new window.Image;c.addEventListener("load",function(){var n=i.StickerSprite.prototype.availableOptions.adjustments.structure,o=r.rotation,a=r.flipHorizontally,u=r.flipVertically,h={identifier:r.identifier,image:c,position:p.v.fromObject(r.position),dimensions:p.v.fromObject(r.dimensions).multiply(l.min()),rotation:o,flipHorizontally:a,flipVertically:u,adjustments:{}};void 0!==r.adjustments&&["brightness","contrast","saturation"].forEach(function(t){void 0!==r.adjustments[t]&&(h.adjustments[t]=r.adjustments[t]+n[t].default)}),void 0!==r.tintColor&&void 0!==s.tintMode&&(h.tintColor=p.c.fromArray(r.tintColor),h.tintMode=s.tintMode),e(t.createSticker(h))}),c.crossOrigin="Anonymous",c.src=n._editor.getUI().getAssetPath(a)})},e.prototype._deserializeFilterOperation=function(t){var e=this,n=t.options;return this._filterManager.getFilterByIdentifier(n.identifier)?this._filterManager.instantiateFilterWithIdentifier(n.identifier).then(function(t){var i=e._editor.operations.getOrCreate("filter");i&&i.set({identifier:n.identifier,filter:t,intensity:n.intensity})}):(p.h.warn("Deserializer","Unknown filter `"+n.identifier+"`"),o.a.resolve())},e.prototype._deserializeFocusOperation=function(e){var n=e.options,i=n.options;if("radial"!==n.type)return t.prototype._deserializeFocusOperation.call(this,e);var o=i.start,r=i.end,s=i.gradientRadius,a=i.blurRadius,l=p.v.fromObject(r).subtract(p.v.fromObject(o)).len();this._editor.operations.getOrCreate("radial-focus",{position:p.v.fromObject(o),radius:l,gradientRadius:s,blurRadius:a})},e.prototype._deserializeText=function(t,e){var n=e.options,i=n.fontSize,o=n.lineHeight,r=n.fontIdentifier,s=n.alignment,a=n.rotation,l=n.maxWidth,c=n.color,u=n.backgroundColor,h=new _.a(this._ui),d=this._fontManager.getVariationByIdentifier(r);return d?h.setFonts([d.getFont()]):d=this._fontManager.getDefaultFont(),h.load().then(function(){var e=t.getInputDimensions(!1),r=l*e.min()/e.x;return t.createText({fontSize:i,lineHeight:o,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),alignment:s,rotation:a,maxWidth:r,text:n.text,color:p.c.fromArray(c),backgroundColor:p.c.fromArray(u),position:p.v.fromObject(n.position)})})},e}(h.a);e.a=k,k.version="2.0.0"},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(15),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(3),f=n(45),m=n(229),g=n(22),_=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var l=u()(this,t.call.apply(t,[this].concat(r)));return l._needsStyleFixes=!0,l._bindAll("_onZoom","_onZoomDone","_onCanvasDrag","_onCanvasDragStart","_onCanvasDragStop","_onCanvasClick","_onCanvasClickDisabled","_onCanvasClickEnabled"),l._initialRerender=!0,l._events=(n={},o()(n,d.d.EVENTS.ZOOM,l._onZoom),o()(n,d.d.EVENTS.ZOOM_DONE,l._onZoomDone),n),l.state={canvasClickDisabled:!1,displayHeader:!0},l}return h()(e,t),e.prototype.fixStyles=function(){if(d.u.Browser.isIElte(11)){var t=this._outerContainer.offsetHeight;this._container.style.height=t+"px"}},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._initialRerender&&this.forceUpdate()},e.prototype._performHitTest=function(t){var e=this.context.appComponent.getBounds(),n=t.subtract(e.left,e.top),i=this.context.editor,o=i.controls.getAvailable();if(this.props.controls){var r=this.props.controls.constructor.clickAtPosition(t,i);if(r)return this.setSharedState(r),!0}for(var s in o){var a=o[s],l=a.clickAtPosition(n,i);if(l)return l.selectedSprite===this.getSharedState("selectedSprite")||(this.context.screen.switchToControls(s,l),!0)}return!1},e.prototype._onCanvasClickDisabled=function(){this.setState({canvasClickDisabled:!0})},e.prototype._onCanvasClickEnabled=function(){var t=this;Object(d.z)(function(){t.setState({canvasClickDisabled:!1})})},e.prototype._onCanvasClick=function(t){var e=d.u.getEventPosition(t);this._performHitTest(e)},e.prototype._onZoom=function(){this.forceUpdate()},e.prototype._onZoomDone=function(){this.forceUpdate()},e.prototype._onCanvasDragStart=function(){var t=this.context.editor;this._initialOffset=t.offset.clone()},e.prototype._onCanvasDrag=function(t){var e=this.context.editor,n=e.offset;e.offset=n.copy(this._initialOffset).add(t),e.render()},e.prototype._onCanvasDragStop=function(){this.forceUpdate()},e.prototype.getImageBoundingRect=function(){var t=this.context.editor,e=t.getSDK(),n=e.getContainer(),i=e.getSprite(),o=n.getPosition(),r=i.getTexture(),s=e.getTextureScale();if(!r)return new d.n;var a=r.getDimensions().clone().divide(s).multiply(t.zoom.level),l=this._outerContainer.getBoundingClientRect(),c=this.context.appComponent.getBounds();return new d.n(Math.floor(o.x-a.x/2-(l.left-c.left)),Math.floor(o.y-a.y/2-(l.top-c.top)),Math.ceil(a.x),Math.ceil(a.y))},e.prototype.getContainerOffset=function(){var t=this._outerContainer.getBoundingClientRect();return new d.v(t.left,t.top)},e.prototype._getContainerStyle=function(){var t=this.getImageBoundingRect();return{left:t.x,top:t.y,width:t.width,height:t.height}},e.prototype._renderControls=function(){var t=this,e=this._imageContainer&&this._getContainerStyle();return d.l.createElement(y,{innerRef:function(e){t._imageContainer=e},style:e,onClick:this._onCanvasClick})},e.prototype.render=function(){var t=this,e=this.context.editor;return d.l.createElement(v,{draggable:!e.isShallow&&e.isDraggable,className:void 0,innerRef:function(e){t._outerContainer=e}},d.l.createElement(g.a,{disabled:e.isShallow||!e.isDraggable,onStart:this._onCanvasDragStart,onDrag:this._onCanvasDrag,onStop:this._onCanvasDragStop},d.l.createElement("div",null,d.l.createElement(b,{innerRef:function(e){t._container=e}},this.state.displayHeader&&d.l.createElement(m.a,null),this._renderControls()))))},l()(e,[{key:"container",get:function(){return this._container}}]),e}(f.a);_.contextTypes=f.a.contextTypes,_.propTypes={options:d.k.object},e.a=_;var y=d.w.div("55byom","Container"),v=d.w.div("1ebx3lr",{draggable:"ovipzq"},"CanvasControls"),b=d.w.div("1h6ank1","CanvasControlsContainer")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(22),p=function(t){function e(){o()(this,e);var n=s()(this,t.call(this));return n.constructor.NATIVE_SCROLLBAR_WIDTH||(n.constructor.NATIVE_SCROLLBAR_WIDTH=c.u.getScrollbarWidth()),n._isDragging=!1,n._bindAll("_onButtonDragStart","_onButtonDrag","_onButtonDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop","_onListScroll"),n.state={buttonSize:0,buttonPosition:0,buttonVisible:!1},n}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.update()},e.prototype._onListScroll=function(){if(!this._isDragging){var t=this._getDirection(),n=void 0,i=void 0,o=void 0;t===e.HORIZONTAL?(n=this._list.scrollWidth-this._list.offsetWidth,i=this._list.scrollLeft,o=this._root.offsetWidth-this.state.buttonSize):t===e.VERTICAL&&(n=this._list.scrollHeight-this._list.offsetHeight,i=this._list.scrollTop,o=this._root.offsetHeight-this.state.buttonSize);var r=i/n;this.setState({buttonPosition:o*r}),this.props.onScroll&&this.props.onScroll(i)}},e.prototype._onButtonDragStart=function(t){this._isDragging=!0,this._initialButtonPosition=this.state.buttonPosition||0},e.prototype._onButtonDrag=function(t){var n=this._getDirection(),i=void 0;n===e.HORIZONTAL?i=this._initialButtonPosition+t.x:n===e.VERTICAL&&(i=this._initialButtonPosition+t.y),this._setButtonPosition(i)},e.prototype._onButtonDragStop=function(){this._isDragging=!1},e.prototype._onBarDragStart=function(t){var n=c.u.getEventPosition(t);this._initialPosition=n.clone();var i=this._root.getBoundingClientRect(),o=new c.v(i.left,i.top),r=n.clone().subtract(o),s=this._getDirection();s===e.HORIZONTAL?this._setButtonPosition(r.x-this.state.buttonSize/2):s===e.VERTICAL&&this._setButtonPosition(r.y-this.state.buttonSize/2),document.addEventListener("mousemove",this._onBarDrag),document.addEventListener("touchmove",this._onBarDrag),document.addEventListener("mouseup",this._onBarDragStop),document.addEventListener("touchend",this._onBarDragStop)},e.prototype._onBarDrag=function(t){var n=c.u.getEventPosition(t),i=this._root.getBoundingClientRect(),o=new c.v(i.left,i.top),r=n.clone().subtract(o),s=this._getDirection();s===e.HORIZONTAL?this._setButtonPosition(r.x-this.state.buttonSize/2):s===e.VERTICAL&&this._setButtonPosition(r.y-this.state.buttonSize/2)},e.prototype._onBarDragStop=function(){document.removeEventListener("mousemove",this._onBarDrag),document.removeEventListener("touchmove",this._onBarDrag),document.removeEventListener("mouseup",this._onBarDragStop),document.removeEventListener("touchend",this._onBarDragStop)},e.prototype._setButtonPosition=function(t){var n=this._getDirection(),i=void 0,o=void 0;n===e.HORIZONTAL?(i=this._root.offsetWidth-this.state.buttonSize,o=this._list.scrollWidth-this._list.offsetWidth):n===e.VERTICAL&&(i=this._root.offsetHeight-this.state.buttonSize,o=this._list.scrollHeight-this._list.offsetHeight),t=Math.max(0,t),t=Math.min(t,i),this.setState({buttonPosition:t});var r=t/i,s=o*r;n===e.HORIZONTAL?this._list.scrollLeft=s:n===e.VERTICAL&&(this._list.scrollTop=s),this.props.onScroll&&this.props.onScroll(s)},e.prototype._updateButtonSize=function(t){var n=0,i=!1,o=void 0,r=void 0,s=this._getDirection();s===e.HORIZONTAL?(o=this._list.clientWidth,r=this._list.scrollWidth):s===e.VERTICAL&&(o=this._list.offsetHeight,r=this._list.scrollHeight),n=o/r*o,i=r>o,this.setState({buttonSize:n,buttonVisible:i},t)},e.prototype._updateListSize=function(){if(this._list){var t=this._getDirection();if(t===e.HORIZONTAL){this._list.style.height="";var n=this._getFullListDimensions();this._listSize=n.y}else if(t===e.VERTICAL){this._list.style.width="";var i=this._getFullListDimensions();this._listSize=i.x}}},e.prototype._getFullListDimensions=function(){var t=this._list.getBoundingClientRect();return new c.v(t.width,t.height)},e.prototype.update=function(){var t=this;if(!c.u.isMobile()){if(c.u.Browser.isIElte(11)){var n=this._container.offsetHeight;this._list.style.height=n+"px"}var i=this._getDirection();this._updateButtonSize(function(){t._listSize||t._updateListSize();var n=t._listSize;t.state.buttonVisible&&(n+=t.constructor.NATIVE_SCROLLBAR_WIDTH),i===e.HORIZONTAL?(t._root.style.top=t._listSize-12+"px",t._root.style.width=t._list.offsetWidth+"px"):i===e.VERTICAL&&(t._list.style.width=n+"px",t._root.style.left=t._listSize-12+"px",t._root.style.height=t._list.offsetHeight+"px")}),this._list.addEventListener("scroll",this._onListScroll)}},e.prototype._getDirection=function(){return this.props.direction||"horizontal"},e.prototype._getGradientOpacity=function(){if(!this._list)return!1;var t=this._getDirection(),n=void 0;return n=t===e.HORIZONTAL?this._list.scrollWidth-this._list.offsetWidth-this._list.scrollLeft:this._list.scrollHeight-this._list.offsetHeight-this._list.scrollTop,Math.min(Math.max(n/15,0),1)},e.prototype._getButtonStyle=function(){return"horizontal"===this._getDirection()?{left:this.state.buttonPosition,width:this.state.buttonSize}:{top:this.state.buttonPosition,height:this.state.buttonSize}},e.prototype.getList=function(){return this.refs.list},e.prototype.getRoot=function(){return this.refs.root},e.prototype._renderChild=function(t){var e=this;return c.l.cloneElement(t,{innerRef:function(n){t.props.innerRef&&t.props.innerRef(n),e._list=n}})},e.prototype.render=function(){var t=this;if(c.u.isMobile())return this.props.children;var n=this._getButtonStyle(),i=this._renderChild(this.props.children),o=this._getDirection(),r=this._getGradientOpacity();return c.l.createElement(h,{innerRef:function(e){t._container=e},styles:this.props.styles},i,this.props.noGradient||0===r?null:c.l.createElement(m,{style:{opacity:r},horizontal:o===e.HORIZONTAL,vertical:o===e.VERTICAL}),c.l.createElement(d,{innerRef:function(e){t._root=e},onMouseDown:this._onBarDragStart,onTouchStart:this._onBarDragStart,vertical:"vertical"===this.props.direction,horizontal:"horizontal"===this.props.direction},c.l.createElement(u.a,{onStart:this._onButtonDragStart,onDrag:this._onButtonDrag,onStop:this._onButtonDragStop},c.l.createElement(f,{style:n,visible:this.state.buttonVisible,onMouseDown:this._onButtonDown,vertical:"vertical"===this.props.direction,horizontal:"horizontal"===this.props.direction}))))},e}(c.b);p.HORIZONTAL="horizontal",p.VERTICAL="vertical",p.contextTypes=c.b.contextTypes,e.a=p;var h=c.w.div("120drhm","ScrollbarContainer");p.RootElement=h;var d=c.w.div("1s3c4f0",{vertical:"1dvqwqc",horizontal:"1hu63yp"},"Scrollbar"),f=c.w.div("zxujnb",{vertical:"gma9v3",horizontal:"1h5ccdj",visible:"2jlos"},"ScrollbarButton"),m=c.w.div("pc5361",{horizontal:"felmtl",vertical:"1enskgl"},"Gradient")},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(3),o=i.w.css("nsck4j","Input")},function(t,e,n){"use strict";var i=n(253),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(45),d=n(46),f=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onInputLiveChange","_onInputChange"),r.state={value:r.props.value},r}return u()(e,t),e.prototype.componentWillReceiveProps=function(t){t.value!==this.state.value&&this.setState({value:t.value})},e.prototype._onInputLiveChange=function(t){this.setState({value:t.target.value})},e.prototype._onInputChange=function(t){var e=parseFloat(t.target.value);if(o()(e))return this.setState({value:this.props.value});var n=this.props,i=n.minValue,r=n.maxValue;e=p.u.toFixed(Math.max(i,Math.min(e,r)),1),this.props.onValueChange&&this.props.onValueChange(e),this.setState({value:e})},e.prototype._renderRightPart=function(){var t=this;return p.l.createElement(v,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:void 0,innerRef:function(e){t._input=e},disabled:this.props.disabled})},e.prototype.render=function(){var t=this.props,e=t.label,n=t.inputLabel,i=t.className,o=t.disabled,r=t.styles,s="function"==typeof this._renderLeftPart;return p.l.createElement(m,{styles:r,className:i,disabled:o},p.l.createElement(g,null,s&&p.l.createElement(_,null,e&&p.l.createElement(y,{left:!0},e),this._renderLeftPart()),p.l.createElement(_,null,n&&p.l.createElement(y,null,n||" "),this._renderRightPart())))},e}(h.a);f.contextTypes=h.a.contextTypes,e.a=f;var m=p.w.div("12okzzb",{disabled:"1voy7lm"},"ValueSelection");f.RootElement=m;var g=p.w.div("15u7gri","Row"),_=p.w.div("1hy9z1m",{bottomAligned:"17xdalt"},"Column"),y=p.w.div("ts1901",{left:"1ff3rj6"},"Title"),v=Object(p.w)(d.a)("myl4ow",{disabled:"18if3pn"},"InputField")},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return s});var i=n(3),o=i.w.css("1ht9t4w","CircleSlider"),r=i.w.css("1ldv9bx","CircleSliderBackground"),s=i.w.css("7g0rty","CircleSliderKnob")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(7),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(5),f=(n.n(d),n(4)),m=(n.n(f),n(288)),g=n(289),_=n(290),y=d.Math.Vector2,v=function(t){function e(){var n;l()(this,e);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];var a=u()(this,t.call.apply(t,[this].concat(o)));return a._bindAll("_onZoomDone","_onWindowResize","_onHistoryUndo","_onBeforeTransform"),a._events=(n={},s()(n,f.Constants.EVENTS.ZOOM_DONE,a._onZoomDone),s()(n,f.Constants.EVENTS.WINDOW_RESIZE,a._onWindowResize),s()(n,f.Constants.EVENTS.HISTORY_UNDO,a._onHistoryUndo),n),a.state=d.Utils.extend(a.state,{visible:!1,canvasClickDisabled:!1}),a}return h()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.forceUpdate()},e.prototype._onBeforeTransform=function(t){this.props.controls.registerLocalHistoryChange("sprite-transform-"+t.getId(),!0)},e.prototype._onHistoryUndo=function(t){var e=!1;if(t.forEach(function(t){"sprite"===t.getOperation()&&(e=!0)}),e){var n=this.getSharedState("operation");if(!n)return;var i=this.getSharedState("selectedSprite");-1===n.getSprites().indexOf(i)&&this._selectNextSprite()}},e.prototype._onWindowResize=function(){var t=this;this.context.editor.once("rendered",function(){t.forceUpdate()})},e.prototype._onZoomDone=function(){this.context.editor.render(),this.setState({visible:!0})},e.prototype._onItemBlur=function(){},e.prototype._onCanvasClick=function(t){if(!this.state.canvasClickDisabled){this._performHitTest(f.Utils.getEventPosition(t))||(this.getSharedState("selectedSprite")&&this._onItemBlur(),this.context.screen.switchToControls("default"))}},e.prototype._onSpriteDelete=function(t){this.props.controls.registerLocalHistoryChange("sprite-deletion",!1),this.getSharedState("operation").removeSprite(t),t.dispose(),this._selectNextSprite(),this.context.editor.render()},e.prototype._onSpriteTakeToFront=function(t){this.props.controls.registerLocalHistoryChange("sprite-order",!1),this.getSharedState("operation").takeSpriteToFront(t),this.forceUpdate(),this.context.editor.render()},e.prototype._onSpriteFlipHorizontally=function(t,e){e.stopPropagation(),this.props.controls.registerLocalHistoryChange("sprite-order",!1),t.setFlipHorizontally(!t.getFlipHorizontally()),this.forceUpdate(),this.context.editor.render()},e.prototype._onSpriteDuplicate=function(t,e){e.stopPropagation(),this.props.controls.registerLocalHistoryChange("sprite-creation",!1);var n=this.getSharedState("operation"),i=t.serializeOptions();delete i.id,delete i.type,t.hasOption("image")&&(i.image=t.getImage());var o=n.getInputDimensions();i.position.add(new y(10,10).divide(o));var r=this._createSprite(i);n.addSprite(r),this.setSharedState({selectedSprite:r}),this.context.editor.render()},e.prototype._selectNextSprite=function(){var t=this.getSharedState("operation"),e=t.getSprites(),n=e[e.length-1];n?this.setSharedState({selectedSprite:n}):(this.props.controls.skipHistory=!0,this.context.screen.switchToControls("default"))},e.prototype._getComponentTypeForSprite=function(t){var e=d.Operations.SpriteOperation;switch(t.constructor){case e.StickerSprite:return m.a;case e.TextSprite:return g.a;case e.BrushSprite:return _.a}},e.prototype._getPropsForSprite=function(t){var e={};return e.hideContent=!0,e},e.prototype._renderSpriteItems=function(t){var e=this,n=this.getSharedState("selectedSprite");return t.map(function(t){var i=e._getComponentTypeForSprite(t),r=e._getPropsForSprite(t),s=n===t;return f.React.createElement(i,o()({sprite:t,selected:s,onClick:e._onCanvasClick,onBeforeChange:e._onBeforeTransform.bind(e,t),onCanvasClickDisabled:e._onCanvasClickDisabled,onCanvasClickEnabled:e._onCanvasClickEnabled,onDelete:e._onSpriteDelete.bind(e,t),onTakeToFront:e._onSpriteTakeToFront.bind(e,t),onFlipHorizontally:e._onSpriteFlipHorizontally.bind(e,t),onDuplicate:e._onSpriteDuplicate.bind(e,t),snapRotation:e.props.options.snapRotation,snapRotationTolerance:e.props.options.snapRotationTolerance,canvasControls:e,key:t.getId()},r))})},e.prototype._renderOverlayControls=function(){return null},e.prototype._renderControls=function(){var t=this;if(this.state.visible){var e=this.getSharedState("operation"),n=e.getSprites(),i=this._container&&this._getContainerStyle();return f.React.createElement(b,{className:void 0},f.React.createElement(k,{innerRef:function(e){t._innerContainer=e},style:i,className:void 0},!this.state.canvasClickDisabled&&f.React.createElement(S,{onClick:this._onCanvasClick}),f.React.createElement("div",null,this._renderSpriteItems(n),this._renderOverlayControls())))}},e}(f.CanvasControlsComponent);v.contextTypes=f.CanvasControlsComponent.contextTypes,e.a=v;var b=f.adonis.div("120drhm","CanvasControls"),k=f.adonis.div("1anj0of","Container"),S=f.adonis.div("o35414","ClickHandlerForInternetExplorer")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(7),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(5),f=(n.n(d),n(4)),m=(n.n(f),d.Math.Vector2),g=void 0;d.Operations.SpriteOperation&&(g=d.Operations.SpriteOperation.TextSprite);var _=function(t){function e(){l()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onDragStart","_onDrag","_onDragStop","_onRotateDragStart","_onRotateDrag","_onRotateDragStop","_onCornerDrag","_onCornerDragStop","_onSpriteUpdate","_onTakeToFront","_onFlipHorizontally","_onDuplicate","_onDelete"),r}return h()(e,t),e.prototype.componentDidMount=function(){this.props.sprite.on("update",this._onSpriteUpdate)},e.prototype.componentWillUnmount=function(){this.props.sprite.off("update",this._onSpriteUpdate)},e.prototype.componentWillReceiveProps=function(t){this.props.sprite.off("update",this._onSpriteUpdate),t.sprite.on("update",this._onSpriteUpdate)},e.prototype._onSpriteUpdate=function(){this.forceUpdate()},e.prototype._onTakeToFront=function(t){t.stopPropagation(),this.props.onTakeToFront&&this.props.onTakeToFront(t)},e.prototype._onFlipHorizontally=function(t){t.stopPropagation(),this.props.onFlipHorizontally&&this.props.onFlipHorizontally(t)},e.prototype._onDelete=function(t){t.stopPropagation(),this.props.onDelete&&this.props.onDelete(t)},e.prototype._onDuplicate=function(t){t.stopPropagation(),this.props.onDuplicate&&this.props.onDuplicate(t)},e.prototype._onBeforeScale=function(){},e.prototype._onScale=function(t){},e.prototype._onRotateDragStart=function(){this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset(),this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},e.prototype._onRotateDrag=function(t,e){var n=this.context.editor,i=this.props.sprite,o=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),r=o.clone(),s=e.clone().subtract(this._containerOffset).subtract(r),a=Math.atan2(s.y,s.x)-Math.PI/2,l=this.props,c=l.snapRotation,u=l.snapRotationTolerance,p=Math.round(180*a/Math.PI),h=Math.round(p/c)*c,d=p-h;Math.abs(d)<u&&(a=h*Math.PI/180),i.setRotation(a),n.render(),this.forceUpdate()},e.prototype._onRotateDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},e.prototype._onCornerDragStart=function(t,e,n,i){var o=this.context.editor,r=this.props.sprite,s=r.getDimensions(o.getSDK(),o.getOutputDimensions()),a=s.x;this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset();var l=r.getPivot(),c=r.getAnchor(),u=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),p=r.getDimensions(o.getSDK(),o.getOutputDimensions()),h=new m(p.width,p.height),d=u.clone().subtract(h.clone().multiply(c)).add(h.clone().multiply(l)).round(),f=i.clone().subtract(this._containerOffset).subtract(d);this._initialScaleSettings={width:a,mouseDistanceFromPivot:f},this._onBeforeScale(),this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},e.prototype._onCornerDrag=function(t){var e=this.context.editor,n=this.props.sprite,i=n.getRotation(),o=this._initialScaleSettings,r=o.width,s=o.mouseDistanceFromPivot,a=s.clone().add(t),l=Math.cos(i),c=Math.sin(i),u=Math.max(Math.abs(2*(a.x*l+a.y*c)),this.constructor.MIN_WIDTH),p=u/r;e.render(),this._onScale(p)},e.prototype._onCornerDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},e.prototype._isDraggingDisabled=function(){return!this.props.selected},e.prototype._onDragStart=function(){var t=this.props.sprite;this._initialPosition=t.getPosition(),this.props.onBeforeChange&&this.props.onBeforeChange()},e.prototype._onDrag=function(t){var e=this.props.sprite,n=this.context.editor,i=n.getOutputDimensions(),o=this._initialPosition.clone().add(t.divide(i));e.setPosition(o),n.render(),this.forceUpdate()},e.prototype._onDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange()},e.prototype._getAbsoluteSpritePosition=function(){var t=this.context.editor,e=t.getOutputDimensions();return this.props.sprite.getPosition().clone().multiply(e)},e.prototype._getContainerStyle=function(){return{}},e.prototype._renderKnobs=function(){var t=this,e=[];return["top","bottom"].forEach(function(n){["left","right"].forEach(function(i){var o=n+"-"+i,r=s()({},o,!0);e.push(f.React.createElement(f.DraggableComponent,{key:o,onStart:t._onCornerDragStart.bind(t,n,i),onDrag:t._onCornerDrag,onStop:t._onCornerDragStop},f.React.createElement(x,r)))})}),e},e.prototype._getSpriteDimensions=function(){var t=this.context.editor,e=this.props.sprite,n=t.getOutputDimensions();return e.getDimensions(t.getSDK(),n)},e.prototype._getOverlayPosition=function(){var t=this.context.editor,e=this.props.sprite,n=t.getOutputDimensions(),i=this._getSpriteDimensions(),o=e.getPosition().clone().multiply(n),r=e.getRotation(),s=Math.sin(r),a=Math.cos(r),l=new m(Math.abs(i.x*a)+Math.abs(i.y*s),Math.abs(i.x*s)+Math.abs(i.y*a));return new m(o.x,o.y-l.y/2-70).clamp(new m(80,20),n.clone().subtract(80,70))},e.prototype._renderOverlayControls=function(){if(this.props.selected)return f.React.createElement(f.CanvasOverlayControlsComponent,{takeToFront:!0,flipHorizontally:!(this.props.sprite instanceof g),duplicate:!0,delete:!0,position:this._getOverlayPosition(),onTakeToFront:this._onTakeToFront,onFlipHorizontally:this._onFlipHorizontally,onDuplicate:this._onDuplicate,onDelete:this._onDelete})},e.prototype._getItemControlsProps=function(){return{}},e.prototype.render=function(){var t=this,e=this.props,n=e.selected,i=e.sprite,r=this.state.editing,s=!r,a=[this._renderKnobs(),f.React.createElement(S,{key:"rotateControls"},f.React.createElement(f.DraggableComponent,{onStart:this._onRotateDragStart,onDrag:this._onRotateDrag,onStop:this._onRotateDragStop},f.React.createElement(w,null)))],l=this._getItemControlsProps(),c=f.React.createElement(b,o()({style:this._getContainerStyle()},l),a);return f.React.createElement(f.DraggableComponent,{onStart:this._onDragStart,onStop:this._onDragStop,onDrag:this._onDrag,disabled:this._isDraggingDisabled()},f.React.createElement(y,{onClick:this.props.onClick,"data-type":i.constructor.type,"data-selected":n,className:void 0},this._renderOverlayControls(),f.React.createElement(v,{style:this._getContainerStyle(),editing:n&&r,innerRef:function(e){t._container=e},className:void 0},f.React.createElement(k,null,this._renderContent()),n&&!s&&a),n&&s&&c))},e}(f.BaseComponent);_.contextTypes=f.BaseComponent.contextTypes,_.MIN_WIDTH=1,_.defaultProps={snapRotation:90,snapRotationTolerance:5},e.a=_;var y=f.adonis.div("120drhm","OuterContainer"),v=f.adonis.div("bkf7u8",{editing:"64zghi"},"Container"),b=f.adonis.div("36haff","ItemControls"),k=f.adonis.div("120drhm","Content"),S=f.adonis.div("77tiy3","RotateControl"),C=f.adonis.div("mznefm","Knob"),w=Object(f.adonis)(C)("1en5760","RotateKnob"),x=Object(f.adonis)(C)("bdmepn",{"top-left":"1dtvxe8","top-right":"1tu191k","bottom-left":"1we5ut6","bottom-right":"f2wva1"},"CornerKnob")},function(t,e,n){t.exports=!n(18)&&!n(23)(function(){return 7!=Object.defineProperty(n(48)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var i=n(35),o=n(11),r=n(78),s=n(19),a=n(21),l=n(24),c=n(126),u=n(37),p=n(130),h=n(9)("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,m,g,_,y){c(n,e,m);var v,b,k,S=function(t){if(!d&&t in E)return E[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},C=e+" Iterator",w="values"==g,x=!1,E=t.prototype,O=E[h]||E["@@iterator"]||g&&E[g],T=!d&&O||S(g),R=g?w?S("entries"):T:void 0,D="Array"==e?E.entries||O:O;if(D&&(k=p(D.call(new t)))!==Object.prototype&&k.next&&(u(k,C,!0),i||a(k,h)||s(k,h,f)),w&&O&&"values"!==O.name&&(x=!0,T=function(){return O.call(this)}),i&&!y||!d&&!x&&E[h]||s(E,h,T),l[e]=T,l[C]=f,g)if(v={values:w?T:S("values"),keys:_?T:S("keys"),entries:R},y)for(b in v)b in E||r(E,b,v[b]);else o(o.P+o.F*(d||x),e,v);return v}},function(t,e,n){t.exports=n(19)},function(t,e,n){var i=n(21),o=n(25),r=n(128)(!1),s=n(53)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~r(c,n)||c.push(n));return c}},function(t,e,n){var i=n(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(50),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(10).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(79),o=n(55).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(39),o=n(33),r=n(25),s=n(49),a=n(21),l=n(76),c=Object.getOwnPropertyDescriptor;e.f=n(18)?c:function(t,e){if(t=r(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(155),o=n.n(i),r=o.a;o.a},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(40),h=n.n(p),d=n(60),f=n.n(d),m=n(5),g=(n.n(m),function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._events={},r._needsStyleFixes=!1,r._bindAll("fixStyles"),r}return u()(e,t),e.prototype.fixStyles=function(){return o.a.resolve()},e.prototype.shouldComponentUpdate=function(t,e){return!m.Utils.shallowEqual(this.props,t)||!m.Utils.shallowEqual(this.state,e)},e.prototype.componentDidMount=function(){this._bindEvents(),this._needsStyleFixes&&(this.fixStyles(),this.context.options.responsive&&window.addEventListener("resize",this.fixStyles))},e.prototype.componentWillUnmount=function(){this._unbindEvents(),(this.context&&this.context.options||this.props.options).responsive&&this._needsStyleFixes&&window.removeEventListener("resize",this.fixStyles)},e.prototype._cloneProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return m.Utils.extend({},t)},e.prototype._bindAll=function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){if("function"!=typeof t[e])throw new Error("_bindAll: `"+t.constructor.name+"."+e+"` is not a function.");t[e]=t[e].bind(t)})},e.prototype._t=function(t,e){return this.context.ui.translate(t,e)},e.prototype._getAssetPath=function(){var t;return(t=this.context.ui).getAssetPath.apply(t,arguments)},e.prototype._bindEvents=function(){for(var t in this._events){var e=this._events[t];this.context.mediator.on(t,e)}},e.prototype._unbindEvents=function(){for(var t in this._events){var e=this._events[t];this.context.mediator.off(t,e)}},e.prototype._emitEvent=function(t){for(var e,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];(e=this.context.mediator).emit.apply(e,[t].concat(i))},e.prototype.render=function(){return h.a.createElement("div",null)},e}(h.a.Component));g.contextTypes={appComponent:f.a.object,editor:f.a.object,ui:f.a.object,options:f.a.object,mediator:f.a.object,screen:f.a.object,theme:f.a.object},e.a=g},function(t,e,n){var i=n(61),o=n(9)("iterator"),r=n(24);t.exports=n(8).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(12),o=n(32),r=n(9)("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[r])?e:o(n)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(12),o=n(17),r=n(63);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,p,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d,f=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=n(185),r=i(o),s=n(188),a=i(s);e.default=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,l=(0,a.default)(t);!(i=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";e.a={DEFAULTS:{FILTERS:[{identifier:"imgly_filters_analog",defaultName:"Analog",filters:[{identifier:"imgly_lut_cool",defaultName:"Cool",lutImage:"filters/imgly_lut_cool_5_5_128.png"},{identifier:"imgly_lut_blues",defaultName:"Blues",lutImage:"filters/imgly_lut_blues_5_5_128.png"},{identifier:"imgly_lut_blueshadows",defaultName:"Blue Shadows",lutImage:"filters/imgly_lut_blueshadows_5_5_128.png"},{identifier:"imgly_lut_k6",defaultName:"K6",lutImage:"filters/imgly_lut_k6_5_5_128.png"},{identifier:"imgly_lut_kdynamic",defaultName:"KDynamic",lutImage:"filters/imgly_lut_kdynamic_5_5_128.png"},{identifier:"imgly_lut_lucid",defaultName:"Lucid",lutImage:"filters/imgly_lut_lucid_5_5_128.png"},{identifier:"imgly_lut_pale",defaultName:"Pale",lutImage:"filters/imgly_lut_pale_5_5_128.png"}]},{identifier:"imgly_filters_bw",defaultName:"Black & White",filters:[{identifier:"imgly_lut_sin",defaultName:"Sin",lutImage:"filters/imgly_lut_sin_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_ad1920",defaultName:"1920 A.D.",lutImage:"filters/imgly_lut_ad1920_5_5_128.png"},{identifier:"imgly_lut_bw",defaultName:"B & W",lutImage:"filters/imgly_lut_bw_5_5_128.png"},{identifier:"imgly_lut_litho",defaultName:"Litho",lutImage:"filters/imgly_lut_litho_5_5_128.png"},{identifier:"imgly_lut_plate",defaultName:"Plate",lutImage:"filters/imgly_lut_plate_5_5_128.png"},{identifier:"imgly_lut_x400",defaultName:"X400",lutImage:"filters/imgly_lut_x400_5_5_128.png"}]},{identifier:"imgly_filters_retro",defaultName:"Retro",filters:[{identifier:"imgly_lut_celsius",defaultName:"Celsius",lutImage:"filters/imgly_lut_celsius_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_k2",defaultName:"K2",lutImage:"filters/imgly_lut_k2_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_sepiahigh",defaultName:"Sepia High",lutImage:"filters/imgly_lut_sepiahigh_5_5_128.png"},{identifier:"imgly_lut_ancient",defaultName:"Ancient",lutImage:"filters/imgly_lut_ancient_5_5_128.png"},{identifier:"imgly_lut_classic",defaultName:"Classic",lutImage:"filters/imgly_lut_classic_5_5_128.png"},{identifier:"imgly_lut_eighties",defaultName:"Eighties",lutImage:"filters/imgly_lut_eighties_5_5_128.png"},{identifier:"imgly_lut_elder",defaultName:"Elder",lutImage:"filters/imgly_lut_elder_5_5_128.png"},{identifier:"imgly_lut_glam",defaultName:"Glam",lutImage:"filters/imgly_lut_glam_5_5_128.png"},{identifier:"imgly_lut_gobblin",defaultName:"Gobblin",lutImage:"filters/imgly_lut_gobblin_5_5_128.png"},{identifier:"imgly_lut_orchid",defaultName:"Orchid",lutImage:"filters/imgly_lut_orchid_5_5_128.png"},{identifier:"imgly_lut_seventies",defaultName:"Seventies",lutImage:"filters/imgly_lut_seventies_5_5_128.png"}]},{identifier:"imgly_filters_special",defaultName:"Special",filters:[{identifier:"imgly_lut_fixie",defaultName:"Fixie",lutImage:"filters/imgly_lut_fixie_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_colorful",defaultName:"Colorful",lutImage:"filters/imgly_lut_colorful_5_5_128.png"},{identifier:"imgly_lut_cottoncandy",defaultName:"Cotton Candy",lutImage:"filters/imgly_lut_cottoncandy_5_5_128.png"},{identifier:"imgly_lut_food",defaultName:"Food",lutImage:"filters/imgly_lut_food_5_5_128.png"},{identifier:"imgly_lut_highcontrast",defaultName:"High Contrast",lutImage:"filters/imgly_lut_highcontrast_5_5_128.png"},{identifier:"imgly_lut_k1",defaultName:"K1",lutImage:"filters/imgly_lut_k1_5_5_128.png"},{identifier:"imgly_lut_lomo100",defaultName:"Lomo 100",lutImage:"filters/imgly_lut_lomo100_5_5_128.png"},{identifier:"imgly_lut_neat",defaultName:"Neat",lutImage:"filters/imgly_lut_neat_5_5_128.png"},{identifier:"imgly_lut_nogreen",defaultName:"No Green",lutImage:"filters/imgly_lut_nogreen_5_5_128.png"},{identifier:"imgly_lut_pola669",defaultName:"Pola 669",lutImage:"filters/imgly_lut_pola669_5_5_128.png"},{identifier:"imgly_lut_polasx",defaultName:"Pola SX",lutImage:"filters/imgly_lut_polasx_5_5_128.png"},{identifier:"imgly_lut_pro400",defaultName:"Pro 400",lutImage:"filters/imgly_lut_pro400_5_5_128.png"},{identifier:"imgly_lut_twilight",defaultName:"Twilight",lutImage:"filters/imgly_lut_twilight_5_5_128.png"},{identifier:"imgly_lut_settled",defaultName:"Settled",lutImage:"filters/imgly_lut_settled_5_5_128.png"},{identifier:"imgly_lut_steel",defaultName:"Steel",lutImage:"filters/imgly_lut_steel_5_5_128.png"}]},{identifier:"imgly_filters_summer",defaultName:"Summer",filters:[{identifier:"imgly_lut_texas",defaultName:"Texas",lutImage:"filters/imgly_lut_texas_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_mellow",defaultName:"Mellow",lutImage:"filters/imgly_lut_mellow_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_chest",defaultName:"Chest",lutImage:"filters/imgly_lut_chest_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_creamy",defaultName:"Creamy",lutImage:"filters/imgly_lut_creamy_5_5_128.png"},{identifier:"imgly_lut_evening",defaultName:"Evening",lutImage:"filters/imgly_lut_evening_5_5_128.png"},{identifier:"imgly_lut_fall",defaultName:"Fall",lutImage:"filters/imgly_lut_fall_5_5_128.png"},{identifier:"imgly_lut_front",defaultName:"Front",lutImage:"filters/imgly_lut_front_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_highcarb",defaultName:"High Carb",lutImage:"filters/imgly_lut_highcarb_5_5_128.png"},{identifier:"imgly_lut_keen",defaultName:"Keen",lutImage:"filters/imgly_lut_keen_5_5_128.png"},{identifier:"imgly_lut_pitched",defaultName:"Pitched",lutImage:"filters/imgly_lut_pitched_5_5_128.png"},{identifier:"imgly_lut_soft",defaultName:"Soft",lutImage:"filters/imgly_lut_soft_5_5_128.png"},{identifier:"imgly_lut_summer",defaultName:"Summer",lutImage:"filters/imgly_lut_summer_5_5_128.png"},{identifier:"imgly_lut_sunset",defaultName:"Sunset",lutImage:"filters/imgly_lut_sunset_5_5_128.png"},{identifier:"imgly_lut_tender",defaultName:"Tender",lutImage:"filters/imgly_lut_tender_5_5_128.png"}]},{identifier:"imgly_filters_winter",defaultName:"Winter",filters:[{identifier:"imgly_lut_fridge",defaultName:"Fridge",lutImage:"filters/imgly_lut_fridge_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_bleached",defaultName:"Bleached",lutImage:"filters/imgly_lut_bleached_5_5_128.png"},{identifier:"imgly_lut_bleachedblue",defaultName:"Bleached Blue",lutImage:"filters/imgly_lut_bleachedblue_5_5_128.png"},{identifier:"imgly_lut_breeze",defaultName:"Breeze",lutImage:"filters/imgly_lut_breeze_5_5_128.png"},{identifier:"imgly_lut_lenin",defaultName:"Lenin",lutImage:"filters/imgly_lut_lenin_5_5_128.png"},{identifier:"imgly_lut_quozi",defaultName:"Quozi",lutImage:"filters/imgly_lut_quozi_5_5_128.png"},{identifier:"imgly_lut_winter",defaultName:"Winter",lutImage:"filters/imgly_lut_winter_5_5_128.png"}]}],OVERLAYS:[{identifier:"imgly_overlay_golden",defaultName:"Golden",image:"overlays/imgly_overlay_golden.jpg",thumbnail:"overlays/imgly_overlay_golden_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_bokeh",defaultName:"Bokeh",image:"overlays/imgly_overlay_bokeh.jpg",thumbnail:"overlays/imgly_overlay_bokeh_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_hearts",defaultName:"Hearts",image:"overlays/imgly_overlay_hearts.jpg",thumbnail:"overlays/imgly_overlay_hearts_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak1",defaultName:"Light Leak",image:"overlays/imgly_overlay_lightleak1.jpg",thumbnail:"overlays/imgly_overlay_lightleak1_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak2",defaultName:"Light Leak 2",image:"overlays/imgly_overlay_lightleak2.jpg",thumbnail:"overlays/imgly_overlay_lightleak2_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_rain",defaultName:"Rain",image:"overlays/imgly_overlay_rain.jpg",thumbnail:"overlays/imgly_overlay_rain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_wood",defaultName:"Wood",image:"overlays/imgly_overlay_wood.jpg",thumbnail:"overlays/imgly_overlay_wood_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_mosaic",defaultName:"Mosaic",image:"overlays/imgly_overlay_mosaic.jpg",thumbnail:"overlays/imgly_overlay_mosaic_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_chop",defaultName:"Chop",image:"overlays/imgly_overlay_chop.jpg",thumbnail:"overlays/imgly_overlay_chop_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_vintage",defaultName:"Vintage",image:"overlays/imgly_overlay_vintage.jpg",thumbnail:"overlays/imgly_overlay_vintage_thumb.jpg",blendMode:"darken"},{identifier:"imgly_overlay_metal",defaultName:"Metal",image:"overlays/imgly_overlay_metal.jpg",thumbnail:"overlays/imgly_overlay_metal_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_paper",defaultName:"Paper",image:"overlays/imgly_overlay_paper.jpg",thumbnail:"overlays/imgly_overlay_paper_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_painting",defaultName:"Painting",image:"overlays/imgly_overlay_painting.jpg",thumbnail:"overlays/imgly_overlay_painting_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_grain",defaultName:"Grain",image:"overlays/imgly_overlay_grain.jpg",thumbnail:"overlays/imgly_overlay_grain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_clouds",defaultName:"Clouds",image:"overlays/imgly_overlay_clouds.jpg",thumbnail:"overlays/imgly_overlay_clouds_thumb.jpg",blendMode:"softLight"},{identifier:"imgly_overlay_wall1",defaultName:"Wall",image:"overlays/imgly_overlay_wall1.jpg",thumbnail:"overlays/imgly_overlay_wall1_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_wall2",defaultName:"Wall 2",image:"overlays/imgly_overlay_wall2.jpg",thumbnail:"overlays/imgly_overlay_wall2_thumb.jpg",blendMode:"overlay"}],FRAME_CATEGORIES:[{identifier:"imgly_frame_generic",defaultName:"Generic",metaData:{backgroundImage:"frames/generic.png"},frames:[{identifier:"imgly_frame_dia",defaultName:"Dia",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_left.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_right.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",defaultName:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",defaultName:"Black Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",defaultName:"Low Poly",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",defaultName:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}}]}],STICKER_CATEGORIES:[{identifier:"imgly_sticker_emoticons",defaultName:"Emoticons",metaData:{backgroundImage:"stickers/emoticons/background.png"},stickers:[{identifier:"imgly_sticker_emoticons_alien",defaultName:"Alien",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_angel",defaultName:"Angel",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png"],width:62,height:64}}},{identifier:"imgly_sticker_emoticons_angry",defaultName:"Angry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_anxious",defaultName:"Anxious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_asleep",defaultName:"Asleep",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_attention",defaultName:"Attention",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png"],width:62,height:60}}},{identifier:"imgly_sticker_emoticons_baby_chicken",defaultName:"Baby Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42}}},{identifier:"imgly_sticker_emoticons_batman",defaultName:"Batman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_beer",defaultName:"Beer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png"],width:62,height:59}}},{identifier:"imgly_sticker_emoticons_blush",defaultName:"Blush",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_boxer",defaultName:"Boxer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_business",defaultName:"Business",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png"],width:60,height:63},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png"],width:60,height:63}}},{identifier:"imgly_sticker_emoticons_chicken",defaultName:"Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png"],width:63,height:55},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png"],width:63,height:55}}},{identifier:"imgly_sticker_emoticons_cool",defaultName:"Cool",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_cry",defaultName:"Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_deceased",defaultName:"Deceased",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_devil",defaultName:"Devil",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_duckface",defaultName:"Duckface",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_furious",defaultName:"Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png"],width:62,height:61},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png"],width:62,height:61}}},{identifier:"imgly_sticker_emoticons_grin",defaultName:"Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_guitar",defaultName:"Guitar",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png"],width:64,height:60}}},{identifier:"imgly_sticker_emoticons_harry_potter",defaultName:"Harry Potter",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62}}},{identifier:"imgly_sticker_emoticons_hippie",defaultName:"Hippie",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_hitman",defaultName:"Hitman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png"],width:64,height:60}}},{identifier:"imgly_sticker_emoticons_humourous",defaultName:"Humourous",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png"],width:64,height:64}}},{identifier:"imgly_sticker_emoticons_idea",defaultName:"Idea",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png"],width:64,height:62}}},{identifier:"imgly_sticker_emoticons_impatient",defaultName:"Impatient",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_kiss",defaultName:"Kiss",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_kisses",defaultName:"Kisses",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_laugh",defaultName:"Laugh",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_loud_cry",defaultName:"Loud Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58}}},{identifier:"imgly_sticker_emoticons_loving",defaultName:"Loving",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_masked",defaultName:"Masked",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_music",defaultName:"Music",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png"],width:62,height:54},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png"],width:62,height:54}}},{identifier:"imgly_sticker_emoticons_nerd",defaultName:"Nerd",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png"],width:64,height:58}}},{identifier:"imgly_sticker_emoticons_ninja",defaultName:"Ninja",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",defaultName:"Not Speaking To You",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_pig",defaultName:"Pig",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png"],width:63,height:41},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png"],width:63,height:41}}},{identifier:"imgly_sticker_emoticons_pumpkin",defaultName:"Pumpkin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60}}},{identifier:"imgly_sticker_emoticons_question",defaultName:"Question",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_rabbit",defaultName:"Rabbit",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png"],width:65,height:47},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png"],width:65,height:47}}},{identifier:"imgly_sticker_emoticons_sad",defaultName:"Sad",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_sick",defaultName:"Sick",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_skateboard",defaultName:"Skateboard",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png"],width:62,height:64}}},{identifier:"imgly_sticker_emoticons_skull",defaultName:"Skull",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png"],width:62,height:62}}},{identifier:"imgly_sticker_emoticons_sleepy",defaultName:"Sleepy",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png"],width:62,height:60}}},{identifier:"imgly_sticker_emoticons_smile",defaultName:"Smile",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_smoking",defaultName:"Smoking",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_sobbing",defaultName:"Sobbing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png"],width:62,height:59}}},{identifier:"imgly_sticker_emoticons_star",defaultName:"Star",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png"],width:64,height:64}}},{identifier:"imgly_sticker_emoticons_steaming_furious",defaultName:"Steaming Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_sunbathing",defaultName:"Sunbathing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_tired",defaultName:"Tired",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png"],width:62,height:60}}},{identifier:"imgly_sticker_emoticons_tongue_out_wink",defaultName:"Tongue Out Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_wave",defaultName:"Wave",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png"],width:62,height:60}}},{identifier:"imgly_sticker_emoticons_wide_grin",defaultName:"Wide Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_wink",defaultName:"Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png"],width:62,height:58}}},{identifier:"imgly_sticker_emoticons_wrestler",defaultName:"Wrestler",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png"],width:62,height:60}}}]},{identifier:"imgly_sticker_shapes",defaultName:"Shapes",metaData:{backgroundImage:"stickers/shapes/background.png"},stickers:[{identifier:"imgly_sticker_shapes_arrow_02",defaultName:"Arrow 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236}}},{identifier:"imgly_sticker_shapes_arrow_03",defaultName:"Arrow 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_01",defaultName:"Badge 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_04",defaultName:"Badge 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589}}},{identifier:"imgly_sticker_shapes_badge_06",defaultName:"Badge 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733}}},{identifier:"imgly_sticker_shapes_badge_08",defaultName:"Badge 4",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_11",defaultName:"Badge 5",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_12",defaultName:"Badge 6",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903}}},{identifier:"imgly_sticker_shapes_badge_13",defaultName:"Badge 7",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718}}},{identifier:"imgly_sticker_shapes_badge_15",defaultName:"Badge 8",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_18",defaultName:"Badge 9",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_19",defaultName:"Badge 10",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png"],width:2127,height:481},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png"],width:2127,height:481}}},{identifier:"imgly_sticker_shapes_badge_20",defaultName:"Badge 11",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404}}},{identifier:"imgly_sticker_shapes_badge_28",defaultName:"Badge 12",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_32",defaultName:"Badge 13",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_35",defaultName:"Badge 14",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002}}},{identifier:"imgly_sticker_shapes_badge_36",defaultName:"Badge 15",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668}}},{identifier:"imgly_sticker_shapes_spray_01",defaultName:"Spray 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039}}},{identifier:"imgly_sticker_shapes_spray_03",defaultName:"Spray 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779}}},{identifier:"imgly_sticker_shapes_spray_04",defaultName:"Spray 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248}}}]}]}}},function(t,e,n){(function(e){(function(){var n,i,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-o)/1e6},i=e.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},o=n()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(e,n(92))},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(15),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(202),d=n(204),f=n(205),m=n(206),g=n(207),_=n(208),y=n(210),v=function(t){function e(n,i,r){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o()(this,e);var a=l()(this,t.call(this));if(a._ui=n,a._options=i,a._mediator=r,a._ready=!1,a._padding=[0,0,0,0],a._offset=new p.v(0,0),a._shallow=s,s||(a._initSDK(),a._onZoom=a._onZoom.bind(a),a._onUndo=a._onUndo.bind(a),a.history=new y.a(a,a._sdk,a._mediator),a.history.on("undo",a._onUndo),a.zoom=new _.a(a,a._sdk,a._mediator),a.zoom.on("set",a._onZoom),a._initSerializers()),a.operations=new f.a(a,a._sdk,a._mediator),a.controls=new m.a(a,a._sdk,a._mediator),a.features=new g.a(a,a._sdk,a._mediator),a._sdk){var c=[];for(var u in a._operations)c.push(a._operations[u]);a._sdk.registerOperations(c)}return a._running=!1,a._renderRequested=!0,a._renderCallbacks=[],a._animationFrameRequest=null,a.render=a.render.bind(a),a._tick=a._tick.bind(a),a}return u()(e,t),e.prototype.setImage=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._sdk.getRenderer(),o=new p.v(e.naturalWidth,e.naturalHeight),r=1e6*this.getMaxMegapixels(),s=i.getMaxDimensions();n&&this.reset();var a=new d.a(e,r,s),l=null,c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],void 0),r=void 0;t._sdk.getImage()&&(i=t.getInputDimensions(),r=n.clone().divide(i)),t._setImage(e,l,n),r&&t.broadcastScale(r),t._initWatermark(),t._ready=!0,t.emit("ready")};a.needsResize()?(this.emit("resize"),l=this._sdk.parseExif(e),a.resize().then(function(e){var n=e.canvas,i=e.dimensions,o=e.reason;n.src="data:image/jpeg;base64,",t.emit("resized",{dimensions:i,reason:o}),c(n,i,o)})):c(e)},e.prototype._initWatermark=function(){this._options.editor.watermarkImage&&(this._watermarkOperation=this.operations.getOrCreate("watermark",{image:this._options.editor.watermarkImage}))},e.prototype._initSDK=function(){var t=this._options,e=t.logLevel,n=t.displayWelcomeMessage,i=t.debug,o=t.license,r=this._options.editor,s=r.smoothDownscaling,a=r.smoothUpscaling,l=r.preferredRenderer,c=r.pixelRatio,u={logLevel:e,debug:i,displayWelcomeMessage:n,pixelRatio:c,smoothDownscaling:s,smoothUpscaling:a,transparent:!0,license:o};this._sdk=new p.p(l,u)},e.prototype._onZoom=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.fixOffset(),this.render(function(){e&&e()})},e.prototype.fixOffset=function(){this._offset=this._clampOffset(this._offset)},e.prototype._onUndo=function(){this.render()},e.prototype.getRotation=function(){return this._sdk.getRotation()},e.prototype.setRotation=function(t){this._sdk.setRotation(t)},e.prototype.getSpriteScale=function(){return this._sdk.getSpriteScale()},e.prototype.setSpriteScale=function(t){this._sdk.setSpriteScale(t)},e.prototype.isToolAllowed=function(t){return!!this._shallow||this._sdk._l.isToolAllowed(t)},e.prototype.isToolEnabled=function(t){return-1!==this._options.editor.tools.indexOf(t)},e.prototype.getMaxMegapixels=function(){var t=this._options.editor.maxMegaPixels;return p.u.isMobile()?t.mobile:t.desktop},e.prototype.getOutputDimensions=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputDimensions(t)},e.prototype.getOutputTextureDimensions=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputTextureDimensions(t)},e.prototype.getFinalDimensions=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getFinalDimensions(t)},e.prototype.getCanvasDimensions=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this._sdk.getCanvas(),n=new p.v(e.offsetWidth,e.offsetHeight);return t&&n.subtract(this._padding[1]+this._padding[3],this._padding[0]+this._padding[2]),n},e.prototype._setImage=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._sdk.setAllOperationsToDirty(),this._options.editor.image=t,this._sdk.setImage(t,e,n),this.zoom.auto(!0,!0),this.emit("new-image")},e.prototype.export=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty();var n=this._options.editor.export;return new h.a(this._sdk,n,e).export().then(function(e){return t.emit("export",e),t._mediator.emit(p.d.EVENTS.EXPORT,e,t),t._watermarkOperation&&(t._watermarkOperation.setEnabled(!0),t._sdk.render()),t._sdk.setAllOperationsToDirty(),e})},e.prototype._initSerializers=function(){this._serializers={"1.0.0":n(212).default,"1.0.1":n(218).default,"2.0.0":n(219).default,"2.0.1":n(220).default,"3.0.0":n(223).default}},e.prototype.serialize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3.0.0",n=this._serializers[e];return n?new n(this).serialize(t):p.j.reject(new Error("No serializer for version "+e+" found."))},e.prototype.deserialize=function(t){var e=this,n=this._serializers[t.version];return n?new n(this).deserialize(t).then(function(){e.zoom.auto(!0,!0)}):p.j.reject(new Error("No serializer for version "+t.version+" found."))},e.prototype._applyOffset=function(){var t=this._offset.clone();t.x-=this._padding[1]/2,t.x+=this._padding[3]/2,t.y-=this._padding[2]/2,t.y+=this._padding[0]/2,this._sdk.setOffset(t)},e.prototype.start=function(){this._animationFrameRequest=Object(p.z)(this._tick)},e.prototype.stop=function(){this._running=!1,this._animationFrameRequest&&(Object(p.x)(this._animationFrameRequest),this._renderCallbacks=[])},e.prototype.render=function(t){this._renderRequested=!0,t&&this._renderCallbacks.push(t)},e.prototype._tick=function(){var t=this;if(this.zoom.tick(),this._renderRequested){var e=this._renderCallbacks.slice(0);this._renderCallbacks=[],this._render().then(function(){e.forEach(function(t){return t()}),t._animationFrameRequest=Object(p.z)(t._tick)}),this._renderRequested=!1}else this._animationFrameRequest=Object(p.z)(this._tick)},e.prototype._render=function(){var t=this;return this._ready?(this._applyOffset(),this._sdk.render().then(function(){t._lastOutputBounds=t._sdk.getSprite().getBounds(),t.emit("rendered")}).catch(function(e){p.h.error(t.constructor.name,"An error occurred while rendering: "+e.message),p.h.printError(e),t.emit("render-error",e)})):p.j.resolve()},e.prototype.reset=function(){this._sdk.reset(),this.history.reset(),this.operations.reset(),this.features.reset(),this.emit("reset")},e.prototype.dispose=function(){this.stop(),this._sdk.dispose()},e.prototype.isReady=function(){return this._ready},e.prototype.getRenderer=function(){return this._sdk.getRenderer()},e.prototype.getSDK=function(){return this._sdk},e.prototype.getInputDimensions=function(){return this._sdk.getInputDimensions()},e.prototype.getPadding=function(){return this._padding},e.prototype.setPadding=function(t){this._padding=t||[0,0,0,0]},e.prototype.getImage=function(){return this._options.editor.image},e.prototype.getOptions=function(){return this._options},e.prototype.getUI=function(){return this._ui},e.prototype.broadcastScale=function(t){var e=this;["sprite"].forEach(function(n){var i=e.operations.get(n);i&&i.scale(t)})},e.prototype.broadcastTransform=function(t,e){var n=this,i=new p.p.Operations.TransformOperation.TransformChange(t,e);["sprite","selective-blur","radial-focus","mirrored-focus","linear-focus","blur"].forEach(function(t){var e=n.operations.get(t);e&&e.transform(i)})},e.prototype.broadcastFlip=function(t){var e=this;["mirrored-focus","radial-focus","sprite","selective-blur"].forEach(function(n){var i=e.operations.get(n);i&&i.flip(t)})},e.prototype.broadcastRotate=function(t){var e=this;["transform","mirrored-focus","radial-focus","sprite","selective-blur"].forEach(function(n){var i=e.operations.get(n);i&&i.rotate(t)})},e.prototype._clampOffset=function(t){var e=this.getCanvasDimensions(),n=this._sdk.getOutputDimensions(!1),i=e.clone().subtract(n).divide(2).clamp(null,new p.v(0,0)),o=n.clone().subtract(e).divide(2).clamp(new p.v(0,0),null);return t.clone().clamp(i,o).round()},s()(e,[{key:"offset",get:function(){return this._offset},set:function(t){this._offset=this._clampOffset(t)}},{key:"isDraggable",get:function(){var t=this.zoom.targetLevel>this.zoom.defaultLevel;return this.features.isEnabled("drag")&&t}},{key:"isShallow",get:function(){return this._shallow}}]),e}(p.e);e.a=v},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(3),l=2*Math.PI,c=function(){function t(e){s()(this,t),this._editor=e,this._serializeOperations=this._serializeOperations.bind(this)}return t.prototype.serialize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=a.q.defaults(t,{image:!0});var e={version:this.constructor.version};return this._serializeInputImage(e).then(this._serializeOperations)},t.prototype._serializeInputImage=function(t){var e=this._editor.getImage(),n=e.width,i=e.height;if(!this._options.image)return t.inputImage={width:n,height:i},o.a.resolve(t);var r=a.q.createCanvas();r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0);var s=r.toDataURL(a.f.PNG);return t.inputImage={type:a.f.PNG,data:s.replace(/^data:image\/(.*?);base64,/,""),width:n,height:i},o.a.resolve(t)},t.prototype._serializeOperations=function(t){var e=this,n=[];return this._editor.operations.getStack().forEach(function(t){var i=e._serializeOperation(t,n);i&&n.push(i)}),t.operations=n.filter(function(t){return t}),o.a.resolve(t)},t.prototype._serializeOperation=function(t,e){switch(t.constructor.identifier){case"transform":return this._serializeTransformOperation(t);case"orientation":return this._serializeOrientationOperation(t);case"filter":return this._serializeFilterOperation(t);case"adjustments":return this._serializeAdjustmentsOperation(t);case"sprite":return this._serializeSpriteOperation(t,e);case"radial-focus":return this._serializeRadialFocusOperation(t);case"mirrored-focus":return this._serializeLinearFocusOperation(t);default:a.h.warn("Unable to serialize operation of type "+t.constructor.identifier)}},t.prototype._serializeTransformOperation=function(t){var e=t.serializeOptions(["start","end","rotation"],!0);return e.rotation=(e.rotation+l)%l,{type:"crop",options:e}},t.prototype._serializeOrientationOperation=function(t){return{type:"orientation",options:t.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)}},t.prototype._serializeFilterOperation=function(t){return"identity"===t.getIdentifier()?null:{type:"filter",options:{intensity:t.getIntensity(),name:t.getIdentifier()}}},t.prototype._serializeAdjustmentsOperation=function(t){var e=t.availableOptions,n=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"],i={};return n.forEach(function(n){var o=e[n],r=t.getOption(n),s=o.minValue,a=o.midValue,l=o.maxValue;i[n]=r<=a?(r-s)/(a-s)-1:(r-a)/(l-a)}),{type:"adjustments",options:i}},t.prototype._serializeSpriteOperation=function(t,e){var n=this,i=e.filter(function(t){return"sprite"===t.type}),o=void 0,r=!0;if(i.length?(o=i.pop(),r=!1):o={type:"sprite",options:{sprites:[]}},t.getSprites().forEach(function(e){var i=null;e instanceof t.constructor.StickerSprite?i=n._serializeSticker(t,e):e instanceof t.constructor.TextSprite?i=n._serializeText(t,e):e instanceof t.constructor.BrushSprite&&(i=n._serializeBrush(t,e)),i&&o.options.sprites.push(i)}),r)return o},t.prototype._serializeSticker=function(t,e){var n=e.getAdjustments(),i=e.serializeOptions(["identifier","position","dimensions","flipVertically","flipHorizontally","rotation"],!0);i.name=i.identifier,delete i.identifier,i.rotation=(i.rotation+l)%l;var o=n.availableOptions;return i.adjustments={brightness:n.getBrightness()-o.brightness.default,saturation:n.getSaturation()-o.saturation.default,contrast:n.getContrast()-o.contrast.default},{type:"sticker",options:i}},t.prototype._serializeText=function(t,e){var n=e.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],!0);return n.rotation=(n.rotation+l)%l,{type:"text",options:n}},t.prototype._serializeBrush=function(t,e){var n=this;return{type:"brush",options:{paths:e.getPaths().map(function(t){return n._serializePath(t)})}}},t.prototype._serializePath=function(t){var e=t.getBrush().serializeOptions(["color","size"],!0);return e.points=t.getControlPoints().map(function(t){return t.getPosition().toObject()}),e},t.prototype._serializeRadialFocusOperation=function(t){return{type:"focus",options:{type:"radial",options:t.serializeOptions(["position","radius","gradientRadius","blurRadius"],!0)}}},t.prototype._serializeLinearFocusOperation=function(t){return{type:"focus",options:{type:"linear",options:t.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}},t.prototype._getInputDimensionsForOperation=function(t){var e=!1,n=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(i){i===t&&(e=!0),e||(n=i.getNewDimensions(n))}),n},t}();e.a=c,c.version="1.0.0"},function(t,e,n){"use strict";var i=n(1),o=n.n(i),r=n(2),s=n.n(r),a=n(6),l=n.n(a),c=n(0),u=n.n(c),p=n(3),h=n(99),d=n(44),f=n(100),m=n(101),g=n(65),_=void 0;void 0!==p.p.Operations.SpriteOperation&&(_=p.p.Operations.SpriteOperation.BrushSprite);var y=function(){function t(e,n){u()(this,t),this._editor=e,this._ui=this._editor.getUI(),this._data=n,this._filterManager=new h.a(this._ui,this._getOptions("filter")),this._stickerManager=new d.a(this._ui,this._getOptions("sticker")),this._brushManager=new f.a(this._ui,this._getOptions("brush")),this._fontManager=new m.a(this._ui,this._getOptions("text"))}return t.prototype._getOptions=function(t){var e=this._editor.controls,n={};e&&e.get(t)&&(n=e.get(t).defaultOptions);var i=this._editor.getOptions();return p.q.extend({},i.editor.controlsOptions[t]||{},n)},t.prototype.deserialize=function(){var t=this;return this._validateVersion().then(function(){return t._deserializeInputImage()}).then(function(){return t._deserializeOperations()})},t.prototype._validateVersion=function(){return this._data.version!==this.constructor.version?l.a.reject(new Error("Invalid version "+this._data.version+", expected "+this.constructor.version)):l.a.resolve()},t.prototype._deserializeInputImage=function(){var t=this;return new l.a(function(e,n){var i=t._data.inputImage,o=i.data,r=i.type;if(o&&r){var s=new window.Image;s.addEventListener("load",function(){t._editor.setImage(s),e()}),s.src="data:"+r+";base64,"+o}else e()})},t.prototype._deserializeOperations=function(){var t=this;this._operationsData={},this._data.operations.forEach(function(e){t._operationsData[e.type]=e});var e=this._data.operations.map(function(e){return t._deserializeOperation(e)});return l.a.all(e)},t.prototype._deserializeOperation=function(t){switch(t.type){case"crop":return this._deserializeCropOperation(t);case"orientation":return this._deserializeOrientationOperation(t);case"filter":return this._deserializeFilterOperation(t);case"adjustments":return this._deserializeAdjustmentsOperation(t);case"sprite":return this._deserializeSpriteOperation(t);case"focus":return this._deserializeFocusOperation(t)}},t.prototype._deserializeCropOperation=function(t){var e=t.options,n=e.rotation,i=p.v.fromObject(e.start),o=p.v.fromObject(e.end);n>Math.PI&&(n-=2*Math.PI);var r={start:i,end:o};void 0!==n&&(r.rotation=n);var s=this._editor.operations.getOrCreate("transform");return this._editor.broadcastTransform(s,r),s.set(r),l.a.resolve(s)},t.prototype._deserializeOrientationOperation=function(t){var e=t.options,n=this._editor.operations.getOrCreate("orientation");n&&n.set(e)},t.prototype._deserializeFilterOperation=function(t){var e=this,n=t.options;return this._filterManager.getFilterByIdentifier(n.name)?this._filterManager.instantiateFilterWithIdentifier(n.name).then(function(t){e._editor.operations.getOrCreate("filter").set({identifier:n.name,filter:t,intensity:n.intensity})}):(p.h.warn("Deserializer","Unknown filter `"+n.name+"`"),l.a.resolve())},t.prototype._deserializeAdjustmentsOperation=function(t){var e=p.p.Operations.AdjustmentsOperation,n=t.options,i=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"],o={};return i.forEach(function(t){if(void 0!==n[t]){var i=e.prototype.availableOptions[t],r=i.minValue,s=i.midValue,a=i.maxValue,l=n[t];l=l<0?s+(s-r)*l:s+(a-s)*l,o[t]=l}}),l.a.resolve(this._editor.operations.getOrCreate("adjustments",o))},t.prototype._deserializeSpriteOperation=function(t){var e=this,n=t.options,i=this._editor.operations.getOrCreate("sprite");if(!i)return l.a.resolve();var o=n.sprites.map(function(t){return e._deserializeSprite(i,t)}).filter(function(t){return t});return l.a.all(o).then(function(t){i.setSprites(t.filter(function(t){return t}))})},t.prototype._deserializeSprite=function(t,e){switch(e.type){case"sticker":return this._deserializeSticker(t,e);case"text":return this._deserializeText(t,e);case"brush":return this._deserializeBrush(t,e)}},t.prototype._deserializeSticker=function(t,e){var n=this,i=p.p.Operations.SpriteOperation,o=e.options,r=this._stickerManager.getStickerByIdentifier(o.name),s=this._stickerManager.getURLForSticker(r);return r?new l.a(function(e,r){var a=new window.Image;a.addEventListener("load",function(){var n=i.StickerSprite.prototype.availableOptions.adjustments.structure,r=o.rotation,s=o.flipHorizontally,l=o.flipVertically,c={identifier:o.name,image:a,position:p.v.fromObject(o.position),dimensions:p.v.fromObject(o.dimensions),rotation:r,flipHorizontally:s,flipVertically:l,adjustments:{}};void 0!==o.adjustments&&["brightness","contrast","saturation"].forEach(function(t){void 0!==o.adjustments[t]&&(c.adjustments[t]=o.adjustments[t]+n[t].default)}),e(t.createSticker(c))}),a.crossOrigin="Anonymous",a.src=n._editor.getUI().getAssetPath(s)}):(p.h.warn("Deserializer","Unknown sticker '"+o.name+"'. Skipping sprite."),l.a.resolve())},t.prototype._deserializeText=function(t,e){var n=e.options,i=n.fontSize,o=n.lineHeight,r=n.fontFamily,s=n.fontWeight,a=n.alignment,l=n.rotation,c=n.maxWidth,u=n.color,h=n.backgroundColor,d=new g.a(this._ui),f=this._fontManager.getFontByFontFamily(r);return f||(f=this._fontManager.getDefaultFont()),d.setFonts([f]),d.load().then(function(){return t.createText({fontSize:i,lineHeight:o,fontFamily:r,fontWeight:s,alignment:a,rotation:l,maxWidth:c,text:n.text,color:p.c.fromArray(u),backgroundColor:p.c.fromArray(h),position:p.v.fromObject(n.position)})})},t.prototype._deserializeBrush=function(t,e){var n=this,i=e.options,o=i.paths,r=t.createBrush();return o.forEach(function(t){n._deserializeBrushPath(r,t)}),l.a.resolve(r)},t.prototype._deserializeBrushPath=function(t,e){var n=e.points,i=this._createBrushForPath(e),o=t.createPath(i);o.setClosed(!0),n.forEach(function(t){o.addControlPoint(p.v.fromObject(t))})},t.prototype._createBrushForPath=function(t){var e=t.color,n=t.size,i=p.c.fromArray(e),r={color:i,size:n},a=this._brushManager.getFirstBrush();if(a.prototype&&a.prototype instanceof _){return new a(r)}var l=p.q.extend({},a);delete l.image;var c=function(t){function e(){return u()(this,e),o()(this,t.apply(this,arguments))}return s()(e,t),e}(_);return c.identifier=a.identifier,new c(p.q.extend({},l,r))},t.prototype._deserializeFocusOperation=function(t){var e=t.options.options;switch(t.options.type){case"radial":var n=e.position,i=e.radius,o=e.gradientRadius,r=e.blurRadius;this._editor.operations.getOrCreate("radial-focus",{position:p.v.fromObject(n),radius:i,gradientRadius:o,blurRadius:r});break;case"linear":var s=e.start,a=e.end,l=e.size,c=e.gradientSize,u=e.blurRadius;this._editor.operations.getOrCreate("mirrored-focus",{start:p.v.fromObject(s),end:p.v.fromObject(a),size:l,gradientSize:c,blurRadius:u})}},t.prototype._getInputDimensionsForOperation=function(t){var e=!1,n=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(i){i===t&&(e=!0),e||(n=i.getNewDimensions(n))}),n},t}();e.a=y,y.version="1.0.0"},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(3),l=function(){function t(e,n){s()(this,t),this._ui=e,this._options=n,this._categoriesById={},this._filtersByIdentifier={identity:a.p.Operations.FilterOperation.Filters.IdentityFilter},this._categories=a.r.DEFAULTS.FILTERS.slice(0),this._initCategories()}return t.prototype.instantiateFilterWithIdentifier=function(t){var e=this,n=this.getFilterByIdentifier(t);if(!n)return o.a.reject(new Error("Unknown filter with identifier `"+t+"`!"));if(n.prototype instanceof a.p.Operations.FilterOperation.Filter)return o.a.resolve(new n);var i=n.lutImage,r=n.resolution,s=n.horizontalTileCount,l=n.verticalTileCount,c=void 0;this._ui.getPreloader&&(c=this._ui.getPreloader().getAsset(i));var u=void 0;return u=c?o.a.resolve(c):a.g.load(this._ui.getAssetPath(i)),u.then(function(t){return a.g.load(e._ui.getAssetPath(i)).then(function(t){return new a.p.Operations.FilterOperation.Filters.ThreeDLUTFilter({image:t,resolution:r,horizontalTileCount:s,verticalTileCount:l})})})},t.prototype._initCategories=function(){var t=this;if(this._options.categories&&(this._options.replaceCategories?this._categories=this._options.categories:this._categories=a.u.mergeCategories(this._categories,this._options.categories,"filters")),this._options.availableFilters){var e=[];this._categories.forEach(function(n){var i=n.filters.filter(function(e){return-1!==t._options.availableFilters.indexOf(e.identifier)});i.length>0&&e.push({identifier:n.identifier,defaultName:n.defaultName,filters:i})}),this._categories=e}var n={identifier:"all",defaultName:"All",filters:this._categories.map(function(t){return t.filters}).reduce(function(t,e){return t.concat(e)})};this._categories.unshift(n),this._categoriesById.all=n,this._categories.forEach(function(e){t._categoriesById[e.identifier]=e}),n.filters.forEach(function(e){t._filtersByIdentifier[e.identifier]=e})},t.prototype.getFiltersForCategory=function(t){if(!this._categoriesById[t])throw new Error("Unknown filter category '"+t+"'");return this._categoriesById[t].filters},t.prototype.getFilterByIdentifier=function(t){return this._filtersByIdentifier[t]},t.prototype.getCategories=function(){return this._categories},t.prototype.getCategoryByIdentifier=function(t){return this._categoriesById[t]},t}();e.a=l},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e,n){o()(this,t),this._ui=e,this._options=n,this._brushes=[],this._brushesById={},this._addBrushes(r.d.DEFAULTS.BRUSHES);var i=this._options,s=i.brushes,a=i.replaceBrushes,l=i.availableBrushes;this._options.brushes&&this._addBrushes(s,a),l&&(this._brushes=this._brushes.filter(function(t){return-1!==l.indexOf(t.identifier)}))}return t.prototype._addBrushes=function(t,e){var n=this;e&&(this._brushes=[],this._brushesById={}),t.forEach(function(t){n._brushes.push(t),n._brushesById[t.identifier]=t})},t.prototype.getBrushByIdentifier=function(t){return this._brushesById[t]},t.prototype.getBrushes=function(){return this._brushes},t.prototype.getFirstBrush=function(){return this._brushes[0]},t}();e.a=s},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=n(213),a=n(64),l=n(102),c=function(){function t(e,n){o()(this,t),this._ui=e,this._options=n,this._fonts=[],this._variationsByIdentifier={},this._fontsByFontFamily={},this._initFonts()}return t.prototype._initFonts=function(){var t=this,e=this._options,n=e.fonts,i=e.replaceFonts,o=e.availableVariations,c=r.d.DEFAULTS.FONTS;c=i?n:c.concat(n||[]);var u=void 0;c=c.map(function(e){var n=e.fontFamily,i=e.variations;if(o&&(i=i.filter(function(t){return-1!==o.indexOf(t.identifier)})),0===i.length)return null;var r=new s.a({fontFamily:n});return i=i.map(function(e){var i=new l.a(e);return i.setFontFamily(n),i.setFont(r),e.default&&!u&&(u=i),null==i.getTextMetrics()&&a.a.warn("Missing font metrics for "+i.getIdentifier()+". The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details."),t._variationsByIdentifier[i.getIdentifier()]=i,i}),r.setVariations(i),t._fontsByFontFamily[n]=r,r}).filter(function(t){return t}),u||(u=c[0].getVariations()[0]),this._defaultVariation=u,this._fonts=c},t.prototype.getFonts=function(){return this._fonts},t.prototype.getFontByFontFamily=function(t){return this._fontsByFontFamily[t]},t.prototype.getVariationByIdentifier=function(t){return this._variationsByIdentifier[t]},t.prototype.getDefaultVariation=function(){return this._defaultVariation},t}();e.a=c},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),{100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular"}),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.getLabel=function(){var t=u[this._options.fontWeight];switch(this._options.fontStyle){case"italic":t+=" Italic"}return t},e}(c.Configurable);e.a=p,p.prototype.availableOptions={identifier:{type:c.OptionType.STRING,required:!0},fontFamily:{type:c.OptionType.STRING,required:!0},fontWeight:{type:c.OptionType.ALL,default:400},fontStyle:{type:c.OptionType.STRING,default:"normal"},textMetrics:{type:c.OptionType.OBJECT,default:null},provider:{type:c.OptionType.STRING,available:["google","file"]},filePath:{type:c.OptionType.STRING},default:{type:c.OptionType.BOOLEAN,default:!1},font:{type:c.OptionType.OBJECT}}},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(215),l=function(){function t(e){s()(this,t),this._ui=e,this._fonts=[],this._observers=[]}return t.prototype.add=function(t){this._fonts.push(t)},t.prototype.load=function(){var t=this;return 0===this._fonts.length?o.a.resolve():(this._observers=[],this._fonts.forEach(function(e){t._observers.push(new a.a(e))}),o.a.all(this._observers.map(function(t){return t.observe()})))},t.prototype.dispose=function(){this._observers.forEach(function(t){return t.dispose()})},t}();e.a=l},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(97),u=2*Math.PI,p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._serializeTransformOperation=function(t){var e=t.serializeOptions(["start","end","rotation","textureScale"],!0);return e.rotation=(e.rotation+u)%u,1!==e.textureScale&&(e.dimensions=t.getNewDimensions(t.getInputDimensions(!1))),delete e.textureScale,{type:"crop",options:e}},e}(c.a);e.a=p,p.version="1.0.1"},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(98),d=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype._deserializeOperation=function(e){return"selective-blur"===e.type?this._deserializeSelectiveBlurOperation(e):t.prototype._deserializeOperation.call(this,e)},e.prototype._deserializeCropOperation=function(t){var e=t.options,n=e.rotation,i=p.v.fromObject(e.start),r=p.v.fromObject(e.end),s=e.dimensions?p.v.fromObject(e.dimensions):null;n>Math.PI&&(n-=2*Math.PI);var a={start:i,end:r};void 0!==n&&(a.rotation=n);var l=this._editor.operations.getOrCreate("transform");if(!l)return o.a.resolve();if(this._editor.broadcastTransform(l,a),l.set(a),s){var c=r.clone().subtract(i),u=l.getInputDimensions(!1).multiply(c);l.setTextureScale(s.x/u.x)}return o.a.resolve(l)},e}(h.a);e.a=d,d.version="1.0.1"},function(t,e,n){"use strict";var i,o=n(7),r=n.n(o),s=n(3),a=s.p.Engine.Filters.OverlayFilter;e.a=(i={},r()(i,a.BLEND_MODES.NORMAL,"normal"),r()(i,a.BLEND_MODES.OVERLAY,"overlay"),r()(i,a.BLEND_MODES.HARD_LIGHT,"hard light"),r()(i,a.BLEND_MODES.SOFT_LIGHT,"soft light"),r()(i,a.BLEND_MODES.MULTIPLY,"multiply"),r()(i,a.BLEND_MODES.DARKEN,"darken"),r()(i,a.BLEND_MODES.LIGHTEN,"lighten"),r()(i,a.BLEND_MODES.SCREEN,"screen"),r()(i,a.BLEND_MODES.COLOR_BURN,"color burn"),i)},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e,n){o()(this,t),this._ui=e,this._options=n,this._categoriesById={},this._categories=[],this._framesById={},this._addCategories(r.r.DEFAULTS.FRAME_CATEGORIES);var i=this._options,s=i.categories,a=i.replaceCategories;this._options.categories?this._addCategories(s,a):this._updateAllCategory()}return t.prototype._addCategories=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._categories=n?t.slice(0):r.u.mergeCategories(this._categories,t,"frames"),this._categoriesById={},this._categories.forEach(function(t){e._categoriesById[t.identifier]=t});var i=this._options.availableFrames;i&&this._categories.forEach(function(t){t.frames=t.frames.filter(function(t){return-1!==i.indexOf(t.identifier)})}),this._categories.forEach(function(t){t.frames.forEach(function(t){e._framesById[t.identifier]=t})}),this._updateAllCategory()},t.prototype._updateAllCategory=function(){this._allCategory={identifier:"all",defaultName:"All",frames:this._categories.map(function(t){return t.frames}).reduce(function(t,e){return t.concat(e)},[])},this._categoriesById.all=this._allCategory},t.prototype.getFramesForCategory=function(t){if(!this._categoriesById[t])throw new Error("Unknown frame category '"+t+"'");return this._categoriesById[t].frames},t.prototype.getFrameByIdentifier=function(t){return this._framesById[t]},t.prototype.getCategories=function(){return this._categories},t.prototype.getCategory=function(t){return this._categoriesById[t]},t}();e.a=s},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e,n){var i=this;o()(this,t),this._ui=e,this._options=n,this._overlays=r.r.DEFAULTS.OVERLAYS.slice(0),this._overlaysByIdentifier={},n.overlays&&(n.replaceOverlays?this._overlays=n.overlays:this._overlays=this._overlays.concat(n.overlays)),n.availableOverlays&&(this._overlays=this._overlays.filter(function(t){return-1!==n.availableOverlays.indexOf(t.identifier)})),this._overlays.forEach(function(t){i._overlaysByIdentifier[t.identifier]=t})}return t.prototype.getOverlays=function(){return this._overlays},t.prototype.getOverlayByIdentifier=function(t){return this._overlaysByIdentifier[t]},t}();e.a=s},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=p.p.OptionType,d=function(t){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,e);var o=l()(this,t.call(this,i));return o._loaded=!1,o._loading=!1,o._ui=n,o._frame=p.p.Utils.deepClone(o._options),o}return u()(e,t),e.prototype.load=function(){var t=this;if(this._loaded)return o.a.resolve();if(this._loading)return o.a.reject(new Error("Called Frame#load while it's already loading"));this._loading=!0;var e=this._frame.imageGroups,n=[];return["top","left","right","bottom"].forEach(function(i){if(i in e){var o=e[i];["start","mid","end"].forEach(function(e){e in o&&n.push(t._loadPart(i,e))})}}),o.a.all(n).then(function(){t._loaded=!0,t._loading=!1}).catch(function(e){t._loaded=!1,t._loading=!1})},e.prototype._loadPart=function(t,e){var n=this;return new o.a(function(i,o){var r=n._frame.imageGroups,s=r[t][e],a=s;"string"!=typeof s&&"image"in s&&(a=s.image);var l=new window.Image;l.addEventListener("load",function(){"string"!=typeof s?n._frame.imageGroups[t][e].image=l:n._frame.imageGroups[t][e]=l,i(l)}),l.addEventListener("error",function(){o(new Error("Failed to load image at "+a))}),l.src=n._ui.getAssetPath(a)})},e.prototype.getFrame=function(){return this._frame},e}(p.p.Configurable);e.a=d,d.prototype.availableOptions={identifier:{type:h.STRING,required:!0},defaultName:{type:h.STRING},thumbnail:{type:h.STRING},tintable:{type:h.BOOLEAN,default:!1},layoutMode:{type:h.STRING,default:"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:h.OBJECT,required:!0}}},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(68),s=n.n(r),a=n(6),l=n.n(a),c=n(0),u=n.n(c),p=n(15),h=n.n(p),d=n(1),f=n.n(d),m=n(2),g=n.n(m),_=n(3),y=n(45),v=function(t){function e(){u()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=f()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onBackButtonClick"),r._needsStyleFixes=!0,r.state={backButton:!1},r}return g()(e,t),e.prototype._onBackButtonClick=function(){},e.prototype.fixStyles=function(){var t=this;return _.u.Browser.isIElte(10)?(this._table&&(this._table.style.height="100%"),this._container&&(this._container.style.height="100%"),new l.a(function(e){Object(_.z)(function(){if(t._root){var n=t._root.offsetHeight;if(t._container&&t._header){var i=t._header.offsetHeight;t._container.style.height=n-i+"px"}t._table&&(t._table.style.height=n+"px"),t._scrollbar&&t._scrollbar.update(),e()}},1e3)})):(this._scrollbar&&this._scrollbar.update(),l.a.resolve())},e.prototype._getRootProps=function(){return{}},e.prototype._renderContent=function(){return _.l.createElement("div",null)},e.prototype.render=function(){var t=this,e=this.constructor.RootElement,n=this._getRootProps(),i=s()(n,[]),r=this.context.screen.state.currentControl,a=null===r,l={backgroundImage:"url('"+this._getAssetPath("editor/controls/shared/back.png",!0)+"')"};return _.l.createElement(b,{innerRef:function(e){i.innerRef&&i.innerRef(e),t._root=e}},_.l.createElement(k,{innerRef:function(e){t._table=e}},!a&&_.l.createElement(S,{innerRef:function(e){t._header=e}},this.state.backButton&&_.l.createElement(x,{style:l,onClick:this._onBackButtonClick}),_.l.createElement(w,null,this._t("editor.controls."+r+".title"))),_.l.createElement(C,null,_.l.createElement(e,o()({},i,{innerRef:function(e){t._container=e},className:void 0}),this._renderContent()))))},h()(e,[{key:"container",get:function(){return this._container}}]),e}(y.a);v.contextTypes=y.a.contextTypes,v.propTypes={options:_.k.object},e.a=v;var b=_.w.div("ku10ek","ControlsComponentRoot"),k=_.w.div("rfecls","ControlsComponentTable"),S=_.w.div("1tkmkv6","ControlsComponentHeader"),C=_.w.div("vkb8c9","RootElementContainer");v.RootElement=_.w.div("rfecls",{withBorderTop:"120drhm"},"ControlsComponent");var w=_.w.div("1ru8sfa","ControlsComponentTitle"),x=_.w.button("gyx1pn","BackButton")},function(t,e,n){"use strict";var i=n(68),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.render=function(){var t=this.constructor.RootElement,e=o()(this.props,[]);return p.l.createElement(t,e)},e}(p.b);h.contextTypes=p.b.contextTypes,e.a=h,h.RootElement=p.w.li("12r6rxb","CanvasHeaderButtonComponent")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(22),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKnobDragStart","_onKnobDrag","_onKnobDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop"),a.state={value:a.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},a}return l()(e,t),e.prototype.componentDidMount=function(){var t=this;Object(c.z)(function(){t._setValue(t.state.value,!1)})},e.prototype.componentWillReceiveProps=function(t){t.value!==this.state.value&&this._setValue(t.value,!1)},e.prototype._onKnobDragStart=function(t){this._previousValue=this.state.value,this._initialSliderPosition=this.state.sliderPosition,this._initialPosition=t},e.prototype._onKnobDrag=function(t){var e=this._bar.offsetWidth,n=this._initialSliderPosition+t.x;n=Math.max(0,Math.min(n,e));var i=n/e,o=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;this._setValue(o)},e.prototype._onKnobDragStop=function(){this._setValue(this.state.value,!0,!0)},e.prototype._onBarDragStart=function(t){this._previousValue=this.state.value,this._initialPosition=t.clone();var e=this._bar.offsetWidth,n=t.x/e,i=this.props.minValue+(this.props.maxValue-this.props.minValue)*n;this._setValue(i)},e.prototype._onBarDrag=function(t){var e=this._initialPosition.clone().add(t),n=this._bar.offsetWidth,i=e.x/n,o=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;o=Math.max(this.props.minValue,Math.min(this.props.maxValue,o)),this._setValue(o)},e.prototype._onBarDragStop=function(){this._setValue(this.state.value,!0,!0)},e.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},e.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},e.prototype._setValue=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.props,o=i.minValue,r=i.maxValue,s=(t-o)/(r-o),a=this._bar.offsetWidth,l=a*s,c=s*a,u=0;this.props.middleDot&&(c=Math.abs(s-.5)*a,u=s<.5?.5*a-c:"50%"),this.setState({value:t,sliderPosition:l,foregroundWidth:c,foregroundLeft:u}),e&&this.props.onChange&&this.props.onChange(t,this._previousValue,n)},e.prototype._buildValue=function(t){return t%1!=0&&(t=t.toFixed(2)),this.props.positiveValuePrefix&&t>=0&&(t=""+this.props.positiveValuePrefix+t),this.props.valueUnit&&(t+=this.props.valueUnit),t},e.prototype.render=function(){var t=this,e={style:this._getForegroundStyle()};return c.l.createElement(h,{disabled:this.props.disabled},c.l.createElement(u.a,{onStart:this._onBarDragStart,onDrag:this._onBarDrag,onStop:this._onBarDragStop,disabled:this.props.disabled},c.l.createElement(y,null,c.l.createElement(d,{ref:"foo",innerRef:function(e){t._bar=e}},c.l.createElement("div",null,c.l.createElement(m,{darkBackground:this.props.darkBackground}),c.l.createElement(g,e),c.l.createElement(u.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag,onStop:this._onKnobDragStop,disabled:this.props.disabled},c.l.createElement(_,{style:this._getKnobStyle(),className:void 0})))))))},e}(c.b);p.propTypes={value:c.k.number.isRequired,minValue:c.k.number.isRequired,maxValue:c.k.number.isRequired,middleDot:c.k.bool,onChange:c.k.func,positiveValuePrefix:c.k.string,valueUnit:c.k.string,label:c.k.string},p.contextTypes=c.b.contextTypes,e.a=p;var h=c.w.div("14qjclp",{disabled:"1voy7lm"},"Slider"),d=c.w.div("1pvw1zw","Bar"),f=c.w.div("8gacw5","BarSection"),m=Object(c.w)(f)("120drhm",{darkBackground:"120drhm"},"BarBackgroundSection"),g=Object(c.w)(f)("1apine2","BarForegroundSection"),_=c.w.div("ymjr18","Knob"),y=c.w.div("1ssoezr","BarContainer")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ControlGroupList",function(){return o}),n.d(e,"ControlGroup",function(){return r}),n.d(e,"ControlGroupTitle",function(){return s});var i=n(3),o=i.w.css("1f3fuxn","ControlGroupList"),r=i.w.css("1bxndxk","ControlGroup"),s=i.w.css("12fzsea","ControlGroupTitle")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(72),p=n(46),h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._renderRightPart=function(){var t=this,e=[];return this.props.inputClassName&&e.push(this.props.inputClassName),c.l.createElement(d,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:e.join(" "),innerRef:function(e){t._input=e},disabled:this.props.disabled})},e.prototype.render=function(){var t=this.props,e=t.inputLabel,n=t.className,i=t.disabled,o=t.styles;return c.l.createElement(f,{styles:o,className:n,disabled:i},c.l.createElement(m,null,c.l.createElement(g,null,e&&c.l.createElement(_,null,e||" "),this._renderRightPart())))},e}(u.a);h.contextTypes=u.a.contextTypes,e.a=h;var d=Object(c.w)(p.a)("12dz026","InputField"),f=Object(c.w)(u.a.RootElement)("9ngfap","ColorComponentInput"),m=c.w.div("15u7gri","Row"),g=c.w.div("1hy9z1m",{bottomAligned:"17xdalt"},"Column"),_=c.w.div("szltve","Title")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.PlainControlItem),p=c.ControlsStyles.PlainControlItemBackground,h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onWebcamClick","_onDropZoneClick","_onDropZoneDragEnter","_onDropZoneDragLeave","_onDropZoneDragOver","_onDropZoneDrop","_onImage"),a._dragCounter=0,a.state={dropZoneHovered:!1},a}return l()(e,t),e.prototype._onWebcamClick=function(){this.props.onWebcamActivated&&this.props.onWebcamActivated()},e.prototype._onImage=function(t){this.props.onImage&&this.props.onImage(t)},e.prototype._onDropZoneClick=function(){this.refs.upload.open()},e.prototype._onDropZoneDragEnter=function(t){t.preventDefault(),this._dragCounter++,this.setState({dropZoneHovered:!0})},e.prototype._onDropZoneDragLeave=function(t){t.preventDefault(),0===--this._dragCounter&&this.setState({dropZoneHovered:!1})},e.prototype._onDropZoneDragOver=function(t){t.preventDefault()},e.prototype._onDropZoneDrop=function(t){var e=this;t.stopPropagation(),t.preventDefault(),t=t.nativeEvent,t.returnValue=!1,this.setState({dropZoneHovered:!1},function(){if(t.target||t.dataTransfer){var n=t.target.files||t.dataTransfer.files;if(n&&!(n.length<=0))return n[0].type.match(/^image\//i)?void e._handleFile(n[0]):c.ModalManager.instance.displayError(e._t("errors.title"),e._t("errors.invalidFileType.text",{fileType:n[0].type}))}})},e.prototype._handleFile=function(t){var e=this,n=new window.FileReader;n.onload=function(){return function(t){var n=t.target.result,i=new window.Image;i.addEventListener("load",function(){e._onImage(i)}),i.addEventListener("error",function(t){return c.ModalManager.instance.displayError(e._t("errors.title"),e._t("errors.imageLoadingError.text"))}),i.src=n}}(),n.readAsDataURL(t)},e.prototype.render=function(){var t={backgroundImage:"url('"+this._getAssetPath("editor/controls/library/webcam.png",!0)+"')"};return c.React.createElement(d,null,c.React.createElement(c.InvisibleUploadComponent,{ref:"upload",onNewFile:this._onImage}),c.React.createElement(f,null,c.React.createElement(m,{onClick:this._onDropZoneClick,onDragEnter:this._onDropZoneDragEnter,onDragOver:this._onDropZoneDragOver,onDragLeave:this._onDropZoneDragLeave,onDrop:this._onDropZoneDrop,hovered:this.state.dropZoneHovered},this.state.dropZoneHovered?this._t("editor.controls.library.fileDropZoneHovered"):this._t("editor.controls.library.fileDropZone")),!this.state.dropZoneHovered&&this.props.webcamEnabled&&c.React.createElement(g,{style:t,className:void 0,onClick:this._onWebcamClick})))},e}(c.BaseComponent);e.a=h;var d=Object(c.adonis)(u).li("fujban","Container"),f=Object(c.adonis)(p).div("17hsmc4","Background"),m=c.adonis.div("yw0i2r",{hovered:"1xndhux"},"DropZone"),g=c.adonis.div("1y2fyfw","WebcamButton")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(13),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;s()(this,t),this._queue=[],this._pendingPromises=0,this._maxConcurrency=e,this._maxQueueLength=n,this._minDelay=i,this._tick=this._tick.bind(this),this._lastPromiseDone=Date.now(),this._running=!0,this._animationFrameRequest=null,Object(a.b)(this._tick)}return t.prototype._tick=function(){if(this._running){Date.now()-this._lastPromiseDone>this._minDelay&&this._pendingPromises<this._maxConcurrency&&this._queue.length&&this._dequeue(),this._animationFrameRequest=Object(a.b)(this._tick)}},t.prototype.add=function(t){var e=this;return new o.a(function(n,i){if(e._queue.length>=e._maxQueueLength)return i(new Error("Max queue length reached"));e._queue.push({fn:t,resolve:n,reject:i})})},t.prototype._promisify=function(t){return void 0!==t&&"function"==typeof t.then?t:o.a.resolve(t)},t.prototype._dequeue=function(){var t=this,e=this._queue.shift(),n=Date.now();this._pendingPromises++;try{this._promisify(e.fn()).then(function(i){t._lastPromiseDone=n,t._pendingPromises--,e.resolve(i)}).catch(function(i){t._lastPromiseDone=n,t._pendingPromises--,e.reject(i)})}catch(t){this._lastPromiseDone=n,this._pendingPromises--,e.reject(t)}return!0},t.prototype.dispose=function(){this._running=!1,this._animationFrameRequest&&Object(a.a)(this._animationFrameRequest)},t}();e.a=l},function(t,e,n){"use strict";var i=n(5),o=(n.n(i),i.Engine.Filters.OverlayFilter);e.a={normal:o.BLEND_MODES.NORMAL,overlay:o.BLEND_MODES.OVERLAY,hardLight:o.BLEND_MODES.HARD_LIGHT,softLight:o.BLEND_MODES.SOFT_LIGHT,multiply:o.BLEND_MODES.MULTIPLY,darken:o.BLEND_MODES.DARKEN,lighten:o.BLEND_MODES.LIGHTEN,screen:o.BLEND_MODES.SCREEN,colorBurn:o.BLEND_MODES.COLOR_BURN}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.PlainControlItem),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onStickerClick=function(t){this.props.onStickerClick&&this.props.onStickerClick(t)},e.prototype._renderListItems=function(){var t=this,e=this.props.stickers,n=void 0,i=this.getSharedState("selectedSprite");return i&&(n=i.getIdentifier()),e.map(function(e){var i=c.StickerManager.getURLForSticker(e,"thumb"),o=t._getAssetPath(i),r={background:"url('"+o+"') no-repeat center center",backgroundSize:"contain"};return c.React.createElement(d,{selected:e.identifier===n,key:e.identifier,onClick:t._onStickerClick.bind(t,e),className:void 0,threeColumns:!0},c.React.createElement(f,{style:r}))})},e.prototype.render=function(){return c.React.createElement(h,null,this._renderListItems())},e}(c.SharedStateComponent);p.contextTypes=c.SharedStateComponent.contextTypes,e.a=p;var h=c.adonis.ul("18qztam","StickerList"),d=Object(c.adonis)(u).li("m4lnou","StickerListItem"),f=c.adonis.div("7r0ke8","StickerImage")},function(t,e,n){/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */
var i=n(5),o=n(4);n(270),i.UI.DesktopUI=o,t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(191),d=n(70),f=n(41),m=n(112),g=n(86),_=n(234),y=n(235),v=n(65),b=n(236),k=n(237),S=function(t){return p.q.byteArrayToString(p.a.decode(t))};Object(_.a)(p.w,".pesdk-desktop-editor"),Object(y.a)(p.w);var C=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,e);var i=l()(this,t.call(this));return i._mediator=new p.e,i._fontLoader=new v.a(i),i._options=n,i._initOptions(),i._initLanguage(),i._initEvents(),i._disposed=!1,i._preloader=new b.a(i,i._options,i._mediator),p.h.setLevel(i._options.logLevel),i._v()&&i.run(),i}return u()(e,t),e.prototype.run=function(){this._theme=this._options.theme,this._injectWebFonts(),this._options.container.style.position="relative",this._options.container.className+=" pesdk-desktop-editor",this._render()},e.prototype._render=function(){var t=p.l.createElement(h.a,{ui:this,mediator:this._mediator,options:this._options});if(this._options.renderReturnsComponent)return t;this._component=p.m.render(t,this._options.container)},e.prototype.export=function(){var t;return(t=this._component).export.apply(t,arguments)},e.prototype.serialize=function(){var t;return(t=this.getEditor()).serialize.apply(t,arguments)},e.prototype.deserialize=function(t){return this.getEditor().deserialize(t)},e.prototype.getEditor=function(){return this._component.getEditor()},e.prototype._initOptions=function(){this._options=p.q.defaults(this._options,{language:"en",logLevel:"warn",editor:{},assets:{},responsive:!1,preloader:!0,theme:g.a}),this._options.editor=p.q.defaults(this._options.editor||{},{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1,preferredRenderer:"webgl",displayResizeMessage:!0,maxMegaPixels:{},enableDrag:!0,enableZoom:!0,displayCloseButton:!1,undoMode:"global",defaultControl:"filter",tools:["transform","filter","adjustments","focus","text","sticker","brush","frame","overlay","library"],controlsOrder:[["library"],["transform","filter","adjustments","focus"],["text","sticker","brush","frame","overlay"]],operationsOrder:["exif-orientation","orientation","transform","filter","adjustments","radial-focus","mirrored-focus","linear-focus","blur","selective-blur","overlay","sprite","frame","watermark"],controlsOptions:{}}),this._options.editor.maxMegaPixels=p.q.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor.export=p.q.defaults(this._options.editor.export||{},{format:"image/png",type:p.o.IMAGE,download:!0,fileBasename:"photoeditorsdk-export",quality:.8}),this._options.extensions=p.q.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]}),this._options.assets=p.q.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null})},e.prototype._injectWebFonts=function(){var t=[];for(var e in this._theme.fonts){var n=this._theme.fonts[e],i=this.getAssetPath(n.src,!0,!0);t.push('\n        @font-face {\n          font-family: "'+n.fontFamily+"\";\n          src: url('"+i+"') format('woff');\n          font-weight: "+n.fontWeight+";\n          font-style: "+n.fontStyle+";\n        }\n      ")}var o="\n      /* Injected by PhotoEditorSDK */\n      "+t.join("\n")+"\n    ";p.w.global(o,!0)},e.prototype._v=function(){return!!this[S("X29wdGlvbnM=")][S("bGljZW5zZQ==")]||(p.h.error(S("TGljZW5zaW5n"),S("Tm8gYGxpY2Vuc2VgIG9wdGlvbiBnaXZlbg==")),p.h.error(S("TGljZW5zaW5n"),S("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAcGhvdG9lZGl0b3JzZGsuY29tIHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==")),!1)},e.prototype._initEvents=function(){this._mediator.pipeEvents(this)},e.prototype._disposeEvents=function(){this._mediator.unpipeEvents(this)},e.prototype._initLanguage=function(){this._languages=p.q.deepDefaults(this._options.extensions.languages,{de:n(268),en:n(269)}),this._language=this._languages[this._options.language],this._language||p.h.error(this.constructor.name,"Language `"+this._options.language+"` not found!")},e.prototype.translate=function(t,e){return p.u.translate(this._language,t,e)},e.prototype.setImage=function(t){this._component&&this._component.setImage(t)},e.prototype.getAssetPath=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._options.assets,o=i.baseUrl,r=i.resolver,s=o+"/"+t;if(t.match(/(ftp|http|https):\/\//)&&(s=t),e){if(!n){if(("undefined"!=typeof window&&window.devicePixelRatio||1)>1){var a=/\.[\w?=]+$/;t=t.replace(a,function(t){return"@2x"+t})}}s=o+"/ui/desktop/"+t}return void 0!==r&&null!==r&&(s=r(s)),s},e.prototype.getTheme=function(){return this._theme},e.prototype.getFontLoader=function(){return this._fontLoader},e.prototype.getPreloader=function(){return this._preloader},e.prototype.dispose=function(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0,p.m.unmountComponentAtNode(this._options.container),this._disposeEvents()},e}(p.e);C.prototype.identifier="react",C.BaseComponent=p.b,C.React=p.l,C.adonis=p.w,C.SharedState=p.s,C.Constants=p.d,C.Utils=p.u,C.ScrollbarComponent=d.a,C.JSONLoader=f.a,C.SliderComponent=m.a;var w=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.componentDidMount=function(){this._ui=new C(p.q.extend({},this.props,{container:this.refs.container}))},e.prototype.render=function(){var t=p.q.extend({},this.props.style||{});return p.l.createElement("div",{style:t,ref:"container"})},o()(e,[{key:"ui",get:function(){return this._ui}}]),e}(p.l.Component);C.ReactComponent=w,C.Controls={};for(var x in k)C[x]=k[x];p.p.UI=p.p.UI||{},p.p.UI.DesktopUI=C,e.default=C},function(t,e,n){n(122);var i=n(8).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(11);i(i.S+i.F*!n(18),"Object",{defineProperty:n(16).f})},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){n(34),n(38),t.exports=n(57).f("iterator")},function(t,e,n){var i=n(50),o=n(51);t.exports=function(t){return function(e,n){var r,s,a=String(o(e)),l=i(n),c=a.length;return l<0||l>=c?t?"":void 0:(r=a.charCodeAt(l),r<55296||r>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):r:t?a.slice(l,l+2):s-56320+(r-55296<<10)+65536)}}},function(t,e,n){"use strict";var i=n(52),o=n(33),r=n(37),s={};n(19)(s,n(9)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(16),o=n(12),r=n(27);t.exports=n(18)?Object.defineProperties:function(t,e){o(t);for(var n,s=r(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},function(t,e,n){var i=n(25),o=n(81),r=n(129);t.exports=function(t){return function(e,n,s){var a,l=i(e),c=o(l.length),u=r(s,c);if(t&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(50),o=Math.max,r=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(21),o=n(56),r=n(53)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var i=n(132),o=n(133),r=n(24),s=n(25);t.exports=n(77)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(135),__esModule:!0}},function(t,e,n){n(136),n(85),n(141),n(142),t.exports=n(8).Symbol},function(t,e,n){"use strict";var i=n(10),o=n(21),r=n(18),s=n(11),a=n(78),l=n(137).KEY,c=n(23),u=n(54),p=n(37),h=n(36),d=n(9),f=n(57),m=n(58),g=n(138),_=n(139),y=n(12),v=n(17),b=n(25),k=n(49),S=n(33),C=n(52),w=n(140),x=n(84),E=n(16),O=n(27),T=x.f,R=E.f,D=w.f,I=i.Symbol,P=i.JSON,B=P&&P.stringify,M=d("_hidden"),A=d("toPrimitive"),N={}.propertyIsEnumerable,F=u("symbol-registry"),j=u("symbols"),z=u("op-symbols"),L=Object.prototype,U="function"==typeof I,V=i.QObject,H=!V||!V.prototype||!V.prototype.findChild,W=r&&c(function(){return 7!=C(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=T(L,e);i&&delete L[e],R(t,e,n),i&&t!==L&&R(L,e,i)}:R,q=function(t){var e=j[t]=C(I.prototype);return e._k=t,e},G=U&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===L&&K(z,e,n),y(t),e=k(e,!0),y(n),o(j,e)?(n.enumerable?(o(t,M)&&t[M][e]&&(t[M][e]=!1),n=C(n,{enumerable:S(0,!1)})):(o(t,M)||R(t,M,S(1,{})),t[M][e]=!0),W(t,e,n)):R(t,e,n)},Z=function(t,e){y(t);for(var n,i=g(e=b(e)),o=0,r=i.length;r>o;)K(t,n=i[o++],e[n]);return t},Q=function(t,e){return void 0===e?C(t):Z(C(t),e)},Y=function(t){var e=N.call(this,t=k(t,!0));return!(this===L&&o(j,t)&&!o(z,t))&&(!(e||!o(this,t)||!o(j,t)||o(this,M)&&this[M][t])||e)},J=function(t,e){if(t=b(t),e=k(e,!0),t!==L||!o(j,e)||o(z,e)){var n=T(t,e);return!n||!o(j,e)||o(t,M)&&t[M][e]||(n.enumerable=!0),n}},X=function(t){for(var e,n=D(b(t)),i=[],r=0;n.length>r;)o(j,e=n[r++])||e==M||e==l||i.push(e);return i},$=function(t){for(var e,n=t===L,i=D(n?z:b(t)),r=[],s=0;i.length>s;)!o(j,e=i[s++])||n&&!o(L,e)||r.push(j[e]);return r};U||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===L&&e.call(z,n),o(this,M)&&o(this[M],t)&&(this[M][t]=!1),W(this,t,S(1,n))};return r&&H&&W(L,t,{configurable:!0,set:e}),q(t)},a(I.prototype,"toString",function(){return this._k}),x.f=J,E.f=K,n(83).f=w.f=X,n(39).f=Y,n(59).f=$,r&&!n(35)&&a(L,"propertyIsEnumerable",Y,!0),f.f=function(t){return q(d(t))}),s(s.G+s.W+s.F*!U,{Symbol:I});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var nt=O(d.store),it=0;nt.length>it;)m(nt[it++]);s(s.S+s.F*!U,"Symbol",{for:function(t){return o(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!U,"Object",{create:Q,defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:$}),P&&s(s.S+s.F*(!U||c(function(){var t=I();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(v(e)||void 0!==t)&&!G(t))return _(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,B.apply(P,i)}}),I.prototype[A]||n(19)(I.prototype,A,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},function(t,e,n){var i=n(36)("meta"),o=n(17),r=n(21),s=n(16).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(23)(function(){return l(Object.preventExtensions({}))}),u=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},p=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},h=function(t,e){if(!r(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},d=function(t){return c&&f.NEED&&l(t)&&!r(t,i)&&u(t),t},f=t.exports={KEY:i,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},function(t,e,n){var i=n(27),o=n(59),r=n(39);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var s,a=n(t),l=r.f,c=0;a.length>c;)l.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var i=n(28);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(25),o=n(83).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==r.call(t)?a(t):o(i(t))}},function(t,e,n){n(58)("asyncIterator")},function(t,e,n){n(58)("observable")},function(t,e,n){t.exports={default:n(144),__esModule:!0}},function(t,e,n){n(145),t.exports=n(8).Object.setPrototypeOf},function(t,e,n){var i=n(11);i(i.S,"Object",{setPrototypeOf:n(146).set})},function(t,e,n){var i=n(17),o=n(12),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(26)(Function.call,n(84).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},function(t,e,n){t.exports={default:n(148),__esModule:!0}},function(t,e,n){n(149);var i=n(8).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){var i=n(11);i(i.S,"Object",{create:n(52)})},function(t,e){t.exports=n},function(t,e,n){"use strict";var i=n(152),o=n(153),r=n(154);t.exports=function(){function t(t,e,n,i,s,a){a!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";function i(t){return function(){return t}}var o=function(){};o.thatReturns=i,o.thatReturnsFalse=i(!1),o.thatReturnsTrue=i(!0),o.thatReturnsNull=i(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){"use strict";function i(t,e,n,i,r,s,a,l){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,s,a,l],p=0;c=new Error(e.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(t){};t.exports=i},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){var n={firasansmedium:{fontFamily:"firasansmedium",fontWeight:"500",fontStyle:"normal",src:"fonts/FiraSans-Medium.woff"},firasansregular:{fontFamily:"firasansregular",fontWeight:"400",fontStyle:"normal",src:"fonts/FiraSans-Regular.woff"},sourcesansprobold:{fontFamily:"sourcesansprobold",fontWeight:"bolder",fontStyle:"normal",src:"fonts/SourceSansPro-Bold.woff"},sourcesansprosemibold:{fontFamily:"sourcesansprosemibold",fontWeight:"bold",fontStyle:"normal",src:"fonts/SourceSansPro-Semibold.woff"}};t.exports={primaryColor:"#2D7BFF",primaryColorRGB:"45, 123, 255",backgroundColor:"#141415",backgroundColorRGB:"20, 20, 21",controlsKnobColor:"white",controlsBackgroundColor:"#232326",controlsBackgroundColorRGB:"35, 35, 38",controlsLightBackgroundColor:"#2a2a2e",controlsOutlineColor:"rgba(255, 255, 255, 0.6)",controlsSeparatorColor:"#1b1b1d",navigationBackgroundColor:"#202022",navigationBackgroundColorRGB:"32, 32, 34",textColor:"#FFFFFF",dimmedTextColor:"#888888",dimmedTextColorRGB:"136, 136, 136",filterItemBackgroundColor:"#4b4b4c",secondaryControlsBackgroundColor:"#2a2a2e",secondaryControlsBackgroundColorRGB:"42, 42, 46",focusItemBackgroundColor:"#343437",sliderBackgroundColor:"rgba(255,255,255,0.24)",darkSliderBackgroundColor:"#1B1B1E",sliderKnobColor:"#b5b5be",sliderCircleKnobColor:"#c8c8d2",highlightColor:"#2675F8",highlightColorRGB:"38, 117, 253",darkHighlightColorRGB:"15, 47, 101",buttonBorderColor:"#303034",defaultShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.60)",modalErrorColor:"#C23A3A",modalWarningColor:"#C18226",modalLoadingColor:"#2D7BFF",zIndex:function(t){return 5*["background","controls","controlsOverlays","overlays","navigation"].indexOf(t)},transitionDuration:.3,listItemSlideInDelay:100,scrollbarGradientSize:64,uppercaseBoldFontFamily:"sourcesansprobold",uppercaseSemiBoldFontFamily:"sourcesansprosemibold",regularFontFamily:"firasansregular",mediumFontFamily:"firasansmedium",fonts:n}},function(t,e,n){!function(e,i){t.exports=i(n(40))}(0,function(t){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeProvider=e.withTheme=void 0;var o=n(1),r=i(o),s=n(27),a=i(s),l=n(28),c=i(l),u=n(29),p=i(u),h=n(30),d=i(h);e.default=function(t){var e=new r.default(t),n=function(t){if(t instanceof c.default){var n=t,i={};return a.default.forEach(function(t){i[t]=function(i,o,r){return"string"==typeof o&&(r=o,o=void 0),e.createComponent(t,{styles:i,variations:o,name:r,baseStyles:n})}}),i}return function(n,i,o){return"string"==typeof i&&(o=i,i=void 0),e.createComponent(t,{styles:n,variations:i,name:o})}};return a.default.forEach(function(t){n[t]=function(n,i,o){return"string"==typeof i&&(o=i,i=void 0),e.createComponent(t,{styles:n,variations:i,name:o})}}),n.global=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.getOptions(),o=i.injection,r=i.theme;if(o||n){"function"==typeof t&&(t=t(r));var s=e.getStylesBuffer();s.bufferCSS(t),s.flushToStyleTag(n)}},n.css=function(t,n,i){return"string"==typeof n&&(i=n,n=void 0),new c.default(e,{styles:t,variations:n,name:i||"baseStyles"})},["renderToStatic"].forEach(function(t){n[t]=e[t].bind(e)}),n},e.withTheme=p.default,e.ThemeProvider=d.default},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(3),a=i(s),l=n(5),c=i(l),u=n(4),p=void 0!==t&&"production"===t.env.NODE_ENV,h=function(){function t(e){o(this,t),this._options=(0,u.defaults)(e,{injection:!0,batchInjection:!0,minified:!1,autoPrefix:!0,cssSelectorPrefix:"",classNamePrefix:"",hashSeparator:"-",nameSeparator:"__",variationSeparator:"--",styleNode:null,injectionMode:p?"fast":"debug",hashedStyles:!1}),this._stylesBuffer=new a.default(this),this._componentFactory=new c.default(this,this._options)}return r(t,[{key:"createComponent",value:function(t,e){return this._componentFactory.createComponent(t,e)}},{key:"renderToStatic",value:function(t){this._stylesBuffer.disableInjection();var e=t(),n=this._stylesBuffer.flushToString(!0);return this._stylesBuffer.enableInjection(),{css:{content:n},html:e}}},{key:"getStylesBuffer",value:function(){return this._stylesBuffer}},{key:"getOptions",value:function(){return this._options}}]),t}();e.default=h}).call(e,n(2))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(p===clearTimeout)return clearTimeout(t);if((p===i||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,r(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,p,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{p="function"==typeof clearTimeout?clearTimeout:i}catch(t){p=i}}();var d,f=[],m=!1,g=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),a=function(){function t(e){i(this,t),this._adonis=e,this._injectionEnabled=!0,this._bufferedSelectors={},this._buffer=[],this._styleNode=this._findStyleNode(),this._sheet=this._findSheet()}return r(t,[{key:"_findSheet",value:function(){if(this._styleNode){if(this._styleNode.sheet)return this._styleNode.sheet;for(var t=document,e=t.styleSheets,n=0;n<e.length;n++){var i=e[n];if(i.ownerNode===this._styleNode)return i}}}},{key:"_findStyleNode",value:function(){var t=this._adonis.getOptions(),e=t.styleNode;return e||("undefined"==typeof document?null:(e=document.createElement("style"),e.setAttribute("data-adonis",!0),document.head.appendChild(e),e))}},{key:"bufferCSS",value:function(t){this._buffer.push(t)}},{key:"bufferRulesets",value:function(t){var e=this;t.forEach(function(t){var n=o(t,2),i=n[0];n[1];e._bufferedSelectors[i]=!0}),Array.prototype.push.apply(this._buffer,t.map(function(t){return o(t,2)[1]}))}},{key:"isSelectorBuffered",value:function(t){return this._bufferedSelectors[t]}},{key:"disableInjection",value:function(){this._injectionEnabled=!1}},{key:"enableInjection",value:function(){this._injectionEnabled=!0}},{key:"flushToString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._adonis.getOptions(),n=e.minified,i=this._buffer.join(n?"":"\n\n");return this._buffer=[],t&&(this._bufferedSelectors={}),i}},{key:"_injectFast",value:function(){var t=this;this._buffer.forEach(function(e){t._sheet.insertRule(e,t._sheet.cssRules.length)})}},{key:"_injectDebug",value:function(){var t=this.flushToString();if(t){var e=this._adonis.getOptions(),n=e.minified,i=this._styleNode.innerHTML.length>0;this._styleNode.appendChild(document.createTextNode((n||!i?"":"\n\n")+t))}}},{key:"_flushToStyleTag",value:function(){var t=this._adonis.getOptions(),e=t.injectionMode;if("fast"===e&&this._sheet.insertRule)this._injectFast();else{if("debug"!==e)throw new Error("Unknown CSS injection mode: `"+e+"`");this._injectDebug()}this._buffer=[]}},{key:"flushToStyleTag",value:function(){var t=this;if(this._injectionEnabled){var e=this._adonis.getOptions(),n=e.batchInjection;!this._nextTick&&n?this._nextTick=(0,s.requestAnimationFrame)(function(){t._nextTick=null,t._flushToStyleTag()}):n||this._flushToStyleTag()}}}]),t}();e.default=a},function(t,e){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(e.defaults=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o={};for(var r in t)o[r]=t[r];for(var s=0;s<n.length;s++){var a=n[s];for(var l in a)void 0===o[l]&&(o[l]=a[l])}return o},e.hashObject=function(t){for(var e=JSON.stringify(t),n=e.length,i=n,o=0,r=void 0;n>=4;)r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>24,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^r,n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i^=255&e.charCodeAt(o),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)}return i^=i>>>13,i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16),i^=i>>>15,(i>>>0).toString(36)},e.flatten=function t(e){return e.reduce(function(e,n){return e.concat(Array.isArray(n)?t(n):n)},[])},e.toStaticStyles=function t(e){var i={};for(var o in e){var r=e[o];"object"===(void 0===r?"undefined":n(r))?i[o]=t(r):"function"!=typeof r&&(i[o]=r)}return i},e.deepMerge=function t(e,i){var o={};for(var r in e)o[r]=e[r];for(var s in i)"object"===n(i[s])&&e[s]?o[s]=t(e[s],i[s]):o[s]=i[s];return o});e.deepMergeAll=function(t){return t.reduce(function(t,e){return i(t,e)},{})},e.resolveStylesObject=function t(e,i){var o={};for(var r in e){var s=e[r];if("object"===(void 0===s?"undefined":n(s)))o[r]=t(s,i);else if("function"==typeof s){if(!i)throw new Error("Trying to resolve a dynamic property without a `theme` given.");o[r]=s(i)}else o[r]=s}return o},e.findAllCombinations=function(t){return function t(e,n){var i=e[0];if(void 0===i)return n;for(var o=0,r=n.length;o<r;++o)n.push(n[o].concat(i));return t(e.slice(1),n)}(t,[[]]).slice(1)},e.requestAnimationFrame=function(){for(var e=0,n=void 0===t?window:t,i=n.requestAnimationFrame,o=["ms","moz","webkit","o"],r=0;r<o.length&&!i;++r)i=n[o[r]+"RequestAnimationFrame"];return!i&&void 0!==n&&n.setImmediate&&(i=n.setImmediate),i&&(i=i.bind(n)),i||(i=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=setTimeout(function(){t(n+i)},i);return e=n+i,o}),i}()}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(6),c=i(l),u=n(4),p=n(7),h=i(p),d=n(16),f=i(d),m=n(17),g=i(m),_=n(26),y=i(_),v=function(){function t(e,n){s(this,t),this._adonis=e,this._options=n}return a(t,[{key:"_getName",value:function(t){return"string"==typeof t?t:t.name?t.name:"adonis"}},{key:"_getTargetStyles",value:function(t,e){var n=[t.adonisBaseStyles,t.adonisStyles];return t.adonisTarget&&n.unshift(this._getTargetStyles(t.adonisTarget)),t.RootElement&&n.unshift(this._getTargetStyles(t.RootElement)),(0,u.flatten)(n).filter(function(t){return t})}},{key:"createComponent",value:function(t,e){var n=this._adonis,i=e.name;i||(i=this._getName(t));var p="string"==typeof t,d=t.prototype instanceof h.default,m=!d&&t.prototype instanceof l.Component,_=e.styles,v=e.variations,b=e.baseStyles;v=v||{};var k=new f.default(n,{styles:_,variations:v,name:i}),S=n.getOptions(),C=S.injection,w=S.theme,x=S.hashedStyles;if("pre"===C&&!x){var E=this._getTargetStyles(t,i),O=void 0,T=void 0;O=E.concat([b,k]).filter(function(t){return t}),T=new y.default(n,O,w),T.bufferRulesets();n.getStylesBuffer().flushToStyleTag()}var R=function(l){function h(){var t;s(this,h);for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var a=o(this,(t=h.__proto__||Object.getPrototypeOf(h)).call.apply(t,[this].concat(i)));return a._updateStylesManager(),a._adonis=n,a}return r(h,l),a(h,[{key:"_updateStylesManager",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this._allStyles=[b,k].concat(t.styles||[]).filter(function(t){return t});var e=this._getActiveVariationsFromProps(t);this._stylesManager=new g.default(n,this._allStyles,e,this.context.theme)}},{key:"componentWillReceiveProps",value:function(t){var e=this,n=t.styles!==this.props.styles,i=!1;(0,u.flatten)(this._allStyles.map(function(t){return t.getVariations()})).forEach(function(n){t[n]!==e.props[n]&&(i=!0)}),(n||i)&&this._updateStylesManager(t)}},{key:"_cloneProps",value:function(){var t=this,e={};return Object.keys(this.props).forEach(function(n){e[n]=t.props[n]}),e}},{key:"_getActiveVariationsFromProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,e={};return this._allStyles.forEach(function(t){return t.getVariations().forEach(function(t){return e[t]=!0})}),Object.keys(e).filter(function(e){return!0===t[e]}).sort()}},{key:"_buildClassName",value:function(){var t=this.props.className,e=[];e.push(t);var n=this._stylesManager.getClassName();return e.push(n),{className:e.filter(function(t){return t}).join(" ")}}},{key:"_shouldInjectCSS",value:function(){return!(!C||x)&&(p||m&&!d)}},{key:"render",value:function(){var n=this._cloneProps(),i=this._buildClassName(),o=i.className,r=this._adonis.getStylesBuffer();if(this._shouldInjectCSS()&&(this._stylesManager.bufferRulesets(),!0!==C||x||r.flushToStyleTag()),p){var s=e.variations;s&&Object.keys(s).forEach(function(t){delete n[t]}),this.props._activeParentVariations&&this.props._activeParentVariations.forEach(function(t){delete n[t]}),b&&b.getVariations().forEach(function(t){delete n[t]})}p?n.className=o:(n.styles=(0,u.flatten)([k].concat(this.props.styles||[])),n._activeParentVariations=Object.keys(v||{}).concat(this.props._activeParentVariations||[]));var a=this.props,l=a.children,h=a.innerRef;return h&&(m||p?n.ref=h:d&&(n.innerRef=h)),p&&(delete n.styles,delete n.innerRef,delete n._activeParentVariations),c.default.createElement(t,n,l)}}],[{key:"name",get:function(){return i}}]),h}(h.default);return R.contextTypes=h.default.contextTypes,R.adonisTarget=t,R.adonisStyles=k,R.adonisBaseStyles=b,R}}]),t}();e.default=v},function(e,n){e.exports=t},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),a=n(8),l=function(t){return t&&t.__esModule?t:{default:t}}(a),c=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),e}(s.Component);e.default=c,c.contextTypes={theme:l.default.object}},function(t,e,n){(function(e){if("production"!==e.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i};t.exports=n(9)(o,!0)}else t.exports=n(15)()}).call(e,n(2))},function(t,e,n){(function(e){"use strict";var i=n(10),o=n(11),r=n(12),s=n(13),a=n(14);t.exports=function(t,n){function l(t){var e=t&&(x&&t[x]||t[E]);if("function"==typeof e)return e}function c(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}function u(t){this.message=t,this.stack=""}function p(t){function i(i,c,p,h,d,f,m){if(h=h||O,f=f||p,m!==s)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==e.env.NODE_ENV&&"undefined"!=typeof console){var g=h+":"+p;!a[g]&&l<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",f,h),a[g]=!0,l++)}return null==c[p]?i?new u(null===c[p]?"The "+d+" `"+f+"` is marked as required in `"+h+"`, but its value is `null`.":"The "+d+" `"+f+"` is marked as required in `"+h+"`, but its value is `undefined`."):null:t(c,p,h,d,f)}if("production"!==e.env.NODE_ENV)var a={},l=0;var c=i.bind(null,!1);return c.isRequired=i.bind(null,!0),c}function h(t){function e(e,n,i,o,r,s){var a=e[n];if(k(a)!==t)return new u("Invalid "+o+" `"+r+"` of type `"+S(a)+"` supplied to `"+i+"`, expected `"+t+"`.");return null}return p(e)}function d(t){function e(e,n,i,o,r){if("function"!=typeof t)return new u("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a)){return new u("Invalid "+o+" `"+r+"` of type `"+k(a)+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<a.length;l++){var c=t(a,l,i,o,r+"["+l+"]",s);if(c instanceof Error)return c}return null}return p(e)}function f(t){function e(e,n,i,o,r){if(!(e[n]instanceof t)){var s=t.name||O;return new u("Invalid "+o+" `"+r+"` of type `"+w(e[n])+"` supplied to `"+i+"`, expected instance of `"+s+"`.")}return null}return p(e)}function m(t){function n(e,n,i,o,r){for(var s=e[n],a=0;a<t.length;a++)if(c(s,t[a]))return null;return new u("Invalid "+o+" `"+r+"` of value `"+s+"` supplied to `"+i+"`, expected one of "+JSON.stringify(t)+".")}return Array.isArray(t)?p(n):("production"!==e.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull)}function g(t){function e(e,n,i,o,r){if("function"!=typeof t)return new u("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=e[n],l=k(a);if("object"!==l)return new u("Invalid "+o+" `"+r+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var p=t(a,c,i,o,r+"."+c,s);if(p instanceof Error)return p}return null}return p(e)}function _(t){function n(e,n,i,o,r){for(var a=0;a<t.length;a++){if(null==(0,t[a])(e,n,i,o,r,s))return null}return new u("Invalid "+o+" `"+r+"` supplied to `"+i+"`.")}if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var o=0;o<t.length;o++){var a=t[o];if("function"!=typeof a)return r(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",C(a),o),i.thatReturnsNull}return p(n)}function y(t){function e(e,n,i,o,r){var a=e[n],l=k(a);if("object"!==l)return new u("Invalid "+o+" `"+r+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in t){var p=t[c];if(p){var h=p(a,c,i,o,r+"."+c,s);if(h)return h}}return null}return p(e)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||t(e))return!0;var n=l(e);if(!n)return!1;var i,o=n.call(e);if(n!==e.entries){for(;!(i=o.next()).done;)if(!v(i.value))return!1}else for(;!(i=o.next()).done;){var r=i.value;if(r&&!v(r[1]))return!1}return!0;default:return!1}}function b(t,e){return"symbol"===t||("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}function k(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":b(e,t)?"symbol":e}function S(t){if(void 0===t||null===t)return""+t;var e=k(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function C(t){var e=S(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}function w(t){return t.constructor&&t.constructor.name?t.constructor.name:O}var x="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",O="<<anonymous>>",T={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:function(){return p(i.thatReturnsNull)}(),arrayOf:d,element:function(){function e(e,n,i,o,r){var s=e[n];if(!t(s)){return new u("Invalid "+o+" `"+r+"` of type `"+k(s)+"` supplied to `"+i+"`, expected a single ReactElement.")}return null}return p(e)}(),instanceOf:f,node:function(){function t(t,e,n,i,o){return v(t[e])?null:new u("Invalid "+i+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return p(t)}(),objectOf:g,oneOf:m,oneOfType:_,shape:y};return u.prototype=Error.prototype,T.checkPropTypes=a,T.PropTypes=T,T}}).call(e,n(2))},function(t,e){"use strict";function n(t){return function(){return t}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(t){return t},t.exports=i},function(t,e,n){(function(e){"use strict";function n(t,e,n,o,r,s,a,l){if(i(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,s,a,l],p=0;c=new Error(e.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(t){};"production"!==e.env.NODE_ENV&&(i=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=n}).call(e,n(2))},function(t,e,n){(function(e){"use strict";var i=n(10),o=i;"production"!==e.env.NODE_ENV&&function(){var t=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=0,r="Warning: "+t.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(t){}};o=function(e,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!e){for(var i=arguments.length,o=Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];t.apply(void 0,[n].concat(o))}}}(),t.exports=o}).call(e,n(2))},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(e){"use strict";function i(t,n,i,l,c){if("production"!==e.env.NODE_ENV)for(var u in t)if(t.hasOwnProperty(u)){var p;try{o("function"==typeof t[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",l||"React class",i,u),p=t[u](n,u,l,i,null,s)}catch(t){p=t}if(r(!p||p instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",i,u,typeof p),p instanceof Error&&!(p.message in a)){a[p.message]=!0;var h=c?c():"";r(!1,"Failed %s type: %s%s",i,p.message,null!=h?h:"")}}}if("production"!==e.env.NODE_ENV)var o=n(11),r=n(12),s=n(13),a={};t.exports=i}).call(e,n(2))},function(t,e,n){"use strict";var i=n(10),o=n(11),r=n(13);t.exports=function(){function t(t,e,n,i,s,a){a!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e};return n.checkPropTypes=i,n.PropTypes=n,n}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),s=function(){function t(e,n){i(this,t),this._adonis=e,this._options=(0,r.defaults)(n,{variations:[],styles:{},name:"Unnamed"});var o=this._adonis.getOptions(),s=o.hashedStyles;if(s&&"string"!=typeof this._options.styles)throw new Error("Passing style objects with `hashedStyles` set to true is invalid.");this._hash=s?this._options.styles:(0,r.hashObject)(this._options.styles),this._variationHashes=this._hashVariations()}return o(t,[{key:"_hashVariations",value:function(){var t={},e=this._adonis.getOptions(),n=e.hashedStyles,i=this._options.variations;for(var o in i){var s=i[o];t[o]=n?s:(0,r.hashObject)(s)}return t}},{key:"getIdentifierForVariations",value:function(t){var e=this,n=this._options.name,i=this._adonis.getOptions(),o=i.hashSeparator,r=i.variationSeparator,s=""+n+o+this._hash;return t.sort().forEach(function(t){var n=e._variationHashes[t];n&&(s+=""+r+t+o+n)}),s}},{key:"getStyles",value:function(){return this._options.styles}},{key:"getVariationStyles",value:function(t){var e=this._options.variations;return t?t.map(function(t){return e[t]}).filter(function(t){return t}):e}},{key:"getVariations",value:function(){return Object.keys(this._options.variations||{})}}]),t}();e.default=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),s=n(18),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(){function t(e,n,o,r){i(this,t),this._adonis=e,this._styles=n,this._theme=r,this._activeVariations=o,this._className=this._generateClassName(this._activeVariations),this._baseSelector="."+this._className,this._rulesets=this._generateRulesets()}return o(t,[{key:"generateCSS",value:function(){return this._rulesets.map(function(t){return t.toCSS()}).filter(function(t){return t})}},{key:"bufferRulesets",value:function(){var t=this._adonis.getStylesBuffer(),e=this._rulesets.filter(function(e){return!t.isSelectorBuffered(e.getSelector())&&e.hasDeclarations()}).map(function(t){return[t.getSelector(),t.toCSS()]});t.bufferRulesets(e)}},{key:"_getCombinedStyles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,r.flatten)(this._styles.map(function(e){return[e.getStyles(),e.getVariationStyles(t)]}));return(0,r.deepMergeAll)(e)}},{key:"_generateClassName",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this._adonis.getOptions(),n=e.nameSeparator;return e.classNamePrefix+this._styles.map(function(e){return e.getIdentifierForVariations(t)}).join(n)}},{key:"_generateRulesets",value:function(){var t=new a.default(this._adonis,this._baseSelector,this._getCombinedStyles(this._activeVariations),{theme:this._theme});return(0,r.flatten)([t,t.getSubRulesets()])}},{key:"getClassName",value:function(){return this._className}}]),t}();e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),a=n(19),l=i(a),c=n(21),u=i(c),p=function(){function t(e,n,i,r){o(this,t),this._options=r,this._adonis=e,this._selector=n,this._styles=i,this._resolvedStyles=(0,s.resolveStylesObject)(this._styles,this._options.theme);var a=this._adonis.getOptions(),l=a.hashedStyles;this._hash=l?this._styles:(0,s.hashObject)(this._styles);var c=this._parseStyles(),u=c.subRulesets,p=c.declarations;this._subRulesets=u,this._declarations=p}return r(t,[{key:"_getSubRuleset",value:function(e,n){for(var i=this,o=this._adonis.getOptions(),r=o.minified,a=null,l=function(e,o){var r=(0,s.deepMerge)(i._options,{parentSelector:o});a=new t(i._adonis,e,n,r)},c=0;c<u.default.length;c++){if((0,u.default[c])(e,this._selector,l,r),a)return a}}},{key:"_parseStyles",value:function(){var t=[],e=[];for(var n in this._resolvedStyles){var i=this._resolvedStyles[n],o=this._getSubRuleset(n,i);o?t.push(o,o.getSubRulesets()):e.push(new l.default(this._adonis,n,i))}return{subRulesets:t,declarations:e}}},{key:"toCSS",value:function(){var t=this._options.parentSelector,e=this._adonis.getOptions(),n=e.minified,i=e.cssSelectorPrefix;if(0===this._declarations.length)return null;var o=t&&t.match(/^@/),r="",s="";t?(i&&!o&&(r+=i),r+=t+(n?"{":" {\n"),s="  "):r+=i;var a="";return i&&o&&(a+=i),a+=this._selector,r+=s+a+(n?"{":" {\n"),this._declarations.forEach(function(t){r+=s+t.toCSS()+(n?"":"\n")}),r+=s+"}",t&&(r+=n?"}":"\n}"),r}},{key:"getSubRulesets",value:function(){return this._subRulesets}},{key:"hasDeclarations",value:function(){return 0!==this._declarations.length}},{key:"getSelector",value:function(){return this._selector}}]),t}();e.default=p},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(20),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(){function t(e,n,o){i(this,t),this._adonis=e,this.key=n,this.value=o,this.cssKey=this.key.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}return r(t,[{key:"_getAutoPrefixedKeyPairs",value:function(){var t=this,e=a.default[this.key],n=[];return e&&e.forEach(function(e){n.push(["-"+e+"-"+t.cssKey,t.value])}),n}},{key:"toCSS",value:function(){var t=this._adonis.getOptions(),e=t.minified,n=t.autoPrefix,i=[[this.cssKey,this.value]];return n&&(i=i.concat(this._getAutoPrefixedKeyPairs())),i.map(function(t){var n=o(t,2),i=n[0],r=n[1];return(e?"":"  ")+i+":"+(e?"":" ")+r+";"}).join(e?"":"\n")}}]),t}();e.default=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="webkit",i="moz",o="ms";e.default={appearance:[n,i],userSelect:[n,i,o],textEmphasisPosition:[n],textEmphasis:[n],textEmphasisStyle:[n],textEmphasisColor:[n],boxDecorationBreak:[n],clipPath:[n],maskImage:[n],maskMode:[n],maskRepeat:[n],maskPosition:[n],maskClip:[n],maskOrigin:[n],maskSize:[n],maskComposite:[n],mask:[n],maskBorderSource:[n],maskBorderMode:[n],maskBorderSlice:[n],maskBorderWidth:[n],maskBorderOutset:[n],maskBorderRepeat:[n],maskBorder:[n],maskType:[n],textDecorationStyle:[n],textDecorationSkip:[n],textDecorationLine:[n],textDecorationColor:[n],filter:[n],fontFeatureSettings:[n],breakAfter:[n,i,o],breakBefore:[n,i,o],breakInside:[n,i,o],columnCount:[n,i],columnFill:[n,i],columnGap:[n,i],columnRule:[n,i],columnRuleColor:[n,i],columnRuleStyle:[n,i],columnRuleWidth:[n,i],columns:[n,i],columnSpan:[n,i],columnWidth:[n,i],flex:[n],flexBasis:[n],flexDirection:[n],flexGrow:[n],flexFlow:[n],flexShrink:[n],flexWrap:[n],alignContent:[n],alignItems:[n],alignSelf:[n],justifyContent:[n],order:[n],transform:[n],transformOrigin:[n],transformOriginX:[n],transformOriginY:[n],backfaceVisibility:[n],perspective:[n],perspectiveOrigin:[n],transformStyle:[n],transformOriginZ:[n],animation:[n],animationDelay:[n],animationDirection:[n],animationFillMode:[n],animationDuration:[n],animationIterationCount:[n],animationName:[n],animationPlayState:[n],animationTimingFunction:[n],backdropFilter:[n],fontKerning:[n],scrollSnapType:[n,o],scrollSnapPointsX:[n,o],scrollSnapPointsY:[n,o],scrollSnapDestination:[n,o],scrollSnapCoordinate:[n,o],shapeImageThreshold:[n],shapeImageMargin:[n],shapeImageOutside:[n],hyphens:[n,i,o],flowInto:[n,o],flowFrom:[n,o],regionFragment:[n,o],textAlignLast:[i],tabSize:[i],wrapFlow:[o],wrapThrough:[o],wrapMargin:[o],gridTemplateColumns:[o],gridTemplateRows:[o],gridTemplateAreas:[o],gridTemplate:[o],gridAutoColumns:[o],gridAutoRows:[o],gridAutoFlow:[o],grid:[o],gridRowStart:[o],gridColumnStart:[o],gridRowEnd:[o],gridRow:[o],gridColumn:[o],gridColumnEnd:[o],gridColumnGap:[o],gridRowGap:[o],gridArea:[o],gridGap:[o],textSizeAdjust:[n,o],transitionDelay:[n],transitionDuration:[n],transitionProperty:[n],transitionTimingFunction:[n]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),r=i(o),s=n(23),a=i(s),l=n(24),c=i(l),u=n(25),p=i(u);e.default=[r.default,a.default,c.default,p.default]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){if(t=t.trim(),">"!==t[0])return null;t=t.slice(1).trim();var o=e;return i||(o+=" "),o+=">",i||(o+=" "),o+=t,n(o)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){if(t=t.trim(),"&"!==t[0])return null;var o=!t.match(/^&\s+/);return t=t.replace(/^&/,""),n(t.split(",").map(function(t){return t.trim()}).map(function(t,n){return e+(0===n&&o?"":" ")+t}).join(", "))}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return t=t.trim(),":"!==t[0]?null:n(e+t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return t=t.trim(),"@"!==t[0]?null:n(e,t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(4),c=n(18),u=i(c),p=n(17),h=i(p),d=function(t){function e(t,n,i){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,[],i))}return s(e,t),a(e,[{key:"_generateVariationRulesets",value:function(){var t=this,e=(0,l.flatten)(this._styles.map(function(t){return t.getVariations()}));return(0,l.findAllCombinations)(e).map(function(e){var n=t._generateClassName(e),i="."+n,o=new u.default(t._adonis,i,t._getCombinedStyles(e),{theme:t._theme});return[o,o.getSubRulesets()]})}},{key:"_generateRulesets",value:function(){var t=new u.default(this._adonis,this._baseSelector,this._getCombinedStyles(),{theme:this._theme}),e=[t,t.getSubRulesets()];return e.push(this._generateVariationRulesets()),(0,l.flatten)(e)}}]),e}(h.default);e.default=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),a=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),e}(a.default);e.default=l},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(6),c=i(l),u=n(8),p=i(u);e.default=function(t){var e=function(e){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,e),a(n,[{key:"_cloneProps",value:function(){var t=this,e={};return Object.keys(this.props).forEach(function(n){e[n]=t.props[n]}),e}},{key:"render",value:function(){var e=this._cloneProps(),n=e.innerRef;return n&&(e.ref=n),delete e.innerRef,c.default.createElement(t,e)}}]),n}(c.default.Component);return e.contextTypes={theme:p.default.object},e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n(6),c=i(l),u=n(8),p=i(u),h=function(t){function e(){return o(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,t),a(e,[{key:"getChildContext",value:function(){var t={};for(var e in this.context)t[e]=this.context;return t.theme=this.props.theme,t}},{key:"render",value:function(){return this.props.children?c.default.Children.only(this.props.children):null}}]),e}(l.Component);e.default=h,h.childContextTypes={theme:p.default.object.isRequired},h.contextTypes={theme:p.default.object}}])})},function(t,e,n){n(85),n(34),n(38),n(158),n(168),n(169),t.exports=n(8).Promise},function(t,e,n){"use strict";var i,o,r,s,a=n(35),l=n(10),c=n(26),u=n(61),p=n(11),h=n(17),d=n(32),f=n(159),m=n(160),g=n(89),_=n(62).set,y=n(164)(),v=n(63),b=n(90),k=n(91),S=l.TypeError,C=l.process,w=l.Promise,x="process"==u(C),E=function(){},O=o=v.f,T=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[n(9)("species")]=function(t){t(E,E)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e}catch(t){}}(),R=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){for(var i=t._v,o=1==t._s,r=0;n.length>r;)!function(e){var n,r,s=o?e.ok:e.fail,a=e.resolve,l=e.reject,c=e.domain;try{s?(o||(2==t._h&&B(t),t._h=1),!0===s?n=i:(c&&c.enter(),n=s(i),c&&c.exit()),n===e.promise?l(S("Promise-chain cycle")):(r=R(n))?r.call(n,a,l):a(n)):l(i)}catch(t){l(t)}}(n[r++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){_.call(l,function(){var e,n,i,o=t._v,r=P(t);if(r&&(e=b(function(){x?C.emit("unhandledRejection",o,t):(n=l.onunhandledrejection)?n({promise:t,reason:o}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=x||P(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},P=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){_.call(l,function(){var e;x?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},A=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=R(t))?y(function(){var i={_w:n,_d:!1};try{e.call(t,c(A,i,1),c(M,i,1))}catch(t){M.call(i,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};T||(w=function(t){f(this,w,"Promise","_h"),d(t),i.call(this);try{t(c(A,this,1),c(M,this,1))}catch(t){M.call(this,t)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(165)(w.prototype,{then:function(t,e){var n=O(g(this,w));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=c(A,t,1),this.reject=c(M,t,1)},v.f=O=function(t){return t===w||t===s?new r(t):o(t)}),p(p.G+p.W+p.F*!T,{Promise:w}),n(37)(w,"Promise"),n(166)("Promise"),s=n(8).Promise,p(p.S+p.F*!T,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(a||!T),"Promise",{resolve:function(t){return k(a&&this===s?w:this,t)}}),p(p.S+p.F*!(T&&n(167)(function(t){w.all(t).catch(E)})),"Promise",{all:function(t){var e=this,n=O(e),i=n.resolve,o=n.reject,r=b(function(){var n=[],r=0,s=1;m(t,!1,function(t){var a=r++,l=!1;n.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,n[a]=t,--s||i(n))},o)}),--s||i(n)});return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=O(e),i=n.reject,o=b(function(){m(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(26),o=n(161),r=n(162),s=n(12),a=n(81),l=n(88),c={},u={},e=t.exports=function(t,e,n,p,h){var d,f,m,g,_=h?function(){return t}:l(t),y=i(n,p,e?2:1),v=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(r(_)){for(d=a(t.length);d>v;v++)if((g=e?y(s(f=t[v])[0],f[1]):y(t[v]))===c||g===u)return g}else for(m=_.call(t);!(f=m.next()).done;)if((g=o(m,y,f.value,e))===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e,n){var i=n(12);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(24),o=n(9)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(10),o=n(62).set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==n(28)(s);t.exports=function(){var t,e,n,c=function(){var i,o;for(l&&(i=s.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(c)};else if(!r||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var u=a.resolve();n=function(){u.then(c)}}else n=function(){o.call(i,c)};else{var p=!0,h=document.createTextNode("");new r(c).observe(h,{characterData:!0}),n=function(){h.data=p=!p}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var i=n(19);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:i(t,o,e[o]);return t}},function(t,e,n){"use strict";var i=n(10),o=n(8),r=n(16),s=n(18),a=n(9)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:i[t];s&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(9)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],s=r[i]();s.next=function(){return{done:n=!0}},r[i]=function(){return s},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(11),o=n(8),r=n(10),s=n(89),a=n(91);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,o.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(11),o=n(63),r=n(90);i(i.S,"Promise",{try:function(t){var e=o.f(this),n=r(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";var i=n(5),o=n.n(i),r=n(64),s=n(171),a=n(41),l=o.a.Utils,c=o.a.Math.Vector2,u={getInnerDimensionsForElement:function(t){var e=new c(t.offsetWidth,t.offsetHeight),n=window.getComputedStyle(t,null);return e.x-=parseInt(n.getPropertyValue("padding-left"),10),e.x-=parseInt(n.getPropertyValue("padding-right"),10),e.y-=parseInt(n.getPropertyValue("padding-top"),10),e.y-=parseInt(n.getPropertyValue("padding-bottom"),10),e},getEventPosition:function(t){var e=t.clientX,n=t.clientY;if(-1!==t.type.indexOf("touch")){if(!t.touches.length)return;e=t.touches[0].clientX,n=t.touches[0].clientY}return new c(e,n)},createTransparentPatternCanvas:function(){var t=document.createElement("canvas"),e=t.getContext("2d");return t.width=10,t.height=10,e.fillStyle="white",e.fillRect(0,0,t.width,t.height),e.fillStyle="#cccccc",e.fillRect(0,0,t.width/2,t.height/2),e.fillRect(t.width/2,t.height/2,t.width,t.height),t},supportsMSBlob:function(){return void 0!==document.createElement("canvas").msToBlob},translate:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.fetch(t,e);if(!i)return r.a.info("Utils#translate","Unable to translate `"+e+"`"),null;for(var o in n)i=i.replace("${"+o+"}",n[o]);return i},fetch:function(t,e,n){e=e.replace(/\[(\w+)]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),o=0;o<i.length;o++){if(!(t=t[i[o]]))break}return void 0!==t&&t},isMobile:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},select:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n||(n=function(t){return t});var i=[];return e.forEach(function(e){t.forEach(function(t){n(t)===e&&i.push(t)})}),i},getJSONP:function(t){return new a.a(t).load()},cloneCategories:function(t,e){return t.map(function(t){return t=l.clone(t),t[e]=t[e].slice(0),t})},mergeCategories:function(t,e,n){t=this.cloneCategories(t,n);var i=null;return e.forEach(function(e){t.forEach(function(t){e.identifier===t.identifier&&(i=t)}),i?i[n]=i[n].concat(e[n]):t.push(e)}),t},getStyleObject:function(t){var e=window.getComputedStyle(t),n={};for(var i in e){var o=e.getPropertyValue(i),r=i.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});""!==o&&(n[r]=o)}return n},styleElement:function(t,e){for(var n in e)t.style[n]=e[n]},debounce:function(t,e,n){var i;return function(){var o=this,r=arguments,s=function(){i=null,n||t.apply(o,r)},a=n&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(this,r)}},getScrollbarWidth:function(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var i=n.offsetWidth;return t.parentNode.removeChild(t),e-i},findIntegerFraction:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Number.MAX_VALUE,i=0,o=0,r=1,s=1,a=0;a<e;a++){var l=r/s-t;if(l<0)r++;else{if(!(l>0))return new c(r,s);s++}var u=Math.abs(r/s-t);u<n&&(n=u,i=r,o=s)}return new c(i,o)},toFixed:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t.toFixed(e);return parseFloat(n)},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},flipObject:function(t){var e={};for(var n in t)e[t[n]]=n;return e},Browser:s.a};e.a=u},function(t,e,n){"use strict";e.a={getIEVersion:function(){var t=navigator,e=t.userAgent,n=t.appVersion;return-1!==n.indexOf("MSIE")?n.match(/MSIE\s+?([0-9]+)/i)[1]:-1!==e.indexOf("Trident")&&e.match(/rv:([0-9]+)/i)[1]},isIE10:function(){var t=this.getIEVersion();return!1!==t&&10===t},isIE11:function(){var t=this.getIEVersion();return!1!==t&&11===t},isIElte:function(t){var e=this.getIEVersion();return!1!==e&&e<=t}}},function(t,e,n){"use strict";(function(t){var i=n(6),o=n.n(i),r=n(20),s=n.n(r),a=n(47),l=n.n(a),c=n(173),u=n.n(c),p=void 0===t?window:t,h=void 0!==o.a?o.a:function(){function t(t,e){m.add(t,e),f||(f=_(m.drain))}function e(t){var e,n=void 0===t?"undefined":s()(t);return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e&&e}function n(){for(var t=0;t<this.chain.length;t++)i(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function i(t,n,i){var o,r;try{!1===n?i.reject(t.msg):(o=!0===n?t.msg:n.call(void 0,t.msg),o===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=e(o))?r.call(o,i.resolve,i.reject):i.resolve(o))}catch(t){i.reject(t)}}function o(i){var s,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(s=e(i))?t(function(){var t=new c(a);try{s.call(i,function(){o.apply(t,arguments)},function(){r.apply(t,arguments)})}catch(e){r.call(t,e)}}):(a.msg=i,a.state=1,a.chain.length>0&&t(n,a))}catch(t){r.call(new c(a),t)}}}function r(e){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=e,i.state=2,i.chain.length>0&&t(n,i))}function a(t,e,n,i){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){n(o,t)},i)}(o)}function c(t){this.def=t,this.triggered=!1}function p(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new p(this);this.then=function(e,o){var r={success:"function"!=typeof e||e,failure:"function"==typeof o&&o};return r.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e}),i.chain.push(r),0!==i.state&&t(n,i),r.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){o.call(i,t)},function(t){r.call(i,t)})}catch(t){r.call(i,t)}}var d,f,m,g=Object.prototype.toString,_=void 0!==u.a?function(t){return u()(t)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(t,e,n,i){return l()(t,e,{value:n,writable:!0,configurable:!1!==i})}}catch(t){d=function(t,e,n){return t[e]=n,t}}m=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(o,r){i=new t(o,r),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=f=void 0;t;)t.fn.call(t.self),t=t.next}}}();var y=d({},"constructor",h,!1);return h.prototype=y,d(y,"__NPO__",0,!1),d(h,"resolve",function(t){var e=this;return t&&"object"==(void 0===t?"undefined":s()(t))&&1===t.__NPO__?t:new e(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),d(h,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),d(h,"all",function(t){var e=this;return"[object Array]"!=g.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var o=t.length,r=Array(o),s=0;a(e,t,function(t,e){r[t]=e,++s===o&&n(r)},i)})}),d(h,"race",function(t){var e=this;return"[object Array]"!=g.call(t)?e.reject(TypeError("Not an array")):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");a(e,t,function(t,e){n(e)},i)})}),h}();p.Promise=p.Promise||h,e.a=h}).call(e,n(29))},function(t,e,n){t.exports={default:n(174),__esModule:!0}},function(t,e,n){n(175),t.exports=n(8).setImmediate},function(t,e,n){var i=n(11),o=n(62);i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(t,e,n){if(t&&c.isObject(t)&&t instanceof i)return t;var o=new i;return o.parse(t,e,n),o}function r(t){return c.isString(t)&&(t=o(t)),t instanceof i?t.format():i.prototype.format.call(t)}function s(t,e){return o(t,!1,!0).resolve(e)}function a(t,e){return t?o(t,!1,!0).resolveObject(e):e}var l=n(177),c=n(179);e.parse=o,e.resolve=s,e.resolveObject=a,e.format=r,e.Url=i;var u=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(d),m=["'"].concat(f),g=["%","/","?",";","#"].concat(m),_=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=n(180);i.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",r=t.split(o),s=/\\/g;r[0]=r[0].replace(s,"/"),t=r.join(o);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var p=h.exec(a);if(p)return this.path=a,this.href=a,this.pathname=p[1],p[2]?(this.search=p[2],this.query=e?C.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=u.exec(a);if(d){d=d[0];var f=d.toLowerCase();this.protocol=f,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===a.substr(0,2);!w||d&&k[d]||(a=a.substr(2),this.slashes=!0)}if(!k[d]&&(w||d&&!S[d])){for(var x=-1,E=0;E<_.length;E++){var O=a.indexOf(_[E]);-1!==O&&(-1===x||O<x)&&(x=O)}var T,R;R=-1===x?a.lastIndexOf("@"):a.lastIndexOf("@",x),-1!==R&&(T=a.slice(0,R),a=a.slice(R+1),this.auth=decodeURIComponent(T)),x=-1;for(var E=0;E<g.length;E++){var O=a.indexOf(g[E]);-1!==O&&(-1===x||O<x)&&(x=O)}-1===x&&(x=a.length),this.host=a.slice(0,x),a=a.slice(x),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var I=this.hostname.split(/\./),E=0,P=I.length;E<P;E++){var B=I[E];if(B&&!B.match(y)){for(var M="",A=0,N=B.length;A<N;A++)B.charCodeAt(A)>127?M+="x":M+=B[A];if(!M.match(y)){var F=I.slice(0,E),j=I.slice(E+1),z=B.match(v);z&&(F.push(z[1]),j.unshift(z[2])),j.length&&(a="/"+j.join(".")+a),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=l.toASCII(this.hostname));var L=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+L,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!b[f])for(var E=0,P=m.length;E<P;E++){var V=m[E];if(-1!==a.indexOf(V)){var H=encodeURIComponent(V);H===V&&(H=escape(V)),a=a.split(V).join(H)}}var W=a.indexOf("#");-1!==W&&(this.hash=a.substr(W),a=a.slice(0,W));var q=a.indexOf("?");if(-1!==q?(this.search=a.substr(q),this.query=a.substr(q+1),e&&(this.query=C.parse(this.query)),a=a.slice(0,q)):e&&(this.search="",this.query={}),a&&(this.pathname=a),S[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",G=this.search||"";this.path=L+G}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,r="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(r=C.stringify(this.query));var s=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+o+n+s+i},i.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(c.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,o=Object.keys(this),r=0;r<o.length;r++){var s=o[r];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var u=a[l];"protocol"!==u&&(n[u]=t[u])}return S[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!S[t.protocol]){for(var p=Object.keys(t),h=0;h<p.length;h++){var d=p[h];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||k[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),v=y||_||n.host&&t.pathname,b=v,C=n.pathname&&n.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],w=n.protocol&&!S[n.protocol];if(w&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),v=v&&(""===f[0]||""===C[0])),y)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(w){n.hostname=n.host=C.shift();var x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");x&&(n.auth=x.shift(),n.host=n.hostname=x.shift())}return n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=C.slice(-1)[0],O=(n.host||t.host||C.length>1)&&("."===E||".."===E)||""===E,T=0,R=C.length;R>=0;R--)E=C[R],"."===E?C.splice(R,1):".."===E?(C.splice(R,1),T++):T&&(C.splice(R,1),T--);if(!v&&!b)for(;T--;T)C.unshift("..");!v||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),O&&"/"!==C.join("/").substr(-1)&&C.push("");var D=""===C[0]||C[0]&&"/"===C[0].charAt(0);if(w){n.hostname=n.host=D?"":C.length?C.shift():"";var x=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");x&&(n.auth=x.shift(),n.host=n.hostname=x.shift())}return v=v||n.host&&C.length,v&&!D&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=p.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,i){var o;!function(r){function s(t){throw new RangeError(P[t])}function a(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function l(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),t=t.replace(I,"."),i+a(t.split("."),e).join(".")}function c(t){for(var e,n,i=[],o=0,r=t.length;o<r;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<r?(n=t.charCodeAt(o++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),o--)):i.push(e);return i}function u(t){return a(t,function(t){var e="";return t>65535&&(t-=65536,e+=A(t>>>10&1023|55296),t=56320|1023&t),e+=A(t)}).join("")}function p(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:k}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,n){var i=0;for(t=n?M(t/x):t>>1,t+=M(t/e);t>B*C>>1;i+=k)t=M(t/B);return M(i+(B+1)*t/(t+w))}function f(t){var e,n,i,o,r,a,l,c,h,f,m=[],g=t.length,_=0,y=O,v=E;for(n=t.lastIndexOf(T),n<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&s("not-basic"),m.push(t.charCodeAt(i));for(o=n>0?n+1:0;o<g;){for(r=_,a=1,l=k;o>=g&&s("invalid-input"),c=p(t.charCodeAt(o++)),(c>=k||c>M((b-_)/a))&&s("overflow"),_+=c*a,h=l<=v?S:l>=v+C?C:l-v,!(c<h);l+=k)f=k-h,a>M(b/f)&&s("overflow"),a*=f;e=m.length+1,v=d(_-r,e,0==r),M(_/e)>b-y&&s("overflow"),y+=M(_/e),_%=e,m.splice(_++,0,y)}return u(m)}function m(t){var e,n,i,o,r,a,l,u,p,f,m,g,_,y,v,w=[];for(t=c(t),g=t.length,e=O,n=0,r=E,a=0;a<g;++a)(m=t[a])<128&&w.push(A(m));for(i=o=w.length,o&&w.push(T);i<g;){for(l=b,a=0;a<g;++a)(m=t[a])>=e&&m<l&&(l=m);for(_=i+1,l-e>M((b-n)/_)&&s("overflow"),n+=(l-e)*_,e=l,a=0;a<g;++a)if(m=t[a],m<e&&++n>b&&s("overflow"),m==e){for(u=n,p=k;f=p<=r?S:p>=r+C?C:p-r,!(u<f);p+=k)v=u-f,y=k-f,w.push(A(h(f+v%y,0))),u=M(v/y);w.push(A(h(u,0))),r=d(n,_,i==o),n=0,++i}++n,++e}return w.join("")}function g(t){return l(t,function(t){return R.test(t)?f(t.slice(4).toLowerCase()):t})}function _(t){return l(t,function(t){return D.test(t)?"xn--"+m(t):t})}var y=("object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType,"object"==typeof i&&i);var v,b=2147483647,k=36,S=1,C=26,w=38,x=700,E=72,O=128,T="-",R=/^xn--/,D=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=k-S,M=Math.floor,A=String.fromCharCode;v={version:"1.4.1",ucs2:{decode:c,encode:u},decode:f,encode:m,toASCII:_,toUnicode:g},void 0!==(o=function(){return v}.call(e,n,e,t))&&(t.exports=o)}()}).call(e,n(178)(t),n(29))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(181),e.encode=e.stringify=n(182)},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var l=1e3;r&&"number"==typeof r.maxKeys&&(l=r.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var p,h,d,f,m=t[u].replace(a,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),h=m.substr(g+1)):(p=m,h=""),d=decodeURIComponent(p),f=decodeURIComponent(h),i(s,d)?o(s[d])?s[d].push(f):s[d]=[s[d],f]:s[d]=f}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function i(t,e){if(t.map)return t.map(e);for(var n=[],i=0;i<t.length;i++)n.push(e(t[i],i));return n}var o=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(o(s))+n;return r(t[s])?i(t[s],function(t){return a+encodeURIComponent(o(t))}).join(e):a+encodeURIComponent(o(t[s]))}).join(e):a?encodeURIComponent(o(a))+n+encodeURIComponent(o(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var i=n(5),o=n.n(i),r=[];void 0!==o.a.Operations.SpriteOperation&&r.push(o.a.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush),e.a={EVENTS:{EXPORT:"export",CLOSE:"close",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",WINDOW_RESIZE:"window:resize",EDITOR_RESIZE:"editor:resize",ZOOM:"editor:zoom",ZOOM_CHANGED:"editor:zoom_changed",ZOOM_DONE:"editor:zoom_done",HISTORY_UNDO:"history:undo",HISTORY_UPDATED:"history:updated",HISTORY_BEFORE_UNDO:"history:before-undo",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",TEXT_SCALED:"editor:text:scaled",TRANSFORM_RESIZE:"transform:resize",TRANSFORM_REAPPLY_RATIO:"transform:reapply-ratio"},DEFAULTS:{TRANSFORM_RATIO_CATEGORIES:[{identifier:"imgly_transforms_common",defaultName:"Common Ratios",ratios:[{identifier:"imgly_transform_common_custom",defaultName:"Custom",ratio:"*",selected:!0},{identifier:"imgly_transform_common_square",defaultName:"Square",ratio:1},{identifier:"imgly_transform_common_4-3",defaultName:"4:3",ratio:4/3},{identifier:"imgly_transform_common_16-9",defaultName:"16:9",ratio:16/9}]},{identifier:"imgly_transforms_facebook",defaultName:"Facebook",ratios:[{identifier:"imgly_transform_facebook_profile",defaultName:"Profile Pic",ratio:1},{identifier:"imgly_transform_facebook_ad",defaultName:"Ad",dimensions:new o.a.Math.Vector2(1200,627)},{identifier:"imgly_transform_facebook_post",defaultName:"Post",dimensions:new o.a.Math.Vector2(940,788)},{identifier:"imgly_transform_facebook_cover",defaultName:"Cover",dimensions:new o.a.Math.Vector2(851,315)}]}],FONTS:[{fontFamily:"Aleo",variations:[{identifier:"imgly_font_aleo_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_aleo_bold.woff",textMetrics:{unitsPerEm:2048,ascender:1919,descender:-409}}]},{fontFamily:"Amatic SC",variations:[{identifier:"imgly_font_amaticsc",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_amaticsc.woff",textMetrics:{unitsPerEm:2048,ascender:2332,descender:-583}}]},{fontFamily:"Bernier",variations:[{identifier:"imgly_font_bernier_regular",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_bernier_regular.woff",textMetrics:{unitsPerEm:2048,ascender:2007,descender:-552}}]},{fontFamily:"Cheque",variations:[{identifier:"imgly_font_cheque_regular",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_cheque_regular.woff",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-495}}]},{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-640}}]},{fontFamily:"Gagalin",variations:[{identifier:"imgly_font_gagalin_regular",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_gagalin_regular.woff",textMetrics:{unitsPerEm:2048,ascender:1987,descender:-628}}]},{fontFamily:"Hagin",variations:[{identifier:"imgly_font_hagin_caps_thin",fontWeight:200,provider:"file",filePath:"fonts/imgly_font_hagin_caps_thin.woff",textMetrics:{unitsPerEm:2048,ascender:1964,descender:-482}}]},{fontFamily:"Intro",variations:[{identifier:"imgly_font_intro_inline",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_intro_inline.woff",textMetrics:{unitsPerEm:2048,ascender:1944,descender:-548}}]},{fontFamily:"Lobster",variations:[{identifier:"imgly_font_lobster",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_lobster.woff",textMetrics:{unitsPerEm:2048,ascender:2048,descender:-552}}]},{fontFamily:"Nexa",variations:[{identifier:"imgly_font_nexa_script",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_nexa_script.woff",textMetrics:{unitsPerEm:2048,ascender:1835,descender:-663}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}}]},{fontFamily:"Panton",variations:[{identifier:"imgly_font_panton_black_italic_caps",fontWeight:800,fontStyle:"italic",provider:"file",filePath:"fonts/imgly_font_panton_blackitalic_caps.woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-572}},{identifier:"imgly_font_panton_light_italic_caps",fontWeight:200,fontStyle:"italic",provider:"file",filePath:"fonts/imgly_font_panton_lightitalic_caps.woff",textMetrics:{unitsPerEm:2048,ascender:1961,descender:-556}}]},{fontFamily:"Perfograma",variations:[{identifier:"imgly_font_perfograma",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_perfograma.woff",textMetrics:{unitsPerEm:2048,ascender:1982,descender:-842}}]},{fontFamily:"Trashhand",variations:[{identifier:"imgly_font_trash_hand",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_trash_hand.woff",textMetrics:{unitsPerEm:2048,ascender:1554,descender:-663}}]}],BRUSHES:r}}},function(t,e,n){"use strict";var i=n(20),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=n.n(p),d=h.a.EventEmitter,f=h.a.Utils,m=h.a.Log,g=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s()(this,e);var i=l()(this,t.call(this));return i.setMaxListeners(50),i._canBroadcast=!0,i.state=n,i}return u()(e,t),e.prototype.set=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"object"!==(void 0===t?"undefined":o()(t))&&m.info("SharedState#set expects an object as first parameter");var n=f.extend(this.state,t),i=f.extend({},this.state);this.state=n,e&&this.broadcastUpdate(i,n)},e.prototype.get=function(t){return this.state[t]},e.prototype.getState=function(){return this.state},e.prototype.broadcastUpdate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._canBroadcast&&this.emit("update",t,e)},e.prototype.enableBroadcast=function(){this._canBroadcast=!0},e.prototype.disableBroadcast=function(){this._canBroadcast=!1},e.prototype.clear=function(){var t=this.state;this.state={},this.broadcastUpdate(t,this.state)},e}(d);e.a=g},function(t,e,n){t.exports={default:n(186),__esModule:!0}},function(t,e,n){n(38),n(34),t.exports=n(187)},function(t,e,n){var i=n(61),o=n(9)("iterator"),r=n(24);t.exports=n(8).isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||r.hasOwnProperty(i(e))}},function(t,e,n){t.exports={default:n(189),__esModule:!0}},function(t,e,n){n(38),n(34),t.exports=n(190)},function(t,e,n){var i=n(12),o=n(88);t.exports=n(8).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(31),d=n(196),f=n(201),m=n(233),g=n(87),_={loading:m.a,editor:f.a},y=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onPreloaderDone");var a=r.props.options,c=a.preloader?m.a:f.a;return r.state={theme:r.props.ui.getTheme(),screen:c,screenOptions:{onDone:r._onPreloaderDone}},r}return u()(e,t),e.prototype._onPreloaderDone=function(){this.setState({screen:f.a,screenOptions:{}})},e.prototype.getChildContext=function(){return{ui:this.props.ui,options:this.props.options,mediator:this.props.mediator,appComponent:this}},e.prototype.switchToScreen=function(t){this.setState({screen:_[t],screenOptions:{}})},e.prototype.getEditor=function(){return this._currentScreen.getEditor()},e.prototype.export=function(){var t;return(t=this._currentScreen).export.apply(t,arguments)},e.prototype.serialize=function(){var t;return(t=this._currentScreen).serialize.apply(t,arguments)},e.prototype.deserialize=function(t){return this._currentScreen.deserialize(t)},e.prototype.getBounds=function(){return this._container.getBoundingClientRect()},e.prototype._renderCurrentScreen=function(){var t=this,e=this.state,n=e.screen,i=e.screenOptions;return p.l.createElement(n,o()({},i,{innerRef:function(e){t._currentScreen=e}}))},e.prototype.render=function(){var t=this;return p.l.createElement(p.t,{theme:this.state.theme},p.l.createElement(v,{className:"photoeditorsdk-editor",innerRef:function(e){t._container=e}},p.l.createElement(d.a,{modalManager:h.a.instance}),this._renderCurrentScreen()))},e}(g.a);y.childContextTypes={ui:p.k.object.isRequired,mediator:p.k.object.isRequired,options:p.k.object.isRequired,appComponent:p.k.object.isRequired},y.propTypes={ui:p.k.object.isRequired,mediator:p.k.object.isRequired,options:p.k.object.isRequired},e.a=y;var v=p.w.div("wspo5c","AppContainer")},function(t,e,n){t.exports={default:n(193),__esModule:!0}},function(t,e,n){n(194),t.exports=n(8).Object.assign},function(t,e,n){var i=n(11);i(i.S+i.F,"Object",{assign:n(195)})},function(t,e,n){"use strict";var i=n(27),o=n(59),r=n(39),s=n(56),a=n(80),l=Object.assign;t.exports=!l||n(23)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i})?function(t,e){for(var n=s(t),l=arguments.length,c=1,u=o.f,p=r.f;l>c;)for(var h,d=a(arguments[c++]),f=u?i(d).concat(u(d)):i(d),m=f.length,g=0;m>g;)p.call(d,h=f[g++])&&(n[h]=d[h]);return n}:l},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(197),p=n(198),h=n(199),d=n(200),f=n(43),m=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._modalManager=a.props.modalManager,a._bindAll("_onModalManagerUpdate"),a.state={overlayVisible:!1},a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._modalManager.on("update",this._onModalManagerUpdate)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._modalManager.off("update",this._onModalManagerUpdate)},e.prototype._onModalManagerUpdate=function(){var t=this._modalManager.getModals(),e=t.filter(function(t){return t.visible}).filter(function(t){return!!t.overlay}).length>0;this.state.overlayVisible=e,this.forceUpdate()},e.prototype._onModalClosed=function(t){this._modalManager.removeModal(t)},e.prototype._renderModals=function(){var t=this;return this._modalManager.getModals().map(function(e){var n=void 0;switch(e.type){case"loading":n=u.a;break;case"warning":n=p.a;break;case"error":n=h.a;break;case"progress":n=d.a}return c.l.createElement(n,{modal:e,key:e.id,onClose:t._onModalClosed.bind(t,e)})})},e.prototype.render=function(){return c.l.createElement(_,null,c.l.createElement(f.a,{active:this.state.overlayVisible,enterProp:"rendered",enterDuration:1e3*this.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},c.l.createElement(g,null)),c.l.createElement("div",null,this._renderModals()))},e}(c.b);m.contextTypes=c.b.contextTypes,e.a=m;var g=c.w.div("ovs9m3",{visible:"zgbg08",rendered:"2jlos"},"Overlay"),_=c.w.div("8gacw5","Container")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(42),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e}(u.a);p.contextTypes=c.b.contextTypes,e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(42),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._buttons=a.props.modal.data.buttons||["OK"],a}return l()(e,t),e.prototype._onButtonClick=function(t){this.props.modal.emit("button",t),this.props.modal.close()},e}(u.a);p.contextTypes=c.b.contextTypes,e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(42),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._buttons=["Okay"],a}return l()(e,t),e.prototype._onButtonClick=function(t){0===t&&this.props.modal.close()},e}(u.a);p.contextTypes=c.b.contextTypes,e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(42),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e}(c.a);u.contextTypes=c.a.contextTypes,e.a=u},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(96),d=n(226),f=n(228),m=n(31),g=n(110),_=n(69),y=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onRenderError","_onImageResize","_startEditor","_onEditorReset");var a=r.context,c=a.ui,u=a.options,d=a.mediator;return r._editor=new h.a(c,u,d),r._editor.on("ready",r._startEditor),r._editor.on("render-error",r._onRenderError),r._editor.on("resize",r._onImageResize),r._editor.on("reset",r._onEditorReset),r._onWindowResize=p.u.debounce(r._onWindowResize.bind(r),250),r.state={sharedState:new p.s,controls:null,controlsOptions:{},currentControl:null},r}return u()(e,t),e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this.context.options.responsive&&window.addEventListener("resize",this._onWindowResize),this._editor.isReady()?this.switchToDefaultControls():this._editor.once("ready",function(){e.switchToDefaultControls()})},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.context.options.responsive&&window.removeEventListener("resize",this._onWindowResize)},e.prototype._onEditorReset=function(){"library"!==this.state.currentControl&&this.switchToDefaultControls()},e.prototype._onImageResize=function(){var t=this,e=m.a.instance.displayLoading(this._t("loading.resizing"));this._editor.once("resized",function(n){var i=n.dimensions,o=n.reason;e.close(),t.context.options.editor.displayResizeMessage&&m.a.instance.displayWarning(t._t("warnings.imageResized_"+o+".title"),t._t("warnings.imageResized_"+o+".text",{maxMegaPixels:t._editor.getMaxMegapixels(),width:i.x,height:i.y}))})},e.prototype._onRenderError=function(t){m.a.instance.displayError(this._t("errors.title"),this._t("errors.renderingError.text"),!0)},e.prototype._onWindowResize=function(){this._emitEvent(p.d.EVENTS.WINDOW_RESIZE);var t=new p.v(this._container.offsetWidth,this._container.offsetHeight);this._emitEvent(p.d.EVENTS.EDITOR_RESIZE,t)},e.prototype.switchToDefaultControls=function(t){var e=this.context.options,n=e.editor.defaultControl;this._editor.controls.isEnabled(n)||(p.h.warn("Trying to switch to default control `"+n+"` which is not available. Falling back to first available control."),n=this._editor.controls.getFirstEnabledControlName()),this.switchToControls(n,null,null,t)},e.prototype.switchToControls=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,i=arguments[2],r=arguments[3];if(this.state.currentControl===t)return r&&r();var s=this.state.sharedState;if("default"===t)return this.switchToDefaultControls(r);if(!this._editor.controls.isEnabled(t))return p.h.warn("Tried to open control `"+t+"` which is not available.");var a=this._editor.controls.getAvailable(),l=a[t];if(!l&&"overview"!==t)return p.h.error("Control `"+t+"` does not exist!");var c=o.a.resolve(!0);this.state.controls&&(c=this.state.controls.onLeave()),c.then(function(o){if(o){s.disableBroadcast(),s.disableBroadcast(),s.clear(),s.set(e);var a=p.q.defaults(i||n.context.options.editor.controlsOptions[l.identifier],l.defaultOptions),c=new l(n.getChildContext(),n.state.sharedState,a);c.onEnter(),s.enableBroadcast(),n.setState({controls:c,controlsOptions:a,currentControl:t},r)}})},e.prototype._startEditor=function(){this._editor.start()},e.prototype.getChildContext=function(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,mediator:this.context.mediator,sharedState:this.state.sharedState,screen:this,appComponent:this.context.appComponent}},e.prototype.render=function(){var t=this,e=this.state,n=e.controls,i=e.controlsOptions,o=void 0,r=void 0;if(n){var s=n.constructor,a=s.controlsComponent,l=s.canvasControlsComponent;o=a?p.l.createElement(a,{options:i,controls:n}):p.l.createElement("div",null),r=l?p.l.createElement(l,{options:i,controls:n}):p.l.createElement("div",null)}else o=p.l.createElement(g.a,null),r=p.l.createElement(_.a,null);return p.l.createElement(v,{innerRef:function(e){e&&(t._container=e)},className:void 0},p.l.createElement(f.a,{ref:"canvas"}),p.l.createElement(b,{innerRef:function(e){t._tableContainer=e}},p.l.createElement(d.a,{onControlSwitch:this.switchToControls.bind(this),currentControl:this.state.currentControl}),o,r))},e.prototype.getEditor=function(){return this._editor},e.prototype.export=function(){var t;return(t=this._editor).export.apply(t,arguments)},e.prototype.serialize=function(){var t;return(t=this._editor).serialize.apply(t,arguments)},e.prototype.deserialize=function(t){return this._editor.deserialize(t)},e}(p.b);y.contextTypes=p.b.contextTypes,y.childContextTypes={ui:p.k.object.isRequired,editor:p.k.object.isRequired,mediator:p.k.object.isRequired,options:p.k.object.isRequired,sharedState:p.k.object.isRequired,screen:p.k.object.isRequired,appComponent:p.k.object.isRequired};var v=p.w.div("5x8wsv","Container"),b=p.w.div("1b28xzz","TableContainer");e.a=Object(p.A)(y)},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=n(203),a=function(){function t(e,n,i){o()(this,t),this._sdk=e,this._options=n,this._download=i}return t.prototype.export=function(){var t=this,e=this._getRenderType();return this._sdk.export(e,this._options.format,this._options.quality).then(function(n){return t._download&&t._downloadData(e,n),n})},t.prototype._downloadData=function(t,e){switch(t){case r.o.DATAURL:s.a.downloadDataURL(e,this._options.fileBasename);break;case r.o.MSBLOB:s.a.downloadMSBlob(e,this._options.fileBasename)}},t.prototype._getRenderType=function(){var t=this._options;return t.type===r.o.IMAGE&&this._download?r.u.supportsMSBlob()?r.o.MSBLOB:r.o.DATAURL:t.type},t}();e.a=a},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(){o()(this,t)}return t.downloadDataURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export",n=this.createBlobURLFromDataURL(t),i=this.getExtensionFromDataURL(t),o=document.createElement("a");o.download=e+"."+i,o.href=n,document.body.appendChild(o),o.click(),document.body.removeChild(o)},t.downloadMSBlob=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export";navigator.msSaveBlob(t,e+".png")},t.getExtensionFromDataURL=function(t){return t.split(",")[0].split(":")[1].split(";")[0].split("/").pop()},t.createBlobURLFromDataURL=function(t){if(!(window.Blob&&window.URL&&ArrayBuffer&&Uint8Array))return t;for(var e=r.a.decode(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),o=new Uint8Array(i),s=0;s<e.length;s++)o[s]=e[s];var a=new window.Blob([i],{type:n});return window.URL.createObjectURL(a)},t}();e.a=s},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e,n,i){o()(this,t),this._image=e,this._maxPixels=n,this._maxDimensions=i}return t.prototype.needsResize=function(){var t=new r.v(this._image.width,this._image.height),e=t.x*t.y,n=e>this._maxPixels,i=null!==this._maxDimensions&&(t.x>this._maxDimensions||t.y>this._maxDimensions);return n||i},t.prototype.resize=function(){var t=this,e=null,n=null,i=this._maxDimensions;return new r.j(function(o,s){window.setTimeout(function(){var s=new r.v(t._image.width,t._image.height),a=s.clone();if(a.x*a.y>t._maxPixels&&(a.copy(t._getDimensionsByMaxPixels()),e="maxMegaPixels"),null!==i&&(a.x>i||a.y>i)){var l=Math.min(i/a.x,i/a.y);a.multiply(l),e="maxDimensions"}a.floor(),n=t._createResizedImageCanvas(a),o({canvas:n,dimensions:a,reason:e})},1e3)})},t.prototype._createResizedImageCanvas=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this._image,i=document.createElement("canvas");i.width=t.x,i.height=t.y;var o=t.clone().subtract(e).divide(2);return i.getContext("2d").drawImage(n,0,0,n.width,n.height,o.x,o.y,e.x,e.y),i},t.prototype._getDimensionsByMaxPixels=function(){var t=this._image,e=this._maxPixels,n=t.width/t.height,i=t.height/t.width;return new r.v(Math.sqrt(e*n),Math.sqrt(e*i)).floor()},t}();e.a=s},function(t,e,n){"use strict";var i=n(20),o=n.n(i),r=n(0),s=n.n(r),a=n(5),l=n.n(a),c=n(3),u=function(){function t(e,n,i){s()(this,t),this._editor=e,this._sdk=n,this._mediator=i,this._map={},this._stack=this._sdk&&this._sdk.getOperationsStack(),this._preferredOrder=this._editor.getOptions().editor.operationsOrder,this._available={};var o=l.a.Operations;for(var r in o){var a=o[r];this._available[a.identifier]=a}var c=e.getOptions(),u=c.extensions.operations;for(var p in u){var h=u[p];this._available[h.identifier]=h}this._stack&&this._fixStack()}return t.prototype.exists=function(t){return!!this._map[t]},t.prototype.add=function(t){var e=this,n=t.constructor.identifier;t.on("updated",function(){e._mediator.emit(c.d.EVENTS.OPERATION_UPDATED,t)});var i=this._preferredOrder.indexOf(n);if(-1===i)throw new Error("EditorOperations#add: `"+n+"` does not appear in `operationsOrder`");this._stack.set(i,t),this._map[n]=t,this._mediator.emit(c.d.EVENTS.OPERATION_CREATED,t)},t.prototype.remove=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="object"===(void 0===t?"undefined":o()(t))?t.constructor.identifier:t,i=this._stack.getStack();t=this.get(n),delete this._map[n];var r=i.map(function(t){return t.constructor.identifier}).indexOf(n);if(-1!==r){this._stack.removeAt(r);for(var s=r+1;s<i.length;s++){var a=i[s];a&&a.setDirty(!0)}e&&this._mediator.emit(c.d.EVENTS.OPERATION_REMOVED,t)}},t.prototype.get=function(t){return this._map[t]},t.prototype.getOrCreate=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._map[t]){return this._map[t]}var n=this._available[t];if(void 0===n)return c.h.warn("Trying to create an operation of type `"+t+"` that is not available."),null;var i=new n(this._sdk,e);return this.add(i),i},t.prototype.getStack=function(){return this._stack},t.prototype.isAvailable=function(t){return!!this._available[t]},t.prototype.getAvailable=function(){return this._available},t.prototype.reset=function(){this._map={}},t.prototype._fixStack=function(){var t=this,e=this._stack.getStack().slice();this._stack.clear(),e.forEach(function(e){t.add(e)})},t}();e.a=u},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(5),s=n.n(r),a=n(3),l=function(){function t(e,n,i){var r=this;o()(this,t),this._editor=e,this._sdk=n,this._mediator=i,this._options=this._editor.getOptions(),this._invalidOperationsSeen=[],this._available={};var a=s.a.UI.DesktopUI.Controls;for(var l in a){var c=a[l];this._available[c.identifier]=c}(this._options.extensions.controls||[]).forEach(function(t){r._available[t.identifier]=t})}return t.prototype.getFirstEnabledControlName=function(){for(var t in this._available)if(this.isEnabled(t))return t;return null},t.prototype.isEnabled=function(t){var e=this,n=this.get(t);if(!n)return a.h.info("EditorControls#isEnabled: Unknown control: "+t),!1;var i=n.requiredOperations||[],o=[];return i.forEach(function(t){e._editor.operations.isAvailable(t)||o.push(t)}),o.length?(-1===this._invalidOperationsSeen.indexOf(t)&&(this._invalidOperationsSeen.push(t),a.h.error("Control `"+t+"` can not be used because "+(1===o.length?"operation is":"operations are")+" missing: "+o.map(function(t){return"`"+t+"`"}).join(", "))),!1):n.isEnabled(this._editor)},t.prototype.get=function(t){return this._available[t]},t.prototype.getAvailable=function(){return this._available},t}();e.a=l},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e,n,i){o()(this,t),this._editor=e,this._sdk=n,this._mediator=i,this._options=this._editor.getOptions(),this.reset()}return t.prototype.isEnabled=function(t){return this._features[t]&&this.isEnabledByOptions(t)},t.prototype.isEnabledByOptions=function(t){var e=t.charAt(0).toUpperCase()+t.slice(1),n=this._options.editor["enable"+e];return void 0===n&&(n=!0),n},t.prototype.enable=function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){t._features[e]=!0}),this._mediator.emit(r.d.EVENTS.FEATURES_ENABLED,n),this._mediator.emit(r.d.EVENTS.FEATURES_UPDATED,n)},t.prototype.disable=function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){t._features[e]=!1}),this._mediator.emit(r.d.EVENTS.FEATURES_DISABLED,n),this._mediator.emit(r.d.EVENTS.FEATURES_UPDATED,n)},t.prototype.reset=function(){this._features={drag:this._options.editor.enableDrag,zoom:this._options.editor.enableZoom,export:!0,new:!0}},t}();e.a=s},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(15),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(209),d=function(t){function e(n,i,r){o()(this,e);var s=l()(this,t.call(this));return s._editor=n,s._sdk=i,s._mediator=r,s._isDefaultZoom=!1,s._zoom=s._sdk.getZoom(),s._targetZoom=s._zoom,s._options=s._editor.getOptions(),s._zoomLevels=[1,2,3,4,5,6.25,8.33,12.5,16.66,25,33.33,50,66.66,100,200,300,400,500,600,700,800,1200,1600,3200].map(function(t){return t/100}),s._editor.on("ready",function(){s._defaultLevel=s._calculateDefaultZoomLevel()}),s}return u()(e,t),e.prototype.auto=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];t&&(this._defaultLevel=this._calculateDefaultZoomLevel()),this.set(this._defaultLevel,e,n)},e.prototype.in=function(t){var e=this._getClosestZoomLevel(this._targetZoom+.001,1);e=this._clamp(e),this.set(e,t)},e.prototype.out=function(t){var e=this._getClosestZoomLevel(this._targetZoom-.001,-1);e=this._clamp(e),this.set(e,t)},e.prototype._clamp=function(t){var e=this._calculateDefaultZoomLevel(),n=Math.max(1,2*e),i=this.minimum;return Math.max(i,Math.min(n,t))},e.prototype.set=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2];this._targetZoom=t,this._mediator.emit(p.d.EVENTS.ZOOM,t),this._zoom===this._targetZoom&&(n=!0),this._transition&&(this._transition.stop(),this._transition=null);var o=function(t){e._set(t,function(){i&&i(),e._mediator.emit(p.d.EVENTS.ZOOM_DONE,e._zoom)}),e._transition=null,e._sdk.setTextureQuality(Math.min(e._zoom,1))};if(n)return o(t);this._transition=new h.a({zoom:this._zoom},{zoom:t},{duration:300,easing:"easeOutQuart",onUpdate:function(t){e._set(t.zoom)},onDone:function(t){o(t.zoom)}}),this._transition.start()},e.prototype.tick=function(){this._transition&&this._transition.update()},e.prototype._getClosestZoomLevel=function(t,e){var n=void 0;return-1===e?(n=this._zoomLevels.filter(function(e){return e<t}).pop())||(n=this._zoomLevels[this._zoomLevels.length-1]):1===e&&((n=this._zoomLevels.filter(function(e){return e>t})[0])||(n=this._zoomLevels[0])),n},e.prototype.undo=function(){this._previousZoom&&(this.set(this._previousZoom),this._previousZoom=null)},e.prototype._set=function(t,e){this._zoom=t,this._sdk.setZoom(this._zoom),this._mediator.emit(p.d.EVENTS.ZOOM_CHANGED,this._zoom),this.emit("set",this._zoom,e)},e.prototype._calculateDefaultZoomLevel=function(){var t=this._editor.getFinalDimensions(!1),e=this._editor.getCanvasDimensions();return p.q.resizeVectorToFit(t,e).divide(t).x},s()(e,[{key:"minimum",get:function(){var t=this._editor.getFinalDimensions();return p.q.resizeVectorToFit(t,new p.v(300,300)).divide(t).x}},{key:"level",get:function(){return this._zoom}},{key:"defaultLevel",get:function(){return this._defaultLevel}},{key:"targetLevel",get:function(){return this._targetZoom}}]),e}(p.e);e.a=d},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(5),s=(n.n(r),{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}),a=function(){function t(e,n,i){o()(this,t),this._obj=e,this._initialObj=r.Utils.clone(e),this._targetValues=n,this._options=r.Utils.defaults(i,{duration:1e3,easing:"easeOutQuad",onUpdate:function(){},onDone:function(){}}),this._startedAt=null,this._running=!1}return t.prototype.start=function(){this._startedAt=+new Date,this._running=!0},t.prototype.update=function(){if(this._running){var t=+new Date-this._startedAt,e=s[this._options.easing],n=Math.min(1,t/this._options.duration),i=e(n);for(var o in this._initialObj){var r=this._initialObj[o],a=this._targetValues[o];this._obj[o]=r+(a-r)*i}this._options.onUpdate(this._obj),n>=1&&(this._options.onDone(this._obj),this.stop())}},t.prototype.stop=function(){this._running=!1},t}();e.a=a},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(211),p=function(t){function e(n,i,r){o()(this,e);var a=s()(this,t.call(this));return a._editor=n,a._sdk=i,a._mediator=r,a._items=[],a}return l()(e,t),e.prototype.isItem=function(t){return t instanceof u.a},e.prototype.isAvailable=function(){return 0!==c.q.flatten(this.getItems()).length},e.prototype.createItem=function(t){return new u.a(t)},e.prototype.addObject=function(t){this.addItem(this.createItem(t))},e.prototype.addObjects=function(t){var e=this,n=t.map(function(t){return e.createItem(t)});this.addItems(n)},e.prototype.addItem=function(t){this._items.push(t),this._mediator.emit(c.d.EVENTS.HISTORY_UPDATED,t.operation)},e.prototype.addItems=function(t){var e=this;this._items.push(t),t.forEach(function(t){e._mediator.emit(c.d.EVENTS.HISTORY_UPDATED,t.operation)})},e.prototype.removeItems=function(t){var e=this;t.forEach(function(t){var n=e._items.indexOf(t);-1!==n&&e._items.splice(n,1)})},e.prototype.undo=function(){var t=this,e=this._editor.operations,n=this._items,i=n.pop();if(i){var o=[].concat(i);o.forEach(function(n){t._mediator.emit(c.d.EVENTS.HISTORY_BEFORE_UNDO,n);var i=n.serializeOptions(),o=i.operation,r=i.options,s=i.existent,a=e.get(o);n.undoBefore(a,r),s?(a=e.getOrCreate(o),a.set(r),t._mediator.emit(c.d.EVENTS.OPERATION_UPDATED,a)):e.remove(o),n.undo(a,r)}),this._mediator.emit(c.d.EVENTS.HISTORY_UNDO,o),this.emit("undo")}},e.prototype.reset=function(){this._items=[]},e.prototype.getItems=function(){return this._items},e.prototype.getLastItem=function(){return this._items[this._items.length-1]},e}(c.e);e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._undone=!1,a}return l()(e,t),e.prototype.undo=function(){if(this._options.undo){var t;(t=this._options).undo.apply(t,arguments)}this._undone=!0},e.prototype.undoBefore=function(){if(this._options.undoBefore){var t;(t=this._options).undoBefore.apply(t,arguments)}},e.prototype.isUndone=function(){return this._undone},e}(c.p.Configurable);e.a=u,u.prototype.availableOptions={type:{type:c.i.STRING,required:!0,default:"global",available:["global","local"]},data:{type:c.i.OBJECT,default:{}},operation:{type:c.i.STRING,required:!0},options:{type:c.i.OBJECT,default:{}},existent:{type:c.i.BOOLEAN,default:!0},undo:{type:c.i.FUNCTION},undoBefore:{type:c.i.FUNCTION}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(97),s=n(98),a=function(){function t(e){o()(this,t),this._editor=e}return t.prototype.serialize=function(){var t=new r.a(this._editor);return t.serialize.apply(t,arguments)},t.prototype.deserialize=function(t){return new s.a(this._editor,t).deserialize()},t}();e.default=a,a.version="1.0.0"},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e}(c.Configurable));e.a=u,u.prototype.availableOptions={fontFamily:{type:c.OptionType.STRING,required:!0},variations:{type:c.OptionType.ARRAY,required:!0}}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(103),u={italic:"i"},p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.load=function(){return this._fonts.length&&this._addStylesheetTag(),t.prototype.load.call(this)},e.prototype._addStylesheetTag=function(){var t=this._getFamiliesString(),e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family="+t,document.getElementsByTagName("head")[0].appendChild(e)},e.prototype._getFamiliesString=function(){var t={};this._fonts.forEach(function(e){var n=e.getFontFamily(),i=e.getFontStyle(),o=e.getFontWeight();t[n]=t[n]||[],void 0!==o?t[n].push(""+o+(u[i]||"")):t[n].push(400)});var e=[];for(var n in t){var i=t[n],o=i.length?":"+i.join(","):"",r=n.replace(" ","+")+o;e.push(r)}return e.join("|")},e}(c.a);e.a=p},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(216),l="undefined"!=typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):n(95),c=function(){function t(e){s()(this,t),this._fontVariation=e,this._defaultFontRuler=new a.a,this._customFontRuler=new a.a(this._fontVariation)}return t.prototype.observe=function(){var t=this,e=l();return new o.a(function(n,i){var o=window.setInterval(function(){if(t._defaultFontRuler.getWidth()!==t._customFontRuler.getWidth())return window.clearInterval(o),n();if(l()-e>=5e3){var r=new Error("Failed to load font "+t._fontVariation.getFontFamily()+".");return r.font=t._fontVariation,i(r)}},50)})},t.prototype.dispose=function(){this._defaultFontRuler.dispose(),this._customFontRuler.dispose()},t}();e.a=c},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(102),s=function(){function t(e){o()(this,t),this._fontVariation=e||new r.a({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"}),this._createRuler()}return t.prototype._createRuler=function(){this._ruler=document.createElement("div"),this._ruler.innerText="abcdefghijklmnopqrstuvwxzy",document.body.appendChild(this._ruler),this._setRulerStyle()},t.prototype._setRulerStyle=function(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: "+this._fontVariation.getFontStyle()+" "+this._fontVariation.getFontWeight()+" 30px "+this._fontVariation.getFontFamily()+";\n    "},t.prototype.setFontVariation=function(t){this._fontVariation=t,this._setRulerStyle()},t.prototype.getWidth=function(){return this._ruler.offsetWidth},t.prototype.dispose=function(){this._ruler&&(this._ruler.parentNode.removeChild(this._ruler),this._ruler=null)},t}();e.a=s},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(103),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.load=function(){var e=this,n=[];return this._fonts.forEach(function(t){var i=e._ui.getAssetPath(t.getFilePath(),!1,!0);n.push('@font-face {\n        font-family: "'+t.getFontFamily()+"\";\n        src: url('"+i+"') format('woff');\n        font-weight: "+t.getFontWeight()+";\n        font-style: "+t.getFontStyle()+";\n      }")}),c.w.global(n.join("\n"),!0),t.prototype.load.call(this)},e}(u.a);e.a=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(104),s=n(105),a=function(){function t(e){o()(this,t),this._editor=e}return t.prototype.serialize=function(){var t=new r.a(this._editor);return t.serialize.apply(t,arguments)},t.prototype.deserialize=function(t){return new s.a(this._editor,t).deserialize()},t}();e.default=a,a.version="1.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(66),s=n(67),a=function(){function t(e){o()(this,t),this._editor=e}return t.prototype.serialize=function(){var t=new r.a(this._editor);return t.serialize.apply(t,arguments)},t.prototype.deserialize=function(t){return new s.a(this._editor,t).deserialize()},t}();e.default=a,a.version="2.0.0"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(221),s=n(222),a=function(){function t(e){o()(this,t),this._editor=e}return t.prototype.serialize=function(){var t=new r.a(this._editor);return t.serialize.apply(t,arguments)},t.prototype.deserialize=function(t){return new s.a(this._editor,t).deserialize()},t}();e.default=a,a.version="2.0.1"},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(66),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e}(c.a);e.a=u,u.version="2.0.0"},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(67),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e}(c.a);e.a=u,u.version="2.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n.n(i),r=n(224),s=n(225),a=function(){function t(e){o()(this,t),this._editor=e}return t.prototype.serialize=function(){var t=new r.a(this._editor);return t.serialize.apply(t,arguments)},t.prototype.deserialize=function(t){return new s.a(this._editor,t).deserialize()},t}();e.default=a,a.version="3.0.0"},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(66),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.serialize=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.prototype.serialize.call(this,n).then(function(t){return t.meta={platform:"html5",version:e._editor.getSDK().version,createdAt:c.q.ISODateString(new Date)},t.image=t.inputImage,delete t.inputImage,t})},e.prototype._serializeSticker=function(e,n){var i=t.prototype._serializeSticker.call(this,e,n);return i.options.alpha=n.getAlpha(),i.options.tintColor&&(i.options.tintColor={rgba:i.options.tintColor}),i},e.prototype._serializeText=function(e,n){var i=t.prototype._serializeText.call(this,e,n);return i.options.color={rgba:i.options.color},i.options.backgroundColor={rgba:i.options.backgroundColor},i.options.flipHorizontally=!1,i.options.flipVertically=!1,delete i.options.fontWeight,i},e.prototype._serializePath=function(e){var n=t.prototype._serializePath.call(this,e);delete n.hardness,delete n.size,delete n.color;var i=e.getBrush();n.brush=i.serializeOptions(["identifier","size","color"],!0),void 0===n.brush.identifier&&delete n.brush.identifier,n.brush.color={rgba:n.brush.color};var o=i.getOption("hardness");return"undefined"!==o&&(n.brush.hardness=o),n},e.prototype._serializeFrameOperation=function(e,n){t.prototype._serializeFrameOperation.call(this,e,n);var i=n.filter(function(t){return"sprite"===t.type}),o=void 0;if(i.length){o=i.pop();var r=o.options.sprites.filter(function(t){return"frame"===t.type})[0];e.getTintColor().equals(new c.c(1,1,1,0))||(r.options.tintColor={rgba:e.serializeOption("tintColor",!0)});var s=e.serializeOptions(["scale","alpha"],!0);r.options=c.q.extend(r.options,s),r.options.size=r.options.scale,delete r.options.scale}},e.prototype._serializeTransformOperation=function(e){var n=t.prototype._serializeTransformOperation.call(this,e);return e._ratio&&(n.options.meta={identifier:e._ratio.identifier}),delete n.options.scale,n},e.prototype._serializeAdjustmentsOperation=function(e){var n=t.prototype._serializeAdjustmentsOperation.call(this,e),i=e.availableOptions,o=i.gamma,r=e.getGamma(),s=o.minValue,a=o.midValue,l=o.maxValue;return n.options.gamma=r<=a?(r-s)/(a-s)-1:(r-a)/(l-a),n},e.prototype._serializeOperation=function(e,n){switch(e.constructor.identifier){case"mirrored-focus":return this._serializeMirroredFocusOperation(e);case"linear-focus":return this._serializeLinearFocusOperation(e);case"blur":return this._serializeBlurOperation(e);default:return t.prototype._serializeOperation.call(this,e,n)}},e.prototype._serializeMirroredFocusOperation=function(t){return{type:"focus",options:{type:"mirrored",options:t.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}},e.prototype._serializeLinearFocusOperation=function(t){var e=t.serializeOptions(["controlPoint1","controlPoint2","blurRadius"],!0);return e.start=e.controlPoint1,delete e.controlPoint1,e.end=e.controlPoint2,delete e.controlPoint2,{type:"focus",options:{type:"linear",options:e}}},e.prototype._serializeBlurOperation=function(t){return{type:"focus",options:{type:"gaussian",options:t.serializeOptions(["blurRadius"],!0)}}},e}(u.a);e.a=p,p.version="3.0.0"},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(67),d=n(44),f=n(30),m=void 0;void 0!==p.p.Operations.SpriteOperation&&(m=p.p.Operations.SpriteOperation.BrushSprite.Brush);var g=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype._deserializeSticker=function(t,e){var n=p.p.Operations.SpriteOperation,i=e.options,r=this._stickerManager.getStickerByIdentifier(i.identifier);if(!r)return p.h.warn("Deserializer","Unknown sticker `"+i.identifier+"`. Skipping sprite."),o.a.resolve();var s=d.a.getURLForSticker(r,"base"),a=this._editor.getUI().getAssetPath(s),l=t.getInputDimensions(!1);return f.a.load(a).then(function(e){var o=n.StickerSprite.prototype.availableOptions.adjustments.structure,s=i.rotation,a=i.flipHorizontally,c=i.flipVertically,u={identifier:i.identifier,image:e,position:p.v.fromObject(i.position),dimensions:p.v.fromObject(i.dimensions).multiply(l.min()),rotation:s||0,flipHorizontally:a,flipVertically:c,adjustments:{}};return void 0!==i.adjustments&&["brightness","contrast","saturation"].forEach(function(t){void 0!==i.adjustments[t]&&(u.adjustments[t]=i.adjustments[t]+o[t].default)}),void 0!==i.tintColor&&void 0!==r.tintMode&&(u.tintColor=p.c.fromArray(i.tintColor.rgba),u.tintMode=r.tintMode),void 0!==i.alpha&&(u.alpha=i.alpha),t.createSticker(u)})},e.prototype._deserializeTransformOperation=function(e){return t.prototype._deserializeTransformOperation.call(this,e).then(function(t){if(t)return t._ratio=null,t})},e.prototype._deserializeInputImage=function(){var t=this,e=this._data.image,n=e.data,i=e.type,r=e.uri;return n&&i&&(r="data:"+i+";base64,"+n),r?f.a.load(r).then(function(e){t._editor.setImage(e)}):o.a.resolve()},e.prototype._deserializeAdjustmentsOperation=function(e){var n=p.p.Operations.AdjustmentsOperation;return t.prototype._deserializeAdjustmentsOperation.call(this,e).then(function(t){if(!t)return null;var i=e.options;if(void 0!==i.gamma){var o=n.prototype.availableOptions.gamma,r=o.minValue,s=o.midValue,a=o.maxValue;t.setGamma(i.gamma<0?s+(s-r)*i.gamma:s+(a-s)*i.gamma)}return t})},e.prototype._deserializeFocusOperation=function(e){var n=e.options.options;switch(e.options.type){case"radial":t.prototype._deserializeFocusOperation.call(this,e);break;case"linear":var i=n.start,o=n.end,r=n.blurRadius;this._editor.operations.getOrCreate("linear-focus",{controlPoint1:p.v.fromObject(i),controlPoint2:p.v.fromObject(o),blurRadius:r});break;case"mirrored":var s=n.start,a=n.end,l=n.size,c=n.gradientSize,u=n.blurRadius;this._editor.operations.getOrCreate("mirrored-focus",{start:p.v.fromObject(s),end:p.v.fromObject(a),size:l,gradientSize:c,blurRadius:u});break;case"gaussian":var h=n.blurRadius;this._editor.operations.getOrCreate("blur",{blurRadius:h})}},e.prototype._deserializeText=function(t,e){var n=e.options,i=n.fontSize,o=n.lineHeight,r=n.fontIdentifier,s=n.alignment,a=n.rotation,l=n.maxWidth,c=n.color,u=n.backgroundColor,h=this._ui.getFontLoader(),d=this._fontManager.getVariationByIdentifier(r);return d?h.setFonts([d.getFont()]):d=this._fontManager.getDefaultVariation(),h.load().then(function(){var e=t.getInputDimensions(!1),r=l*e.min()/e.x;return t.createText({fontSize:i,lineHeight:o,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),textMetrics:d.getTextMetrics(),alignment:s,rotation:a,maxWidth:r,text:n.text,color:p.c.fromArray(c.rgba),backgroundColor:p.c.fromArray(u.rgba),position:p.v.fromObject(n.position)})})},e.prototype._createBrushForPath=function(t){var e=t.brush,n=e.identifier,i=e.color,o=e.size,r=e.hardness,a=p.c.fromArray(i.rgba),c={color:a,size:o};void 0!==r&&(c.hardness=r);var h=this._brushManager.getBrushByIdentifier(n);if(h||(h=this._brushManager.getFirstBrush()),h.prototype&&h.prototype instanceof m){return new h(c)}var d=p.q.extend({},h);delete d.image;var f=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e}(m);return f.identifier=h.identifier,new f(p.q.extend({},d,c))},e.prototype._deserializeFrame=function(e,n){var i=this;return t.prototype._deserializeFrame.call(this,e,n).then(function(){var t=i._editor.operations.get("frame"),e=n.options,o=e.size,r=e.alpha,s=e.tintColor,a={};void 0!==o&&(a.scale=o),void 0!==r&&(a.alpha=r),void 0!==s&&(a.tintColor=p.c.fromArray(s.rgba)),t.set(a)})},e}(h.a);e.a=g,g.version="3.0.0"},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(227),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._needsStyleFixes=!0,a._bindAll("_onMouseEnter","_onMouseLeave"),a.state={isHovering:!1},a}return l()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return t.currentControl!==this.props.currentControl||e.isHovering!==this.state.isHovering},e.prototype._onItemClick=function(t){this.props.disabled||(this._onMouseLeave(),this.props.onControlSwitch(t))},e.prototype._onMouseEnter=function(){this.props.disabled||this.setState({isHovering:!0})},e.prototype._onMouseLeave=function(){this.props.disabled||this.setState({isHovering:!1})},e.prototype.fixStyles=function(){if(c.u.Browser.isIElte(10)){var t=this._navigation.offsetHeight;this._gradient.style.height=t+"px"}},e.prototype._getItemCount=function(t){var e=this;return t.reduce(function(t,n){return Array.isArray(n)?t+e._getItemCount(n):t+1},0)},e.prototype._renderListItems=function(){var t=this,e=this.context.editor,n=this.state.isHovering,i=function(i,o,r){var s=e.controls.get(i),a=i===t.props.currentControl;return c.l.createElement(u.a,{key:i,title:i,showTitle:n,iconPath:t._getAssetPath(s.iconPath,!0),activeIconPath:t._getAssetPath(s.activeIconPath,!0),selected:a,onClick:t._onItemClick.bind(t,i),animationDelay:.02*o,maxAnimationDelay:.02*r,disabled:t.props.disabled})},o=function(t){return c.l.createElement(u.a,{key:t,isSeparator:!0})},r=[],s=this.context.options.editor.controlsOrder,a=this._getItemCount(s)-1;return s.forEach(function(t,n){if(Array.isArray(t))t.forEach(function(t){e.controls.isEnabled(t)&&r.push(i(t,r.length,a))}),n!==s.length-1&&r.length&&r.push(o("separator-"+n));else{if(!e.controls.isEnabled(t))return;r.push(i(t,r.length,a))}}),r},e.prototype.render=function(){var t=this,e=this.state.isHovering,n=this._getAssetPath("editor/navigation/nav-gradient.png",!0),i={backgroundImage:"url("+n+")"};return c.l.createElement(h,{onMouseLeave:this._onMouseLeave,innerRef:function(e){t._navigation=e}},c.l.createElement(d,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,disabled:this.props.disabled},this._renderListItems()),c.l.createElement(f,{className:void 0,innerRef:function(e){t._gradient=e},style:i,visible:e}))},e}(c.b);p.contextTypes=c.b.contextTypes,e.a=p;var h=c.w.div("1y776sn","NavigationContainer"),d=c.w.ul("9phbku","Navigation"),f=c.w.div("5jr86g",{visible:"1aw31yo"},"NavigationOverlay")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return t.showTitle!==this.props.showTitle||t.selected!==this.props.selected},e.prototype.render=function(){if(this.props.isSeparator)return c.l.createElement(d,null);var t={transitionDelay:(this.props.showTitle?this.props.animationDelay:this.props.maxAnimationDelay-this.props.animationDelay)+"s"};return c.l.createElement(h,{onClick:this.props.onClick,selected:this.props.selected,className:void 0,"data-identifier":this.props.title,disabled:this.props.disabled},c.l.createElement(m,{src:this.props.iconPath,selected:this.props.selected}),c.l.createElement(g,{src:this.props.activeIconPath,selected:this.props.selected}),c.l.createElement(_,{style:t,withTitle:this.props.showTitle},c.l.createElement(y,null,this._t("editor.controls."+this.props.title+".title"))))},e}(c.b);u.contextTypes=c.b.contextTypes,e.a=u;var p=c.w.li("175e5wy","BaseItem"),h=Object(c.w)(p)("djzsp",{selected:"b4k2au",disabled:"kcb0uq"},"NavigationItem"),d=Object(c.w)(p)("w5rgvu","SeparatorItem"),f=c.w.img("1ew58rj","Icon"),m=Object(c.w)(f)("vd96gg",{selected:"1cfz9kz"},"InactiveIcon"),g=Object(c.w)(f)("8p00lh",{selected:"zgbg08"},"ActiveIcon"),_=c.w.div("124navh",{withTitle:"1j7o6on"},"TitleContainer"),y=c.w.div("pw4had","Title")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onEditorResize"),a._events=o()({},p.d.EVENTS.EDITOR_RESIZE,a._onEditorResize),a}return u()(e,t),e.prototype._onEditorResize=function(t){var e=this.context.editor;e.getSDK().resizeTo(t),e.zoom.auto(!0,!0)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var e=this.context,n=e.editor,i=e.options,o=this._canvas.offsetWidth,r=this._canvas.offsetHeight,s=n.getSDK().getRenderer();s.setCanvas(this._canvas),s.resizeTo(new p.v(o,r));var a=i.editor.image;n.setPadding([55,30,55,315]),n.setImage(a,!1)},e.prototype.render=function(){var t=this;return p.l.createElement(d,{innerRef:function(e){t._canvas=e}})},e}(p.b);h.contextTypes=p.b.contextTypes,e.a=h;var d=p.w.canvas("8gacw5","Canvas")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=n(31),d=n(230),f=n(231),m=n(232),g=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onUndoClick","_onExportClick","_onCloseClick","_onHistoryUpdated","_onFeaturesUpdated"),c._events=(n={},o()(n,p.d.EVENTS.HISTORY_UPDATED,c._onHistoryUpdated),o()(n,p.d.EVENTS.FEATURES_UPDATED,c._onFeaturesUpdated),n),c}return u()(e,t),e.prototype._onHistoryUpdated=function(){this.forceUpdate()},e.prototype._onFeaturesUpdated=function(){this.forceUpdate()},e.prototype._onUndoClick=function(){this.context.editor.history.undo(),this.forceUpdate()},e.prototype._onCloseClick=function(){this.context.mediator.emit(p.d.EVENTS.CLOSE)},e.prototype._onExportClick=function(){var t=this,e=this.context,n=e.options,i=e.editor,o=e.screen,r=n.editor.export,s=h.a.instance.displayLoading(this._t("loading.exporting"));o.switchToControls("default",null,{},function(){setTimeout(function(){i.export(r.download).then(function(){s.close()}).catch(function(e){h.a.instance.displayError(t._t("errors.title"),e.message),s.close()})},100)})},e.prototype._renderItems=function(){var t=this.context.editor,e=t.history,n=t.features,i=t.getOptions().editor.displayCloseButton,o=e.isAvailable()?p.l.createElement(f.a,{src:this._getAssetPath("editor/canvas-header/undo.png",!0),onClick:this._onUndoClick,className:void 0}):null;return[p.l.createElement(v,{key:"left",left:!0},o),p.l.createElement(y,{key:"center"},n.isEnabledByOptions("zoom")&&p.l.createElement(m.a,null)),p.l.createElement(v,{key:"right",right:!0},n.isEnabled("export")&&p.l.createElement(d.a,{title:this._t("editor.export"),onClick:this._onExportClick,className:void 0}),i&&p.l.createElement(d.a,{title:this._t("editor.close"),onClick:this._onCloseClick,className:void 0}))]},e.prototype.render=function(){return p.l.createElement(_,{className:this.props.className},this._renderItems())},e}(p.b);g.contextTypes=p.b.contextTypes,e.a=g;var _=p.w.div("1vo3slj","CanvasHeaderControls"),y=p.w.div("h5xlzy","CenteredControlGroup"),v=p.w.ul("17ty59f",{left:"1elyhsq",right:"1l7kz3k"},"ControlGroup")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(111),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){return c.l.createElement(u.a,{onClick:this.props.onClick,className:this.props.className},c.l.createElement(h,{disabled:this.props.disabled},this.props.title))},e}(u.a);p.contextTypes=u.a.contextTypes,e.a=p;var h=c.w.div("1d3mv64",{disabled:"1wcaxw7"},"Button");p.Button=h},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(111),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t=this.props,e=t.onClick,n=t.className;return c.l.createElement(u.a,{onClick:e,className:n},c.l.createElement(h,{src:this.props.src}))},e}(u.a);p.contextTypes=u.a.contextTypes,e.a=p;var h=c.w.img("1y2itdu","Image")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onZoomInClick","_onZoomOutClick","_onZoom","_onFeaturesUpdated"),c._events=(n={},o()(n,p.d.EVENTS.ZOOM,c._onZoom),o()(n,p.d.EVENTS.FEATURES_UPDATED,c._onFeaturesUpdated),n),c}return u()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._renderZoomLevel&&this._renderZoomLevel!==this.context.editor.zoom.targetLevel&&this.forceUpdate()},e.prototype._onFeaturesUpdated=function(){this.forceUpdate()},e.prototype._onZoom=function(){this.forceUpdate()},e.prototype._onZoomInClick=function(){if(!this._isZoomDisabled()){this.context.editor.zoom.in()}},e.prototype._onZoomOutClick=function(){if(!this._isZoomDisabled()){this.context.editor.zoom.out()}},e.prototype._isZoomDisabled=function(){return!this.context.editor.features.isEnabled("zoom")},e.prototype.render=function(){var t=this.context.editor,e=Math.round(100*t.zoom.targetLevel);return this._renderZoomLevel=t.zoom.targetLevel,p.l.createElement(d,{className:void 0},p.l.createElement(f,{disabled:this._isZoomDisabled(),"data-disabled":this._isZoomDisabled(),onClick:this._onZoomOutClick,className:void 0},"-"),p.l.createElement(m,null,e," %"),p.l.createElement(f,{disabled:this._isZoomDisabled(),"data-disabled":this._isZoomDisabled(),onClick:this._onZoomInClick,className:void 0},"+"))},e}(p.b);h.contextTypes=p.b.contextTypes,e.a=h;var d=p.w.div("12hdgpj","ZoomControl"),f=p.w.div("eqhwwg",{disabled:"10fa721"},"Button"),m=p.w.div("64aub5","Label")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));a._bindAll("_onPreloaderDone");var l=a.context.ui;return a._preloader=l.getPreloader(),a._preloader.on("done",a._onPreloaderDone),a._loaded=!1,a._canHideAfterLoaded=!1,a.state={startImageVisible:!0,idleImageVisible:!1,indicatorVisible:!0},a}return l()(e,t),e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this._preloader.load(),this._imageSwitchTimeout=window.setTimeout(function(){e.setState({startImageVisible:!1,idleImageVisible:!0}),e._imageSwitchTimeout=null},1300),window.setTimeout(function(){e._loaded&&e._hideAndLeave(),e._canHideAfterLoaded=!0},1300)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._preloader.off("done",this._onPreloaderDone),this._imageSwitchTimeout&&(window.clearTimeout(this._imageSwitchTimeout),this._imageSwitchTimeout=null)},e.prototype._onPreloaderDone=function(){this._loaded=!0,this._canHideAfterLoaded&&this._hideAndLeave()},e.prototype._hideAndLeave=function(){var t=this;this.setState({indicatorVisible:!1}),window.setTimeout(function(){t.props.onDone&&t.props.onDone()},500)},e.prototype.getChildContext=function(){return{ui:this.context.ui,options:this.context.options,mediator:this.context.mediator,appComponent:this.context.appComponent}},e.prototype.render=function(){var t=this,e=this.state,n=e.startImageVisible,i=e.idleImageVisible,o=e.indicatorVisible;return c.l.createElement(p,{innerRef:function(e){t._container=e},className:void 0},c.l.createElement(h,{hidden:!o},c.l.createElement(f,{visible:n,src:this._getAssetPath("loading/start-solid.gif",!0)}),c.l.createElement(m,{visible:i,src:this._getAssetPath("loading/idle-solid.gif",!0)})))},e}(c.b);u.contextTypes=c.b.contextTypes,u.childContextTypes={ui:c.k.object.isRequired,mediator:c.k.object.isRequired,options:c.k.object.isRequired,appComponent:c.k.object.isRequired};var p=c.w.div("121fa7f","Container"),h=c.w.div("110xr2i",{hidden:"qbdcep"},"ImageContainer"),d=c.w.img("1gqfg7n",{visible:"zgbg08"},"Image"),f=Object(c.w)(d)("120drhm","StartImage"),m=Object(c.w)(d)("120drhm","IdleImage");e.a=Object(c.A)(u)},function(t,e,n){"use strict";e.a=function(t,e){t.global(e+" html,"+e+" body,"+e+" div,"+e+" span,"+e+" applet,"+e+" object,"+e+" iframe,"+e+" h1,"+e+" h2,"+e+" h3,"+e+" h4,"+e+" h5,"+e+" h6,"+e+" p,"+e+" blockquote,"+e+" pre,"+e+" a,"+e+" abbr,"+e+" acronym,"+e+" address,"+e+" big,"+e+" cite,"+e+" code,"+e+" del,"+e+" dfn,"+e+" em,"+e+" img,"+e+" ins,"+e+" kbd,"+e+" q,"+e+" s,"+e+" samp,"+e+" small,"+e+" strike,"+e+" strong,"+e+" sub,"+e+" sup,"+e+" tt,"+e+" var,"+e+" b,"+e+" u,"+e+" i,"+e+" center,"+e+" dl,"+e+" dt,"+e+" dd,"+e+" ol,"+e+" ul,"+e+" li,"+e+" fieldset,"+e+" form,"+e+" label,"+e+" legend,"+e+" table,"+e+" caption,"+e+" tbody,"+e+" tfoot,"+e+" thead,"+e+" tr,"+e+" th,"+e+" td,"+e+" article,"+e+" aside,"+e+" canvas,"+e+" details,"+e+" embed,"+e+" figure,"+e+" figcaption,"+e+" footer,"+e+" header,"+e+" hgroup,"+e+" menu,"+e+" nav,"+e+" output,"+e+" ruby,"+e+" section,"+e+" summary,"+e+" time,"+e+" mark,"+e+" audio,"+e+" video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}"+e+" html{line-height:1}"+e+" ol,"+e+" ul{list-style:none}"+e+" table{border-collapse:collapse;border-spacing:0}"+e+" caption,"+e+" th,"+e+" td{text-align:left;font-weight:400;vertical-align:middle}"+e+" q,"+e+" blockquote{quotes:none}"+e+" q:before,"+e+" q:after,"+e+" blockquote:before,"+e+' blockquote:after{content:"";content:none}'+e+" a img{border:none}"+e+" article,"+e+" aside,"+e+" details,"+e+" figcaption,"+e+" figure,"+e+" footer,"+e+" header,"+e+" hgroup,"+e+" main,"+e+" menu,"+e+" nav,"+e+" section,"+e+" summary{display:block}@media only screen and (min-width: 768px){"+e+"{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px}}"+e+","+e+" *{box-sizing:border-box}")}},function(t,e,n){"use strict";e.a=function(t,e){t.global("\n    @-webkit-keyframes bouncingLoadingIndicator {\n      0% {\n        transform: translateY(0);\n      }\n      40% {\n        transform: translateY(10px);\n      }\n      60% {\n        transform: translateY(-5px);\n      }\n      80%{\n        transform: translateY(0);\n      }\n    }\n  ")}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(96),p=function(t){function e(n,i,r){o()(this,e);var a=s()(this,t.call(this));return a._ui=n,a._options=i,a._mediator=r,a._assets={},a._editor=new u.a(n,i,r,!0),a._assets=["editor/canvas-header/undo.png","editor/navigation/nav-gradient.png","editor/controls/shared/checkbox.png","editor/controls/shared/checkbox-active.png","editor/controls/shared/tiled-background.png"],a._appendControlsAssets(),a}return l()(e,t),e.prototype._appendControlsAssets=function(){var t=this._editor.controls.getAvailable();for(var e in t){var n=t[e];this._editor.controls.isEnabled(e)&&(this._assets=this._assets.concat(n.getPreloadAssets(this._editor)),this._assets.push(n.iconPath),this._assets.push(n.activeIconPath))}},e.prototype.load=function(){var t=this,e=this._assets.slice(),n=e.length,i=0,o=function(){i++,t.emit("progress",i/n),i===n&&t.emit("done")},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"timed out";c.h.warn("Preloader",t+" "+e+"."),o()},s=function(t){return window.setTimeout(function(){r(t)},5e3)};e.forEach(function(e){var n=!0;Array.isArray(e)&&(n=e[1],e=e[0]);var i=!0;c.q.isArray(e)&&(i=e[1],e=e[0]);var a=t._ui.getAssetPath(e,n,!i),l=new window.Image,u=s(a);l.addEventListener("load",function(){window.clearTimeout(u),t._assets[e]=l,o()}),l.addEventListener("error",function(){window.clearTimeout(u),r(a,"was not found")}),l.crossOrigin="Anonymous",l.src=a})},e.prototype.getAsset=function(t){return this._assets[t]},e}(c.e);e.a=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(238);n.d(e,"Library",function(){return i});var o=n(31);n.d(e,"ModalManager",function(){return o.a});var r=n(242);n.d(e,"DelayedJobQueue",function(){return r.a});var s=n(113);n.d(e,"GroupedControlsStyles",function(){return s});var a=n(243);n.d(e,"ControlsStyles",function(){return a});var l=n(109);n.d(e,"Frame",function(){return l.a});var c=n(101);n.d(e,"FontManager",function(){return c.a});var u=n(44);n.d(e,"StickerManager",function(){return u.a});var p=n(100);n.d(e,"BrushManager",function(){return p.a});var h=n(99);n.d(e,"FilterManager",function(){return h.a});var d=n(107);n.d(e,"FrameManager",function(){return d.a});var f=n(108);n.d(e,"OverlayManager",function(){return f.a});var m=n(244);n.d(e,"TransformRatioManager",function(){return m.a});var g=n(245);n.d(e,"BaseControls",function(){return g.a});var _=n(246);n.d(e,"LoadingIndicatorComponent",function(){return _.a});var y=n(247);n.d(e,"SuffixedTextInputComponent",function(){return y.a});var v=n(45);n.d(e,"SharedStateComponent",function(){return v.a});var b=n(110);n.d(e,"ControlsComponent",function(){return b.a});var k=n(249);n.d(e,"CollapseSectionComponent",function(){return k.a});var S=n(251);n.d(e,"ScrollableListComponent",function(){return S.a});var C=n(252);n.d(e,"SliderControlComponent",function(){return C.a});var w=n(69);n.d(e,"CanvasControlsComponent",function(){return w.a});var x=n(72);n.d(e,"ValueSelectionComponent",function(){return x.a});var E=n(256);n.d(e,"ColorSelectionComponent",function(){return E.a});var O=n(262);n.d(e,"ButtonComponent",function(){return O.a});var T=n(263);n.d(e,"DropdownComponent",function(){return T.a});var R=n(264);n.d(e,"TextInputComponent",function(){return R.a});var D=n(22);n.d(e,"DraggableComponent",function(){return D.a});var I=n(265);n.d(e,"InvisibleUploadComponent",function(){return I.a});var P=n(267);n.d(e,"CanvasOverlayControlsComponent",function(){return P.a});var B=n(43);n.d(e,"Transition",function(){return B.a})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(239);n.d(e,"Provider",function(){return i.a});var o=n(240);n.d(e,"Category",function(){return o.a});var r=n(241);n.d(e,"Image",function(){return r.a})},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(3),l=n(41),c=function(){function t(){s()(this,t)}return t.prototype._loadJSON=function(t){return new l.a(t).load()},t.prototype.getCategories=function(){return a.h.warn(this.constructor.name,"`getCategories` is abstract and not implemented."),o.a.resolve([])},t.prototype.searchImages=function(t){return a.h.warn(this.constructor.name,"`searchImages` is abstract and not implemented."),o.a.resolve([])},t}();e.a=c},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._coverImage=null,r._coverImageLoaded=!1,r}return u()(e,t),e.prototype.loadCoverImage=function(){var t=this;return new o.a(function(e,n){var i=new window.Image;i.addEventListener("load",function(){t._coverImageLoaded=!0,e(i)}),i.addEventListener("error",function(){n(new Error("Failed to load image at "+t.getCoverImage()))}),i.src=t.getCoverImage(),t._coverImage=i})},e.prototype.isCoverImageLoaded=function(){return this._coverImage&&this._coverImageLoaded},e}(p.p.Configurable);e.a=h,h.prototype.availableOptions={name:{type:p.i.STRING,required:!0},coverImage:{type:p.i.STRING,required:!0}}},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(3),h=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._thumbImage=null,r._thumbImageLoaded=!1,r}return u()(e,t),e.prototype.loadThumb=function(){var t=this;return new o.a(function(e,n){var i=new window.Image;i.addEventListener("load",function(){t._thumbImageLoaded=!0,e(i)}),i.addEventListener("error",function(){n(new Error("Failed to load image at "+t.getThumbUrl()))}),i.src=t.getThumbUrl(),t._thumbImage=i})},e.prototype.isThumbLoaded=function(){return this._thumbImage&&this._thumbImageLoaded},e.prototype.getThumbImage=function(){return this._thumbImage},e}(p.p.Configurable);e.a=h,h.prototype.availableOptions={category:{type:p.i.OBJECT,required:!0},title:{type:p.i.STRING},rawUrl:{type:p.i.STRING,required:!0},thumbUrl:{type:p.i.STRING},authorName:{type:p.i.STRING},authorAvatar:{type:p.i.STRING}}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(n,i){o()(this,e);var r=s()(this,t.call(this));return r._jobs=n,r._options=c.q.defaults(i,{minDelay:400}),r._running=!1,r._currentJob=null,r._currentJobIndex=0,r._tick=r._tick.bind(r),r}return l()(e,t),e.prototype.start=function(){this._running=!0,this._lastJobFinished=Object(c.y)(),this._tick()},e.prototype._tick=function(){var t=this;if(this._running){if(!this._currentJob){if(this._currentJob=this._jobs[this._currentJobIndex],!this._currentJob)return this.emit("done"),void this.stop();this._currentJob.fn().then(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=function(){t.emit.apply(t,["job-done",t._currentJob].concat(n)),t._lastJobFinished=Object(c.y)(),t._currentJob=null};if(Object(c.y)()-t._lastJobFinished<t._options.minDelay){var r=t._options.minDelay-(Object(c.y)()-t._lastJobFinished);setTimeout(o,r)}else o()}).catch(function(e){t.emit("error",t._currentJob,e),t._currentJob=null}),this._currentJobIndex++}Object(c.z)(this._tick)}},e.prototype.stop=function(){this._running=!1},e.prototype.dispose=function(){this._jobs=[],this._running=!1},e}(c.e);e.a=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"FullContainer",function(){return o}),n.d(e,"ControlItem",function(){return r}),n.d(e,"ControlItemTextStyles",function(){return s}),n.d(e,"ControlItemTitle",function(){return a}),n.d(e,"ControlItemActiveOverlay",function(){return l}),n.d(e,"ControlItemOverlay",function(){return c}),n.d(e,"Knob",function(){return u}),n.d(e,"PlainControlItem",function(){return p}),n.d(e,"PlainControlItemBackground",function(){return h});var i=n(3),o=i.w.css("vl6nc6","FullContainer"),r=i.w.css("gxhkr8",{animated:"1cekd0y",selected:"10th7ra",visible:"qtjcwg"},"ControlItem"),s=i.w.css("1us1ll5","ControlItemTextStyles"),a=i.w.css("d17ppx",{hovered:"zgbg08"},"ControlItemTitle"),l=i.w.css("x1p1ki",{visible:"zgbg08",rendered:"2jlos"},"ControlItemActiveOverlay"),c=i.w.css("1kza12c","ControlItemOverlay"),u=i.w.css("ywjahx","Knob"),p=i.w.css("9ej9h0",{threeColumns:"14meo64",twoColumns:"4nk392",withText:"rbroui",selected:"eb0k9a"},"PlainControlItem"),h=i.w.css("1lmjuk",{selected:"q4p805"},"PlainControlItemBackground")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(3),s=function(){function t(e){o()(this,t),this._options=e,this._categoriesById={},this._categories=[],this._initCategories()}return t.prototype._initCategories=function(){var t=this,e=this._options,n=e.replaceCategories,i=e.categories,o=r.d.DEFAULTS.TRANSFORM_RATIO_CATEGORIES;this._categories=i?n?r.u.cloneCategories(i,"ratios"):r.u.mergeCategories(o,i,"ratios"):r.u.cloneCategories(o,"ratios"),this._categoriesById={},this._categories.forEach(function(e){t._categoriesById[e.name]=e})},t.prototype.getCategories=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._categories.slice(0);if(t){var n={name:"all",ratios:this._categories.map(function(t){return t.ratios}).reduce(function(t,e){return t.concat(e)})};e.unshift(n)}return e},t.prototype.getRatiosForCategory=function(t){var e=this._options.availableRatios;return e?t.ratios.filter(function(t){return-1!==e.indexOf(t.identifier)}):t.ratios},t}();e.a=s},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(3),l=n(69),c=function(){function t(e,n,i){s()(this,t),this.context=e,this.sharedState=n,this._options=i,this._mediator=e.mediator,this.skipHistory=!1,this._localHistoryItems=[],this._globalHistoryItems=[],this._onOperationRemoved=this._onOperationRemoved.bind(this)}return t.prototype._onOperationRemoved=function(t){t===this.sharedState.get("operation")&&(this.skipHistory=!0,this.context.screen.switchToControls("default"))},t.prototype.onEnter=function(){this._mediator.on(a.d.EVENTS.OPERATION_REMOVED,this._onOperationRemoved),this._onEnter()},t.prototype._onEnter=function(){},t.prototype.onLeave=function(){var t=this;return this.onBeforeLeave().then(function(e){"boolean"==typeof e&&(e={leave:e});var n=e,i=n.leave,o=n.data;if(!i)return!1;t._mediator.off(a.d.EVENTS.OPERATION_REMOVED,t._onOperationRemoved),t._onLeave(o||{});var r=t.context.options,s=t.context.editor.history;return"global"===r.editor.undoMode&&(s.removeItems(t._localHistoryItems),t._localHistoryItems=[]),"local"===r.editor.undoMode&&0!==t._localHistoryItems.length&&(s.removeItems(t._globalHistoryItems),t._globalHistoryItems=[]),!0})},t.prototype._onLeave=function(){},t.prototype.onBeforeLeave=function(){return this._onBeforeLeave()},t.prototype._onBeforeLeave=function(){return o.a.resolve(!0)},t.prototype.registerLocalHistoryChange=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return this._lastLocalHistoryItem=null,this.addHistorySnapshot("local",n);this._lastLocalHistoryItem&&(this._lastLocalHistoryItem.getData().identifier!==t||this._lastLocalHistoryItem.isUndone())&&(this._lastLocalHistoryItem=null),this._lastLocalHistoryItem||(this._lastLocalHistoryItem=this.createHistoryItem("local",n,{identifier:t}),this.addHistoryItem(this._lastLocalHistoryItem))},t.prototype.registerGlobalHistoryChange=function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this._lastGlobalHistoryChange=null,this.addHistorySnapshot("global");this._lastGlobalHistoryChange&&(this._lastGlobalHistoryChange.getData().identifier!==t||this._lastGlobalHistoryChange.isUndone())&&(this._lastGlobalHistoryChange=null),this._lastGlobalHistoryChange||(this._lastGlobalHistoryChange=this.createHistoryItem("global",null,{identifier:t}),this.addHistoryItem(this._lastGlobalHistoryChange))},t.prototype.createHistoryItem=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.context.editor.history,o=this._buildHistoryItemOptions(t,e,n);return i.createItem(o)},t.prototype._buildHistoryItemOptions=function(t,e,n){var i=this.context.editor.operations,o={type:t,data:n},r=e?i.get(e):this.sharedState.get("operation");if(r){o.operation=r.constructor.identifier;var s=r.serializeOptions();o.options=s,o.existent=!0}else{if(!e)throw new Error("Cannot create history item: No operation given");if(o.operation=e,o.existent=i.exists(e),o.existent){var a=i.get(e);o.options=a.serializeOptions()}}return o},t.prototype.addHistorySnapshot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.createHistoryItem(t,e);this.addHistoryItem(n)},t.prototype.addHistoryItem=function(t){var e=this.context.editor.history;e.isItem(t)||(t=e.createItem(t)),"local"===t.getType()?this._localHistoryItems.push(t):this._globalHistoryItems.push(t),e.addItem(t)},t.prototype.addHistoryItems=function(t){var e=this,n=this.context.editor.history;t=t.map(function(t){return n.isItem(t)||(t=n.createItem(t)),t}),t.forEach(function(t){"local"===t.getType()?e._localHistoryItems.push(t):e._globalHistoryItems.push(t)}),n.addItems(t)},t.getPreloadAssets=function(){return[]},t.clickAtPosition=function(t){return!1},t.isEnabled=function(){return!0},t}();c.identifier=null,c.controlsComponent=null,c.canvasControlsComponent=l.a,c.defaultOptions={},e.a=c},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t=function(t){return{animationDelay:.1*t+"s"}};return c.l.createElement(p,{styles:this.props.styles},c.l.createElement(h,{style:t(0)}),c.l.createElement(h,{style:t(1)}),c.l.createElement(h,{style:t(2)}))},e}(c.b);u.contextTypes=c.b.contextTypes,e.a=u;var p=c.w.div("eurrvc","LoadingIndicatorContainer");u.RootElement=p;var h=c.w.div("vyyzkw","Ball")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(248),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onClick"),a}return l()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return this.props.value!==t.value||this.props.disabled!==t.disabled},e.prototype._onClick=function(){this._input.focus()},e.prototype.render=function(){var t=this;return c.l.createElement(h,{className:this.props.className,onClick:this._onClick},c.l.createElement(f,{value:this.props.value,onLiveChange:this.props.onLiveChange,onChange:this.props.onChange,disabled:this.props.disabled,innerRef:function(e){t._input=e},name:this.props.name}),c.l.createElement(d,null,this.props.suffix))},e}(c.b);p.contextTypes=c.b.contextTypes,e.a=p;var h=c.w.div("1bubov","Container");p.RootElement=h;var d=c.w.div("1ua5bzq","Suffix"),f=Object(c.w)(u.a)("6ekjfo","Input")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(46),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a.state.width=0,a}return l()(e,t),e.prototype._onInputChange=function(e){t.prototype._onInputChange.call(this,e),this._adjustWidth(e.target.value)},e.prototype.shouldComponentUpdate=function(e,n){return t.prototype.shouldComponentUpdate.call(this,e,n)||this.state.width!==n.width},e.prototype.componentWillReceiveProps=function(t){this._adjustWidth(t.value)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._textRuler=document.createElement("div"),c.u.styleElement(this._textRuler,{position:"absolute",top:"0",left:"0",display:"inline-block",zIndex:10}),this._adjustWidth(this.props.value)},e.prototype._getInputStyle=function(){var t=this.state.width;return{width:t,minWidth:t}},e.prototype._adjustWidth=function(t){document.body.appendChild(this._textRuler);var e=c.u.getStyleObject(this._input);c.u.styleElement(this._textRuler,{font:e.font}),this._textRuler.innerText=t,this.setState({width:this._textRuler.offsetWidth}),this._textRuler.parentNode.removeChild(this._textRuler)},e}(u.a);p.contextTypes=c.b.contextTypes,e.a=p,p.RootElement=Object(c.w)(u.a.RootElement)("n0hw7r","AutoSizeNumericInputComponent")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(113),p=n(43),h=n(250),d=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a.state={expanded:a.props.expanded||a.props.alwaysExpanded||!1},a}return l()(e,t),e.prototype._onClick=function(){var t=!this.state.expanded;this.props.alwaysExpanded||this.setState({expanded:t}),this.props.onToggle&&this.props.onToggle(t)},e.prototype.componentWillReceiveProps=function(t){this.props.expanded!==t.expanded&&this.setState({expanded:t.expanded})},e.prototype.render=function(){var t=this.props,e=t.alwaysExpanded,n=t.toggleable,i=t.className,o=this.state.expanded;return c.l.createElement(f,{styles:this.props.styles,className:i},c.l.createElement(g,{onClick:this._onClick.bind(this)},!e&&!n&&c.l.createElement(y,{turnUp:!o}),n&&c.l.createElement(v,{checked:o,className:void 0}),c.l.createElement(m,null,this.props.title)),c.l.createElement(p.a,{active:o,enterProp:"rendered",enterDuration:1e3*this.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},c.l.createElement(_,{"data-expanded":o,className:void 0},this.props.children)))},e}(c.b);d.contextTypes=c.b.contextTypes,e.a=d;var f=Object(c.w)(u.ControlGroup).div("1pofx54","Section");d.RootElement=f;var m=Object(c.w)(u.ControlGroupTitle).div("1b0fixa","SectionTitle"),g=c.w.div("1b4y7iu","SectionHeader"),_=c.w.div("10cp0qa",{rendered:"2jlos",visible:"82svov"},"SectionContent"),y=c.w.div("1bagiey",{turnUp:"gucvcl"},"ArrowDown"),v=Object(c.w)(h.a)("15tfhjl","Checkbox")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t=this._getAssetPath("editor/controls/shared/checkbox.png",!0),e=this._getAssetPath("editor/controls/shared/checkbox-active.png",!0),n=this.props,i=n.styles,o=n.className,r=n.checked;return c.l.createElement(p,{styles:i,className:o,style:{backgroundImage:"url("+(r?e:t)+")"}})},e}(c.b);e.a=u;var p=c.w.div("5nuoh","Checkbox");u.RootElement=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(70),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._renderChild=function(e){return t.prototype._renderChild.call(this,React.createElement(h,{innerRef:this.props.innerListRef},e))},e}(u.a);p.RootElement=u.a.RootElement,p.contextTypes=u.a.contextTypes;var h=c.w.div("1jtk1eb","ListWrapper"),d=Object(c.w)(p)("x597uk","ScrollableList");e.a=d},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(68),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(3),f=n(72),m=n(112),g=function(t){function e(){return l()(this,e),u()(this,t.apply(this,arguments))}return h()(e,t),e.prototype._buildSliderProps=function(){var t=this.props,e=t.minValue,n=t.maxValue,i=t.middleDot,o=t.onSliderValueChange;return{minValue:e,maxValue:n,value:t.value,middleDot:i,onChange:o,disabled:t.disabled}},e.prototype._renderLeftPart=function(){var t=this._buildSliderProps(),e=s()(t,[]);return d.l.createElement(m.a,o()({},e,{darkBackground:!0}))},e}(f.a);g.contextTypes=f.a.contextTypes,e.a=g},function(t,e,n){t.exports={default:n(254),__esModule:!0}},function(t,e,n){n(255),t.exports=n(8).Number.isNaN},function(t,e,n){var i=n(11);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(257),p=n(43),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onDocumentClick","_onColorChange"),a.state={colorPickerVisible:!1,colors:a._getDefaultColors(a.props.value.clone()),selectedColorIndex:0},a}return l()(e,t),e.prototype.componentWillReceiveProps=function(t){if(!this.props.value.equals(t.value)){var e=-1;this.state.colors.forEach(function(n,i){n.equals(t.value)&&(e=i)}),-1===e?this.setState({selectedColorIndex:0,colors:this._getDefaultColors(t.value.clone())}):this.setState({selectedColorIndex:e})}},e.prototype.componentDidMount=function(){document.addEventListener("click",this._onDocumentClick)},e.prototype.componentWillUnmount=function(){document.removeEventListener("click",this._onDocumentClick)},e.prototype._onDocumentClick=function(t){var e=this;if(this.state.colorPickerVisible){for(var n=t.target;n;n=n.parentNode)if(n===this._root)return;this.setState({colorPickerVisible:!1},function(){e.props.onColorPickerToggle&&e.props.onColorPickerToggle(!1)})}},e.prototype._onClick=function(t){var e=this,n={colorPickerVisible:this.state.colorPickerVisible,selectedColorIndex:t};t===this.state.selectedColorIndex?n.colorPickerVisible=!this.state.colorPickerVisible:n.colorPickerVisible=!1,this.props.onChange&&this.props.onChange(this.state.colors[t]),this.setState(n,function(){e.props.onColorPickerToggle&&e.props.onColorPickerToggle(n.colorPickerVisible)})},e.prototype._onColorChange=function(t){this.props.onChange&&this.props.onChange(t),this.state.colors[this.state.selectedColorIndex].copy(t),this.forceUpdate()},e.prototype._getDefaultColors=function(t){return[t,c.c.fromHex("6688FA"),c.c.fromHex("8767FA"),c.c.fromHex("DC67FA"),c.c.fromHex("FE68C9"),c.c.fromHex("FE6788"),c.c.fromHex("FE896B")]},e.prototype._renderColorBubbles=function(){var t=this,e=this._getAssetPath("editor/controls/shared/tiled-background.png",!0),n=[];return this.state.colors.forEach(function(i,o){var r=o===t.state.selectedColorIndex;n.push(c.l.createElement(f,{key:o,selected:r,className:void 0},c.l.createElement(m,null,c.l.createElement(g,{style:{backgroundImage:"url("+e+")"}}),c.l.createElement(_,{style:{backgroundColor:i.toRGBA()},onClick:t._onClick.bind(t,o),className:void 0},c.l.createElement(y,{selected:r}),c.l.createElement(y,{selected:r}),c.l.createElement(y,{selected:r}))),c.l.createElement(p.a,{active:r&&t.state.colorPickerVisible,enterProp:"rendered",enterDuration:1e3*t.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*t.context.theme.transitionDuration,leaveDuration:1e3*t.context.theme.transitionDuration},c.l.createElement(u.a,{color:i,onChange:t._onColorChange}))))}),n},e.prototype.render=function(){var t=this;return c.l.createElement(d,{className:void 0,styles:this.props.styles,innerRef:function(e){t._root=e}},this._renderColorBubbles())},e}(c.b);h.contextTypes=c.b.contextTypes,h.propTypes={colors:c.k.array,value:c.k.object.isRequired},e.a=h;var d=c.w.div("9xkrp7","ColorSelection");h.RootElement=d;var f=c.w.div("qt3fol",{selected:"18i7ofo"},"ColorSelectionBubble"),m=c.w.div("11cgycr","ColorSelectionPreview"),g=c.w.div("id1aww","ColorSelectionPreviewContent"),_=Object(c.w)(g)("nahwei","ColorSelectionBubbleContent"),y=c.w.div("11la9rb",{selected:"xfn5qu"},"Dot")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(93),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(3),f=n(258),m=n(259),g=n(260),_=n(114),y=n(261),v=function(t){function e(){l()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onHexValueChange","_onAlphaChange","_onHueChange","_onSaturationBrightnessChange");var a=r.props.color.clone(),c=a.toHSV(),p=s()(c,3),h=p[0],d=p[1],f=p[2];return r.state={color:a,hue:h,saturation:d,brightness:f},r}return h()(e,t),e.prototype._onHexValueChange=function(t){if(!t.match(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i))return this.forceUpdate();3===t.length&&(t+=t);var e=d.c.fromHex(t),n=this.state.color;n.copy(e),this.props.onChange&&this.props.onChange(n.clone());var i=n.toHSV(),o=s()(i,3),r=o[0],a=o[1],l=o[2];this.setState({hue:r,saturation:a,brightness:l})},e.prototype._onAlphaChange=function(t){var e=this.state.color;e.a=t,this.props.onChange&&this.props.onChange(e.clone()),this.forceUpdate()},e.prototype._onHueChange=function(t){var e=this.state.color,n=e.toHSV(),i=s()(n,3),o=i[1],r=i[2],a=e.a;e.fromHSV(t,o,r),e.a=a,this.props.onChange&&this.props.onChange(e.clone()),this.setState({color:e,hue:t})},e.prototype._onSaturationBrightnessChange=function(t,e){var n=this.state.color,i=n.a;n.fromHSV(this.state.hue,t,e),n.a=i,this.props.onChange&&this.props.onChange(n.clone()),this.setState({color:n,saturation:t,brightness:e})},e.prototype._changeColorComponent=function(t,e){var n=this.state.color;n[t]=e/255,this.props.onChange&&this.props.onChange(n.clone());var i=n.toHSV(),o=s()(i,3),r=o[0],a=o[1],l=o[2];this.setState({hue:r,saturation:a,brightness:l})},e.prototype._renderContent=function(){var t=this.state,e=t.hue,n=t.saturation,i=t.brightness,r=t.color,s={hue:e,saturation:n,brightness:i};return[d.l.createElement(k,{key:"arrow"}),d.l.createElement(S,{key:"colorPicker",className:void 0},d.l.createElement(C,o()({},s,{onChange:this._onSaturationBrightnessChange})),d.l.createElement(w,o()({},s,{onChange:this._onHueChange})),d.l.createElement(x,{value:r.a,color:r,onChange:this._onAlphaChange}),d.l.createElement(E,null,d.l.createElement(y.a,{inputLabel:"Hex",value:r.toHex().substr(1),inputClassName:void 0,onValueChange:this._onHexValueChange}),d.l.createElement(_.a,{inputLabel:"R",value:r.toRGB()[0],minValue:1,maxValue:255,inputClassName:void 0,onValueChange:this._changeColorComponent.bind(this,"r")}),d.l.createElement(_.a,{inputLabel:"G",value:r.toRGB()[1],minValue:1,maxValue:255,inputClassName:void 0,onValueChange:this._changeColorComponent.bind(this,"g")}),d.l.createElement(_.a,{inputLabel:"B",value:r.toRGB()[2],minValue:1,maxValue:255,inputClassName:void 0,onValueChange:this._changeColorComponent.bind(this,"b")})))]},e.prototype.render=function(){var t=this.props,e=t.rendered,n=t.visible;return d.l.createElement(b,{rendered:e,visible:n},e&&this._renderContent())},e}(d.b);v.contextTypes=d.b.contextTypes,e.a=v;var b=d.w.div("fko51h",{rendered:"2jlos",visible:"zgbg08"},"ColorPickerContainer"),k=d.w.div("xfcvqs","TopArrow"),S=d.w.div("1gzvppb","ColorPicker"),C=Object(d.w)(g.a)("120drhm","SaturationValueSlider"),w=Object(d.w)(f.a)("1cbv91b","HueSlider"),x=Object(d.w)(m.a)("tnkwnw","OpacitySlider"),E=d.w.div("142apfo","ColorValueInputs")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(22),p=n(73),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKnobDragStart","_onKnobDrag","_setValue"),a.state={value:a.props.hue},a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._renderCanvas()},e.prototype.componentWillReceiveProps=function(t){this.setState({value:t.hue})},e.prototype._onKnobDragStart=function(t,e,n){this._sliderWidth=this._slider.offsetWidth,n.target===this._knob?this._initialValue=this.state.value:(this._initialValue=t.x/this._sliderWidth,this._setValue(this._initialValue))},e.prototype._onKnobDrag=function(t){var e=this._initialValue+t.x/this._sliderWidth;this._setValue(e)},e.prototype._setValue=function(t){var e=Math.min(1,Math.max(0,t));this.setState({value:e}),this.props.onChange&&this.props.onChange(e),this.forceUpdate()},e.prototype._renderCanvas=function(){var t=this._canvas,e=t.getContext("2d");t.width=t.offsetWidth,t.height=t.offsetHeight;for(var n=0;n<t.width;n++){var i=n/t.width,o=c.c.fromHSV(i,1,1);e.strokeStyle=o.toRGBA(),e.beginPath(),e.moveTo(n,0),e.lineTo(n,t.height),e.stroke()}},e.prototype.render=function(){var t=this;return c.l.createElement(u.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(d,{styles:this.props.styles,innerRef:function(e){t._slider=e},className:void 0},c.l.createElement(m,{innerRef:function(e){t._canvas=e}}),c.l.createElement(f,{style:this._getKnobStyle(),innerRef:function(e){t._knob=e},className:void 0})))},e.prototype._getKnobStyle=function(){return{left:(100*this.props.hue).toFixed(2)+"%"}},e}(c.b);h.contextTypes=c.b.contextTypes,e.a=h;var d=Object(c.w)(p.a).div("120drhm","HueSlider");h.RootElement=d;var f=Object(c.w)(p.c).div("120drhm","Knob"),m=Object(c.w)(p.b).canvas("u98vhm","Background")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(22),p=n(73),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKnobDragStart","_onKnobDrag","_updateBackgroundColors","_setValue"),a.state={color:a.props.color.clone(),value:a.props.value},a}return l()(e,t),e.prototype._updateBackgroundColors=function(){this._transparentColor=this.state.color.clone(),this._transparentColor.a=0,this._opaqueColor=this.state.color.clone(),this._opaqueColor.a=1},e.prototype.componentWillReceiveProps=function(t){this.setState({color:t.color.clone(),value:t.value})},e.prototype._onKnobDragStart=function(t,e,n){this._sliderWidth=this._slider.offsetWidth,n.target===this._knob?this._initialValue=this.state.value:(this._initialValue=1-t.x/this._sliderWidth,this._setValue(this._initialValue))},e.prototype._onKnobDrag=function(t,e){var n=this._initialValue-t.x/this._sliderWidth;this._setValue(n)},e.prototype._setValue=function(t){var e=Math.min(1,Math.max(0,t));this.props.onChange&&this.props.onChange(e),this.setState({value:e}),this.forceUpdate()},e.prototype.render=function(){var t=this;this._updateBackgroundColors();var e=this._getAssetPath("editor/controls/shared/tiled-background.png",!0);return c.l.createElement(u.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(d,{styles:this.props.styles,innerRef:function(e){t._slider=e},className:void 0},c.l.createElement(g,{style:{backgroundImage:"url("+e+")"}}),c.l.createElement(m,{style:{backgroundImage:"linear-gradient(90deg, "+this._opaqueColor.toRGBA()+" 0%, "+this._transparentColor.toRGBA()+" 100%)"}}),c.l.createElement(f,{style:this._getKnobStyle(),innerRef:function(e){t._knob=e},className:void 0})))},e.prototype._getKnobStyle=function(){return{left:(100*(1-this.state.value)).toFixed(2)+"%"}},e}(c.b);h.contextTypes=c.b.contextTypes,e.a=h;var d=Object(c.w)(p.a).div("120drhm","OpacitySlider");h.RootElement=d;var f=Object(c.w)(p.c).div("120drhm","Knob"),m=Object(c.w)(p.b).div("120drhm","Background"),g=Object(c.w)(m)("m87q12","TiledBackground")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(22),p=n(73),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKnobDragStart","_onKnobDrag"),a._lastHue=null,a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._renderCanvas()},e.prototype.componentDidUpdate=function(){this.props.hue!==this._lastHue&&this._renderCanvas()},e.prototype._onKnobDragStart=function(t,e,n){n.target===this._knob?(this._initialBrightness=this.props.brightness,this._initialSaturation=this.props.saturation):(this._initialSaturation=t.x/this._canvas.offsetWidth,this._initialBrightness=1-t.y/this._canvas.offsetHeight,this.props.onChange&&this.props.onChange(this._initialSaturation,this._initialBrightness))},e.prototype._onKnobDrag=function(t){if(null!=this._canvas){var e=this._canvas.offsetWidth,n=this._canvas.offsetHeight,i=this._initialSaturation+t.x/e;i=Math.max(0,Math.min(1,i));var o=this._initialBrightness+t.y/n*-1;o=Math.max(0,Math.min(1,o)),this.props.onChange&&this.props.onChange(i,o)}},e.prototype._renderCanvas=function(){var t=this._canvas,e=t.getContext("2d");t.width=t.offsetWidth,t.height=t.offsetHeight;for(var n=e.getImageData(0,0,t.width,t.height),i=0;i<t.height;i++)for(var o=(t.height-i)/t.height,r=0;r<t.width;r++){var s=r/t.width,a=c.c.fromHSV(this.props.hue,s,o),l=a.r,u=a.g,p=a.b,h=a.a,d=4*(i*t.width+r);n.data[d]=255*l,n.data[d+1]=255*u,n.data[d+2]=255*p,n.data[d+3]=255*h}e.putImageData(n,0,0),this._lastHue=this.props.hue},e.prototype.render=function(){var t=this;return c.l.createElement(u.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(d,{styles:this.props.styles,innerRef:function(e){t._slider=e},className:void 0},c.l.createElement(m,{innerRef:function(e){t._canvas=e}}),c.l.createElement(f,{style:this._getKnobStyle(),innerRef:function(e){t._knob=e},className:void 0})))},e.prototype._getKnobStyle=function(){return{left:(100*this.props.saturation).toFixed(2)+"%",top:(100*(1-this.props.brightness)).toFixed(2)+"%"}},e}(c.b);h.contextTypes=c.b.contextTypes,e.a=h;var d=Object(c.w)(p.a).div("1jf8fwr","SaturationValueSlider");h.RootElement=d;var f=Object(c.w)(p.c).div("icy3f1","Knob"),m=Object(c.w)(p.b).canvas("15alfoa","Background")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(114),p=n(46),h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onInputChange=function(t){var e=t.target.value;if(e.match(/^#([A-Fa-f0-9]{6})$/))return this.setState({value:this.props.value});this.props.onValueChange&&this.props.onValueChange(e),this.setState({value:e})},e.prototype._renderRightPart=function(){var t=this,e=[];return this.props.inputClassName&&e.push(this.props.inputClassName),c.l.createElement(d,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:e.join(" "),innerRef:function(e){t._input=e},disabled:this.props.disabled})},e}(u.a);h.contextTypes=u.a.contextTypes,e.a=h;var d=Object(c.w)(p.a)("t0ruqq","InputField")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){return c.l.createElement(p,{onClick:this.props.onClick,className:this.props.className},this.props.title)},e}(c.b);u.contextTypes=c.b.contextTypes,e.a=u;var p=c.w.button("7lpbp3","Button")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(71),p=n(70),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onDropdownClick","_onDocumentClick"),a.state={expanded:!1},a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),document.addEventListener("click",this._onDocumentClick)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),document.removeEventListener("click",this._onDocumentClick)},e.prototype._onDocumentClick=function(t){if(this.state.expanded){for(var e=t.target;e;e=e.parentNode)if(e===this._root)return;this.setState({expanded:!1})}},e.prototype._onDropdownClick=function(){var t=this.state.expanded;this.setState({expanded:!t})},e.prototype._onItemClick=function(t){this.props.onChange&&this.props.onChange(t),this.setState({expanded:!1})},e.prototype._renderDropdownItems=function(){var t=this;return this.props.children.map(function(e){var n=c.q.extend({},e.props,{onClick:t._onItemClick.bind(t,e.props.value),selected:t.props.value===e.props.value,className:void 0});return c.l.cloneElement(e,n)})},e.prototype.render=function(){var t=this,e=null;this.props.children.forEach(function(n){n.props.value===t.props.value&&(e=n.props.children)});var n=this.props.enableMenu;return c.l.createElement(d,{innerRef:function(e){t._root=e},className:this.props.className},c.l.createElement(f,{onClick:n?this._onDropdownClick:null,styles:this.props.styles,style:this.props.style},e,n?c.l.createElement(_,null):null),this.state.expanded&&c.l.createElement(m,{className:void 0},c.l.createElement(p.a,{direction:"vertical",noGradient:!0},c.l.createElement(g,null,this._renderDropdownItems()))))},e}(c.b);h.contextTypes=c.b.contextTypes,h.propTypes={enableMenu:c.k.bool,styles:c.k.object,style:c.k.object,onChange:c.k.func},h.defaultProps={enableMenu:!0},e.a=h;var d=c.w.div("13hv8io","DropdownContainer"),f=Object(c.w)(u.a).div("13hv8io","Dropdown");h.RootElement=f;var m=c.w.div("1fqdopp","DropdownOverlay"),g=c.w.ul("zy0cu9","DropdownList"),_=c.w.div("7w2heg",{turnUp:"gucvcl"},"ArrowDown"),y=c.w.li("cibatp",{selected:"60ro2s"},"DropdownItem");h.Item=y,h.RootElement=Object(c.w)(u.a).input("120drhm","DropdownComponent")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(71),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onKeyDown","_onInputBlur","_onInputChange"),a.state={value:""},a}return l()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return this.props.value!==t.value||this.props.disabled!==t.disabled||this.state.value!==e.value},e.prototype.componentWillReceiveProps=function(t){this.setState({value:t.value})},e.prototype._onInputChange=function(t){this.setState({value:t.target.value}),this.props.onLiveChange&&this.props.onLiveChange(t)},e.prototype._onInputBlur=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype._onKeyDown=function(t){13!==t.keyCode&&27!==t.keyCode||this._input.blur(),this.props.onKeyDown&&this.props.onKeyDown()},e.prototype.focus=function(){this._input.focus()},e.prototype._getInputStyle=function(){return{}},e.prototype.render=function(){var t=this,e=this.constructor.RootElement;return c.l.createElement(e,{value:this.state.value,placeholder:this.props.placeholder,onChange:this._onInputChange,onBlur:this._onInputBlur,innerRef:function(e){t._input=e},onKeyDown:this._onKeyDown,name:this.props.name,styles:this.props.styles,className:this.props.className,style:this._getInputStyle(),disabled:this.props.disabled})},e}(c.b);p.contextTypes=c.b.contextTypes,e.a=p,p.RootElement=Object(c.w)(u.a).input("120drhm","TextInputComponent")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(266),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onNewFile"),a}return l()(e,t),e.prototype.componentDidMount=function(){this._fileLoader=new u.a(this._fileInput),this._fileLoader.on("file",this._onNewFile)},e.prototype.componentWillUnmount=function(){this._fileLoader.off("file",this._onNewFile),this._fileLoader.dispose(),this._fileLoader=null},e.prototype._onNewFile=function(t){this.props.onNewFile&&this.props.onNewFile(t)},e.prototype.open=function(){this._fileLoader.open()},e.prototype.render=function(){var t=this;return React.createElement(h,{type:"file",accept:"image/*",innerRef:function(e){t._fileInput=e}})},e}(c.b);p.contextTypes=c.b.contextTypes,e.a=p;var h=c.w.input("19u9mq5","HiddenFileInput")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=n(31),p=function(t){function e(n){o()(this,e);var i=s()(this,t.call(this));return i._input=n,i._onFileChange=i._onFileChange.bind(i),i._input.addEventListener("change",i._onFileChange),i}return l()(e,t),e.prototype.open=function(){this._input.value=null,this._input.click()},e.prototype._handleFile=function(t){var e=this,n=new window.FileReader;n.onload=function(){return function(t){var n=t.target.result,i=new window.Image;i.addEventListener("load",function(){e.emit("file",i)}),i.addEventListener("error",function(t){return u.a.instance.displayError(e._t("errors.title"),e._t("errors.imageLoadingError.text"))}),i.src=n}}(),n.readAsDataURL(t)},e.prototype._onFileChange=function(){var t=this._input.files;t.length&&this._handleFile(t[0])},e.prototype.dispose=function(){this._input.removeEventListener("change",this._onFileChange)},e}(c.e);e.a=p},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(3),u=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._cancelEvent=function(t){t.stopPropagation(),t.preventDefault()},e.prototype._renderControlItem=function(t,e){var n=this._getAssetPath("editor/controls/shared/canvas-overlay-controls/"+t+".png",!0);return c.l.createElement(h,{style:{backgroundImage:"url("+n+")"},onClick:e,className:void 0,"data-identifier":t})},e.prototype.render=function(){var t=this.props.position;return c.l.createElement(p,{style:{left:t.x,top:t.y},onMouseDown:this._cancelEvent,onTouchStart:this._cancelEvent,className:void 0},this.props.takeToFront&&this._renderControlItem("to-front",this.props.onTakeToFront),this.props.flipHorizontally&&this._renderControlItem("flip-horizontal",this.props.onFlipHorizontally),this.props.duplicate&&this._renderControlItem("duplicate",this.props.onDuplicate),this.props.delete&&this._renderControlItem("delete",this.props.onDelete))},e}(c.b);u.contextTypes=c.b.contextTypes,e.a=u;var p=c.w.div("1lf1r1r","CanvasOverlayControl"),h=c.w.div("1l53y3r","ControlItem")},function(t,e){t.exports={editor:{new:"Neu",export:"Exportieren",cancel:"Abbrechen",close:"Schließen",controls:{library:{title:"Bibliothek",search:"Bibliothek durchsuchen",fileDropZone:"Datei hier hin ziehen oder klicken zum Durchsuchen.",fileDropZoneHovered:"Zum Hochladen loslassen.",noResults:"Keine Ergebnisse"},transform:{title:"Zuschneiden",reset:"Zurücksetzen",dimensions:{width:"b",height:"h"},ratios:{imgly_transforms_common:{name:"Standard",ratios:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch","imgly_transform_common_4-3":"4:3","imgly_transform_common_16-9":"16:9"}},imgly_transforms_facebook:{name:"Facebook",ratios:{imgly_transform_facebook_ad:"Ad",imgly_transform_facebook_post:"Post",imgly_transform_facebook_cover:"Cover",imgly_transform_facebook_profile:"Profilbild"}}}},filter:{title:"Filter",filters:{identity:"Kein Filter",imgly_lut_celsius:"Celsius",imgly_lut_chest:"Chest",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Front",imgly_lut_k2:"K2",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Sin",imgly_lut_texas:"Texas",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Bleached",imgly_lut_bleachedblue:"Bleached Blue",imgly_lut_blues:"Blues",imgly_lut_blueshadows:"Blue Shadows",imgly_lut_breeze:"Breeze",imgly_lut_bw:"B & W",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Cool",imgly_lut_cottoncandy:"Cotton Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Eighties",imgly_lut_elder:"Elder",imgly_lut_evening:"Evening",imgly_lut_fall:"Fall",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"High Contrast",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"KDynamic",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lenin",imgly_lut_litho:"Litho",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"No Green",imgly_lut_orchid:"Orchid",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Plate",imgly_lut_pola669:"Pola 669",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia High",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Sunset",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Winter",imgly_lut_x400:"X400"}},adjustments:{title:"Korrekturen",reset:"Zurücksetzen",sections:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sättigung",exposure:"Belichtung",gamma:"Gamma",shadows:"Schatten",highlights:"Lichter",clarity:"Klarheit"}},focus:{title:"Weichzeichnen",items:{none:"Original",radial:"Kreisförmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gaußsch"}},text:{title:"Text",defaultText:"Doppelklick zum Bearbeiten!",new:"Neuer Text",font:"Schriftart",size:"Größe",spacing:"Abstand",line:"Zeile",background:"Hintergrund"},sticker:{title:"Sticker",new:"Neuer Sticker",fill:"Einfärben",opacity:"Transparenz",replace:"Ersetzen",stickerCategories:{},stickers:{}},brush:{title:"Malen",settings:"Pinseleinstellungen",width:"Dicke",hardness:"Härte"},frame:{title:"Rahmen",opacity:"Transparenz",width:"Dicke",replace:"Ersetzen",fill:"Einfärben",frames:{none:"Kein Rahmen"}},overlay:{title:"Overlay",blendModes:{normal:"Normal",overlay:"Overlay",hardLight:"Hard Light",softLight:"Soft Light",multiply:"Multiply",darken:"Darken",lighten:"Lighten",screen:"Screen",colorBurn:"Color Burn"},overlays:{none:"Kein Overlay",imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}}}},loading:{loading:"Lade...",exporting:"Exportiere...",resizing:"Bild wird bearbeitet...",fonts:"Lade Schriftarten..."},warnings:{imageResized_maxMegaPixels:{title:"Bild verkleinert",text:"Da dein Bild die maximale Größe von ${maxMegaPixels} Megapixeln überschreitet, wurde es auf ${width}x${height} Pixel verkleinert."},imageResized_maxDimensions:{title:"Bild verkleinert",text:"Aufgrund von Hardware-Beschränkungen wurde das Bild auf ${width}x${height} Pixel verkleinert."},newImage_changesLost:{title:"Neues Bild",text:"Alle nicht gespeicherten Änderungen gehen verloren. Fortfahren?",buttons:{yes:"Ja",no:"Nein"}},discardChanges:{title:"Änderungen verwerfen?",text:"Sind Sie sicher, dass Sie die Änderungen verwerfen wollen?",buttons:{cancel:"Abbrechen",keep:"Änderungen beibehalten",discard:"Änderungen verwerfen"}}},errors:{title:"Fehler",renderingError:{text:"Beim Rendern des Bildes ist ein Fehler aufgetreten."},stickerLoadingError:{text:"Laden des Stickers ${path} fehlgeschlagen."},imageLoadingError:{text:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gründe haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterstützt."},fontLoadingError:{text:"Laden der Schriftart ${fontFamily} fehlgeschlagen."},webcamNotSupported:{text:"Dein Browser unterstützt das Webcam-Feature leider noch nicht."},webcamUnavailable:{text:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})"},invalidFileType:{text:"Der Dateityp ${fileType} wird nicht unterstützt."}}}},function(t,e){t.exports={editor:{new:"New",export:"Export",cancel:"Cancel",close:"Close",controls:{library:{title:"Library",search:"Search Library",fileDropZone:"Drag image here or click to browse for one.",fileDropZoneHovered:"Drop to upload.",noResults:"No results"},transform:{title:"Transform",reset:"Reset Default",dimensions:{width:"w",height:"h"},ratios:{imgly_transforms_common:{name:"Common Crops",ratios:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square","imgly_transform_common_4-3":"4:3","imgly_transform_common_16-9":"16:9"}},imgly_transforms_facebook:{name:"Facebook",ratios:{imgly_transform_facebook_ad:"Ad",imgly_transform_facebook_post:"Post",imgly_transform_facebook_cover:"Cover",imgly_transform_facebook_profile:"Profile Pic"}}}},filter:{title:"Filters",filters:{identity:"None",imgly_lut_celsius:"Celsius",imgly_lut_chest:"Chest",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Front",imgly_lut_k2:"K2",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Sin",imgly_lut_texas:"Texas",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Bleached",imgly_lut_bleachedblue:"Bleached Blue",imgly_lut_blues:"Blues",imgly_lut_blueshadows:"Blue Shadows",imgly_lut_breeze:"Breeze",imgly_lut_bw:"B & W",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Cool",imgly_lut_cottoncandy:"Cotton Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Eighties",imgly_lut_elder:"Elder",imgly_lut_evening:"Evening",imgly_lut_fall:"Fall",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"High Contrast",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"KDynamic",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lenin",imgly_lut_litho:"Litho",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"No Green",imgly_lut_orchid:"Orchid",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Plate",imgly_lut_pola669:"Pola 669",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia High",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Sunset",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Winter",imgly_lut_x400:"X400"}},adjustments:{title:"Adjust",reset:"Reset Default",sections:{basics:"Basics",refinements:"Refinements"},items:{brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",shadows:"Shadows",highlights:"Highlights",clarity:"Clarity"}},focus:{title:"Focus",items:{none:"None",radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"}},text:{title:"Text",defaultText:"Double-click to edit!",new:"New Text",font:"Font",size:"Size",spacing:"Spacing",line:"Line",background:"Background"},sticker:{title:"Stickers",new:"New Sticker",fill:"Fill",opacity:"Opacity",replace:"Replace",stickerCategories:{},stickers:{}},brush:{title:"Brush",settings:"Brush Settings",width:"Width",hardness:"Hardness"},frame:{title:"Frames",opacity:"Opacity",width:"Width",replace:"Replace",fill:"Fill",frames:{none:"None"}},overlay:{title:"Overlays",blendModes:{none:"None",normal:"Normal",overlay:"Overlay",hardLight:"Hard Light",softLight:"Soft Light",multiply:"Multiply",darken:"Darken",lighten:"Lighten",screen:"Screen",colorBurn:"Color Burn"},overlays:{none:"None",imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}}}},loading:{loading:"Loading...",exporting:"Exporting...",resizing:"Resizing...",fonts:"Loading fonts..."},warnings:{imageResized_maxMegaPixels:{title:"Image resized",text:"Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."},imageResized_maxDimensions:{title:"Image resized",text:"Due to hardware limitations your image has been resized to ${width}x${height} pixels."},newImage_changesLost:{title:"New Image",text:"Any unsaved changes will be lost. Continue?",buttons:{yes:"Yes",no:"No"}},discardChanges:{title:"Discard changes?",text:"You have unsaved changes. Are you sure you want to discard the changes?",buttons:{cancel:"Cancel",keep:"Keep changes",discard:"Discard changes"}}},errors:{title:"Error",renderingError:{text:"An error has occurred while rendering the image."},stickerLoadingError:{text:"Failed to load sticker ${path}."},imageLoadingError:{text:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported."},fontLoadingError:{text:"Failed to load font ${fontFamily}."},webcamNotSupported:{text:"The webcam feature is not supported by your browser."},webcamUnavailable:{text:"Unable to display webcam image (Error: ${error})"},invalidFileType:{text:"The file type ${fileType} is not supported."}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n.n(i),r=n(271),s=n(281),a=n(284),l=n(291),c=n(295),u=n(302),p=n(307),h=n(315),d=n(322),f=n(328),m=[r.a,s.a,a.a,l.a,c.a,u.a,p.a,h.a,d.a,f.a];o.a.AllControls=m,e.default=m},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=n.n(p),d=n(272),f=n(278),m=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.shouldKeepChanges=function(){var t=this,e=this.context,n=e.editor,i=e.ui;return void 0===this.keepChanges&&!n.isShallow&&n.history.isAvailable()?new o.a(function(e,n){p.ModalManager.instance.displayWarning(i.translate("warnings.discardChanges.title"),i.translate("warnings.discardChanges.text"),[i.translate("warnings.discardChanges.buttons.keep"),i.translate("warnings.discardChanges.buttons.discard")],!0).on("button",function(n){var i=0===n;t.keepChanges=i,e(i)})}):o.a.resolve(this.keepChanges)},e.prototype.onImage=function(t){var e=this;this.shouldKeepChanges().then(function(n){if(e._options.switchScreenOnImage)e.context.options.editor.image=t,e.context.appComponent.switchToScreen("editor");else{e.context.editor.setImage(t,!n)}e.sharedState.get("webcamEnabled")&&(e.sharedState.set({webcamEnabled:!1}),e.context.screen.switchToControls("default"))})},e.prototype._onEnter=function(){this.sharedState.set({webcamEnabled:!1})},e.hasLibraryProvider=function(t){var e=t.getOptions().editor.controlsOptions;if(void 0===e.library)return!0;var n=e.library;return!!(n.provider||n.enableWebcam||n.enableUpload)},e.isEnabled=function(t){return e.hasLibraryProvider(t)&&t.isToolEnabled("library")},e}(p.BaseControls);m.clickAtPosition=p.BaseControls.clickAtPosition,m.getPreloadAssets=p.BaseControls.getPreloadAssets,m.identifier="library",m.controlsComponent=d.a,m.canvasControlsComponent=f.a,m.iconPath="editor/controls/library/icon.png",m.activeIconPath="editor/controls/library/icon-active.png",m.defaultOptions={enableWebcam:!0,enableUpload:!0,displayUploadInCanvas:!1,switchScreenOnImage:!1},e.a=m,h.a.Controls.LibraryControls=m},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),n(273)),p=n(275),h=n(277),d={ROOT:0,SEARCH:1},f=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i))),l=a.props.options.provider;return l&&(a._library=new l),a._bindAll("_onCategorySelect","_onImageSelect","_onSearchQueryChange","_onWebcamActivated"),a.state.currentPanel=d.ROOT,a.state.searchQuery="",a}return l()(e,t),e.prototype._onBackButtonClick=function(){this.setState({currentPanel:d.ROOT,searchQuery:"",backButton:!1})},e.prototype._onCategorySelect=function(t){this.setState({currentPanel:d.SEARCH,searchQuery:t.getName(),backButton:!0})},e.prototype._onImageSelect=function(t){var e=this;this.setSharedState({webcamEnabled:!1});var n=new window.Image,i=void 0,o=setTimeout(function(){i=c.ModalManager.instance.displayLoading(e._t("loading.loading"))},200);n.addEventListener("load",function(){i&&i.close(),o&&(clearTimeout(o),o=null),e.props.controls.onImage(n)}),n.addEventListener("error",function(){i&&i.close(),o&&(clearTimeout(o),o=null),c.ModalManager.instance.displayError(e._t("errors.title"),e._t("errors.imageLoadingError.text"))}),n.crossOrigin="Anonymous",n.src=t.getRawUrl()},e.prototype._onSearchQueryChange=function(t){this.setState({searchQuery:t,currentPanel:d.SEARCH})},e.prototype._onWebcamActivated=function(t){this.setSharedState({webcamEnabled:!0})},e.prototype.fixStyles=function(){var e=this;if(this._list)return this._list.style.height="100%",t.prototype.fixStyles.call(this).then(function(){if(c.Utils.Browser.isIElte(10)){var t=e._container.offsetHeight;e._list.style.height=t+"px"}return e.refs.panel.fixStyles()})},e.prototype._renderCurrentPanel=function(){var t=this;switch(this.state.currentPanel){case d.ROOT:return c.React.createElement(u.a,{controls:this.props.controls,innerRef:function(e){t._list=e},library:this._library,onCategorySelect:this._onCategorySelect,onWebcamActivated:this._onWebcamActivated,options:this.props.options,key:"panel",ref:"panel"});case d.SEARCH:return c.React.createElement(p.a,{innerRef:function(e){t._list=e},library:this._library,onImageSelect:this._onImageSelect,searchQuery:this.state.searchQuery,key:"panel",ref:"panel"})}},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!1}},e.prototype._renderContent=function(){var t=[];return this._library&&t.push(c.React.createElement(h.a,{key:"searchHeader",onChange:this._onSearchQueryChange,searchQuery:this.state.searchQuery})),t.push(this._renderCurrentPanel()),t},e}(c.ControlsComponent);f.contextTypes=c.ControlsComponent.contextTypes,f.propTypes=c.ControlsComponent.propTypes,f.RootElement=c.ControlsComponent.RootElement,e.a=f},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(274)),d=n(115),f=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onImage"),r.state={loading:!0,categories:[]},r}return u()(e,t),e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(p.requestAnimationFrame)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._loadCategories()},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._loadCoverImagesQueue&&this._loadCoverImagesQueue.dispose(),this._disposed=!0},e.prototype._onCategoryClick=function(t){this.props.onCategorySelect&&this.props.onCategorySelect(t)},e.prototype._onImage=function(t){this.props.controls.onImage(t)},e.prototype._loadCoverImages=function(t){var e=this,n=this.context.theme,i=t.map(function(t){return{fn:function(){return t.loadCoverImage()},index:t}});this._loadCoverImagesQueue=new p.DelayedJobQueue(i,{minDelay:n.listItemSlideInDelay}),this._loadCoverImagesQueue.on("job-done",function(t){e._disposed||(e.forceUpdate(),e._scrollbar.update())}),this._loadCoverImagesQueue.start()},e.prototype._loadCategories=function(){var t=this;return this.props.library?this.props.library.getCategories().then(function(e){t._loadCoverImages(e),t.setState({loading:!1,categories:e})}):(this.setState({loading:!1,categories:[]}),o.a.resolve())},e.prototype._renderListItems=function(){var t=this;return this.state.categories.map(function(e){return p.React.createElement(h.a,{key:e.getName(),category:e,visible:e.isCoverImageLoaded(),onClick:t._onCategoryClick.bind(t,e)})})},e.prototype.render=function(){var t=this;if(this.state.loading)return p.React.createElement(p.LoadingIndicatorComponent,null);var e=this.props.options,n=e.enableUpload,i=e.displayUploadInCanvas,o=this.props.innerRef;return p.React.createElement(m,{innerRef:function(e){o&&o(e),t._wrapper=e},className:void 0},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(g,null,n&&!i&&p.React.createElement(d.a,{controls:this.props.controls,onImage:this._onImage,webcamEnabled:this.props.options.enableWebcam,onWebcamActivated:this.props.onWebcamActivated}),this._renderListItems())))},e}(p.BaseComponent);e.a=f;var m=p.adonis.div("rfecls","RootPanelWrapper"),g=p.adonis.ul("5jg0ou","CategoryList")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.ControlItem),p=c.ControlsStyles.ControlItemTitle,h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t=this.props,e=t.category,n=t.onClick,i=t.visible,o={backgroundImage:"url('"+e.getCoverImage()+"')"};return c.React.createElement(d,{animated:!0,style:o,visible:i,className:void 0,onClick:n},c.React.createElement(f,null,e.getName()))},e}(c.BaseComponent);e.a=h;var d=Object(c.adonis)(u).li("prcvvt","ListItem"),f=Object(c.adonis)(p).div("1ler8h7","ListItemTitle")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(276)),d=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r.state={loading:!0,images:[]},r}return u()(e,t),e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(p.requestAnimationFrame)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._loadImages(this.props.searchQuery)},e.prototype.componentWillReceiveProps=function(t){this.props.searchQuery!==t.searchQuery&&this._loadImages(t.searchQuery)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._loadThumbsQueue.stop(),this._loadThumbsQueue.dispose(),this._disposed=!0},e.prototype._onImageClick=function(t){this.props.onImageSelect&&this.props.onImageSelect(t)},e.prototype._loadThumbs=function(t){var e=this,n=this.context.theme,i=t.map(function(t){return{fn:function(){return t.loadThumb()},index:t}});this._loadThumbsQueue=new p.DelayedJobQueue(i,{minDelay:n.listItemSlideInDelay}),this._loadThumbsQueue.on("job-done",function(t){e._disposed||(e.forceUpdate(),e._scrollbar.update())}),this._loadThumbsQueue.start()},e.prototype._loadImages=function(t){var e=this;return t.trim()||this.setState({loading:!1,images:[]},function(){return e._scrollbar.update()}),this.setState({loading:!0}),this.props.library.searchImages(t).then(function(t){e._loadThumbs(t),e.setState({loading:!1,images:t},function(){return e._scrollbar.update()})})},e.prototype._renderListItems=function(){var t=this,e=this.context.editor,n=e.getImage();return 0===this.state.images.length?p.React.createElement(g,null,this._t("editor.controls.library.noResults")):this.state.images.map(function(e){return p.React.createElement(h.a,{key:e.getThumbUrl(),image:e,selected:e.getRawUrl()===(n&&n.src),visible:e.isThumbLoaded(),onClick:t._onImageClick.bind(t,e)})})},e.prototype.render=function(){var t=this;if(this.state.loading)return p.React.createElement(p.LoadingIndicatorComponent,null);var e=this.props.innerRef;return p.React.createElement(f,{innerRef:function(n){e&&e(n),t._wrapper=n},className:void 0},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(m,null,this._renderListItems())))},e}(p.BaseComponent);e.a=d;var f=p.adonis.div("rfecls","RootPanelWrapper"),m=p.adonis.ul("5jg0ou","ImageList"),g=p.adonis.div("6kl290","NoResultsText")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.ControlItem),p=c.ControlsStyles.ControlItemActiveOverlay,h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a.state={isPortrait:!1,hovered:!1},a}return l()(e,t),e.prototype.componentWillReceiveProps=function(t){if(this.props.visible!==t.visible){var e=this.props.image.getThumbImage();e.height>e.width&&this.setState({isPortrait:!0})}},e.prototype.render=function(){var t=this,e=this.props,n=e.image,i=e.onClick,o=e.selected,r=e.visible,s={backgroundImage:"url('"+n.getThumbUrl()+"')"},a=n.getAuthorAvatar(),l=this.context.theme.transitionDuration,u=[void 0,o&&"is-selected"].filter(function(t){return t});return c.React.createElement(d,{animated:!0,style:s,selected:o,visible:r,className:u.join(" "),onClick:i,portrait:this.state.isPortrait,onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})}},c.React.createElement(c.Transition,{active:this.state.hovered,enterProp:"rendered",enterDuration:1e3*l,appearProp:"visible",appearDuration:1e3*l,leaveDuration:1e3*l},c.React.createElement(_,{selected:o},a&&c.React.createElement(m,{src:a}),c.React.createElement(g,null,n.getAuthorName()))),c.React.createElement(c.Transition,{active:o,enterProp:"rendered",enterDuration:1e3*l,appearProp:"visible",appearDuration:1e3*l,leaveDuration:1e3*l},c.React.createElement(f,{selected:!0})))},e}(c.BaseComponent);e.a=h;var d=Object(c.adonis)(u).li("1a5mxw5",{portrait:"otbyv0"},"ListItem"),f=Object(c.adonis)(p).div("120drhm","ListItemOverlay"),m=c.adonis.img("1owxkzt","AuthorAvatar"),g=c.adonis.div("1jylqsv","AuthorName"),_=c.adonis.div("mchu36",{rendered:"2jlos",visible:"1fmxelx"},"Author")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),250),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onInputChange"),a._onDebouncedInputChange=c.Utils.debounce(a._onDebouncedInputChange,u),a.state={searchQueryInputValue:""},a}return l()(e,t),e.prototype.componentWillReceiveProps=function(t){this.props.searchQuery!==t.searchQuery&&this.setState({searchQueryInputValue:t.searchQuery})},e.prototype.componentWillUnmount=function(){this._disposed=!0},e.prototype._onDebouncedInputChange=function(t){this._disposed||this.props.onChange&&this.props.onChange(t)},e.prototype._onInputChange=function(t){var e=t.target.value;this.setState({searchQueryInputValue:e}),this._onDebouncedInputChange(e)},e.prototype.render=function(){return c.React.createElement(h,{key:"header"},c.React.createElement(d,null,c.React.createElement(f,{placeholder:this._t("editor.controls.library.search"),onLiveChange:this._onInputChange,className:void 0,value:this.state.searchQueryInputValue})))},e}(c.BaseComponent);e.a=p;var h=c.adonis.div("1tkmkv6","Header"),d=c.adonis.div("mz0a5q","InputContainer"),f=Object(c.adonis)(c.TextInputComponent)("py3uvl","TextInput")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),n(279)),p=n(280),h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onImage","_onWebcamBack","_onWebcamActivated"),a.state.displayHeader=!1,a}return l()(e,t),e.prototype._onImage=function(t){this.props.controls.onImage(t)},e.prototype._onWebcamBack=function(){this.setSharedState({webcamEnabled:!1})},e.prototype._onWebcamActivated=function(t){this.setSharedState({webcamEnabled:!0})},e.prototype._renderControls=function(){var t=this.getSharedState("webcamEnabled"),e=this.props.options.displayUploadInCanvas;return t?c.React.createElement(u.a,{onImage:this._onImage,onBack:this._onWebcamBack}):e?c.React.createElement(d,null,c.React.createElement(p.a,{large:!0,controls:this.props.controls,webcamEnabled:this.props.options.enableWebcam,onWebcamActivated:this._onWebcamActivated,onImage:this._onImage})):void 0},e}(c.CanvasControlsComponent);h.contextTypes=c.CanvasControlsComponent.contextTypes,e.a=h;var d=c.adonis.div("1up9ikz","LibraryUploadContainer")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=(n.n(u),function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onWebcamReady","_onButtonClick","_onCancelClick"),a.state={webcamReady:!1,videoWidth:1,videoHeight:1},a}return l()(e,t),e.prototype._onWebcamReady=function(){this.props.onReady&&this.props.onReady();var t=new c.Math.Vector2(this._video.videoWidth,this._video.videoHeight),e=u.Utils.getInnerDimensionsForElement(this._videoContainer),n=c.Utils.resizeVectorToFit(t,e);this.setState({webcamReady:!0,videoWidth:n.x,videoHeight:n.y})},e.prototype._onButtonClick=function(t){t.preventDefault(),this._takePhoto()},e.prototype._onCancelClick=function(t){t.preventDefault(),this.props.onBack&&this.props.onBack()},e.prototype.componentDidMount=function(){this._initVideoStream()},e.prototype.componentWillUnmount=function(){if(t.prototype.componentWillUnmount.call(this),this._stream){var e=this._stream.getTracks()[0];e&&e.stop(),this._stream.stop&&this._stream.stop()}this._video.pause()},e.prototype._initVideoStream=function(){var t=this,e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!e){return void u.ModalManager.instance.displayError(this._t("errors.title"),this._t("errors.webcamNotSupported.text")).on("close",function(){return t.props.onBack()})}e.call(navigator,{video:!0},function(e){t._stream=e,t._video.onloadedmetadata=t._onWebcamReady,t._video.src=window.URL.createObjectURL(e)},function(e){c.Log.error(e),u.ModalManager.instance.displayError(t._t("errors.title"),t._t("errors.webcamUnavailable.text",{error:e.name}),!0).on("close",function(){return t.props.onBack()})})},e.prototype._takePhoto=function(){var t=this;if(this.state.webcamReady){var e=document.createElement("canvas");e.width=this._video.videoWidth,e.height=this._video.videoHeight;e.getContext("2d").drawImage(this._video,0,0);var n=new window.Image;n.addEventListener("load",function(){t.props.onImage&&t.props.onImage(n)}),n.src=e.toDataURL("image/png")}},e.prototype.render=function(){var t=this,e={width:this.state.videoWidth,height:this.state.videoHeight};return u.React.createElement(h,null,u.React.createElement(d,null,u.React.createElement(f,{onClick:this._onCancelClick},this._t("editor.cancel"))),u.React.createElement(m,null,u.React.createElement(g,{innerRef:function(e){t._videoContainer=e}},u.React.createElement(_,{autoPlay:!0,visible:this.state.webcamReady,style:e,innerRef:function(e){t._video=e}}),u.React.createElement(y,{onClick:this._onButtonClick}))))},e}(u.BaseComponent));e.a=p;var h=u.adonis.div("dehn6v","Container"),d=u.adonis.div("4d756t","Gradient"),f=u.adonis.div("1p4kwwq","CancelButton"),m=u.adonis.div("1j41msh","OuterVideoContainer"),g=u.adonis.div("1g72uw9","VideoContainer"),_=u.adonis.video("1btv3tg",{visible:"jsuk9w"},"Video"),y=u.adonis.div("1fkab7z","Button")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),n(115)),p=c.ControlsStyles.PlainControlItem,h=c.ControlsStyles.PlainControlItemBackground,d=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t={backgroundImage:"url('"+this._getAssetPath("editor/controls/library/webcam.png",!0)+"')"};return c.React.createElement(f,null,c.React.createElement(m,null,c.React.createElement(y,null,c.React.createElement(g,{onClick:this._onDropZoneClick,onDragEnter:this._onDropZoneDragEnter,onDragOver:this._onDropZoneDragOver,onDragLeave:this._onDropZoneDragLeave,onDrop:this._onDropZoneDrop,hovered:this.state.dropZoneHovered},c.React.createElement(c.InvisibleUploadComponent,{ref:"upload",onNewFile:this._onNewFile}),this.state.dropZoneHovered?this._t("editor.controls.library.fileDropZoneHovered"):this._t("editor.controls.library.fileDropZone"))),!this.state.dropZoneHovered&&this.props.webcamEnabled&&c.React.createElement(y,null,c.React.createElement(_,{style:t,className:void 0,onClick:this._onWebcamClick}))))},e}(u.a);e.a=d;var f=Object(c.adonis)(p).div("1xesje3","Container"),m=Object(c.adonis)(h).div("z914p5","Background"),g=c.adonis.div("yw0i2r",{hovered:"1xndhux"},"DropZone"),_=c.adonis.div("1jg5y1q","WebcamButton"),y=c.adonis.div("15u7gri","Row")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=n.n(c),p=n(282),h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("adjustments"),n=t.operations.getOrCreate("adjustments"),i=n.serializeOptions();this.sharedState.set({operation:n,operationExistedBeforeEntering:e,operationExistedBeforeLastHistoryItem:e,initialOptions:i})},e.prototype._onLeave=function(){var t=this.context.editor,e=this.sharedState.get("operation"),n=this.sharedState.get("operationExistedBeforeEntering"),i=this.sharedState.get("initialOptions");e.optionsEqual(i)||this.addHistoryItem(t.history.createItem({type:"global",operation:e.constructor.identifier,options:i,existent:n}));var o=e.getDefaultOptions();e.optionsEqual(o)&&t.operations.remove(e)},e.prototype._onOperationRemoved=function(t){t===this.sharedState.get("operation")&&this._onEnter()},e.isEnabled=function(t){return t.isToolAllowed("adjustment")&&t.isToolEnabled("adjustments")},e}(c.BaseControls);h.clickAtPosition=c.BaseControls.clickAtPosition,h.getPreloadAssets=c.BaseControls.getPreloadAssets,h.identifier="adjustments",h.controlsComponent=p.a,h.canvasControlsComponent=c.BaseControls.canvasControlsComponent,h.iconPath="editor/controls/adjustments/icon.png",h.activeIconPath="editor/controls/adjustments/icon-active.png",h.requiredOperations=["adjustments"],h.defaultOptions={availableAdjustments:null},e.a=h,u.a.Controls.AdjustmentsControls=h},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(283)),d=p.GroupedControlsStyles.ControlGroupList,f=[{identifier:"basics",items:["brightness","saturation","contrast","gamma"]},{identifier:"refinements",items:["clarity","exposure","shadows","highlights"]}],m=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onOperationUpdated","_onTabSwitch","_onResetDefaultClick"),a._events=o()({},p.Constants.EVENTS.OPERATION_UPDATED,a._onOperationUpdated),a._lastLocalHistoryItem=null,a}return u()(e,t),e.prototype._isAdjustmentAvailable=function(t){var e=this.props.options.availableAdjustments;return null===e||-1!==e.indexOf(t)},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onTabSwitch=function(){this._scrollbar.update()},e.prototype._onResetDefaultClick=function(){this.getSharedState("operation").resetOptions(),this.context.editor.render(),this.forceUpdate()},e.prototype._registerLocalHistoryChange=function(t){this.props.controls.registerLocalHistoryChange(t,!0)},e.prototype._renderAdjustmentsControls=function(){var t=this,e=function(e){return p.React.createElement(p.CollapseSectionComponent,{key:e.identifier,title:t._t("editor.controls.adjustments.sections."+e.identifier),alwaysExpanded:!0},p.React.createElement(_,{className:void 0+e.identifier},n(e.items)))},n=function(e){return e.filter(function(e){return t._isAdjustmentAvailable(e)}).map(function(e){return t._makeItem(e)})};return f.filter(function(e){return e.items.filter(function(e){return t._isAdjustmentAvailable(e)}).length>0}).map(e)},e.prototype._makeItem=function(t){var e=this.getSharedState("operation"),n=e.getOption(t);return p.React.createElement(h.a,{item:t,value:n,onBeforeValueChange:this._registerLocalHistoryChange.bind(this,t),className:void 0,key:t})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this;return p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerListRef:function(e){t._list=e},innerRef:function(e){t._scrollbar=e}},p.React.createElement(g,null,p.React.createElement(y,null,p.React.createElement(p.ButtonComponent,{title:this._t("editor.controls.adjustments.reset"),className:void 0,onClick:this._onResetDefaultClick})),this._renderAdjustmentsControls()))},e}(p.ControlsComponent);m.contextTypes=p.ControlsComponent.contextTypes,m.RootElement=p.ControlsComponent.RootElement,e.a=m;var g=Object(p.adonis)(d).ul("x32ss4","SectionList"),_=p.adonis.ul("gz4y54","SectionItemList"),y=p.adonis.div("7abnmv","BottomSection")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=n.n(c),p=n(4),h=(n.n(p),u.a.Operations.AdjustmentsOperation),d=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));a._bindAll("_onValueChange"),a._option=h.prototype.availableOptions[a.props.item];var l=a.getSharedState("operation");return a.state={value:l?l.getOption(a.props.item):a._option.default},a}return l()(e,t),e.prototype.shouldComponentUpdate=function(t){return t.value!==this.props.value||t.value!==this.state.value},e.prototype._onValueChange=function(t){this.props.onBeforeValueChange&&this.props.onBeforeValueChange(t);var e=this.getSharedState("operation"),n=this._option,i=n.minValue,o=n.midValue,r=n.maxValue;t=t<0?o+(o-i)*t/100:o+(r-o)*t/100,e.setOption(this.props.item,t),this.context.editor.render(),this.setState({value:t}),this.props.onValueChange&&this.props.onValueChange(t),this.forceUpdate()},e.prototype.render=function(){var t=this.getSharedState("operation"),e=this._option,n=e.minValue,i=e.midValue,o=e.maxValue,r=t?t.getOption(this.props.item):i,s=100*(r<=i?(r-n)/(i-n)-1:(r-i)/(o-i));return r===n&&(s=-100),p.React.createElement(p.SliderControlComponent,{key:this.props.item,label:this._t("editor.controls.adjustments.items."+this.props.item),minValue:-100,maxValue:100,value:parseInt(s),onSliderValueChange:this._onValueChange,onValueChange:this._onValueChange,className:this.props.className,middleDot:!0})},e}(p.SharedStateComponent);d.contextTypes=p.SharedStateComponent.contextTypes,e.a=d},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=n.n(u),h=n(285),d=n(287),f=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onEnter=function(){var t=this,e=this.context.editor,n=e.operations.exists("sprite"),i=e.operations.getOrCreate("sprite"),o=i.serializeOptions(),r=i.createBrush();i.addSprite(r),e.zoom.auto(!1,!1,function(){e.features.disable("zoom","drag");var n=e.getOutputDimensions(),i=Math.max(.05*n.min(),1);t._options.widthPresets&&t._options.widthPresets.length>0&&(i=t._options.sizePresets[0]),t.sharedState.set({brushSize:Math.round(i)})}),this.sharedState.set({operationExistedBeforeEntering:n,operation:i,initialOptions:o,brushSprite:r,brushColor:c.Color.WHITE,brushSize:.1,brushHardness:50})},e.prototype._onLeave=function(){var t=this.context.editor,e=this.sharedState.getState(),n=e.initialOptions,i=e.operation,o=e.operationExistedBeforeEntering;i.optionsEqual(n)||this.addHistoryItem({type:"global",operation:"sprite",options:n,existent:o}),t.features.enable("zoom","drag"),t.render()},e.prototype._onOperationRemoved=function(t){if(t===this.sharedState.get("operation")){var e=this.context.editor.operations.getOrCreate("sprite"),n=e.createBrush();e.addSprite(n),this.sharedState.set({operation:e,brushSprite:n})}},e.isEnabled=function(t){return t.isToolAllowed("brush")&&t.isToolEnabled("brush")},e}(u.BaseControls);f.clickAtPosition=u.BaseControls.clickAtPosition,f.getPreloadAssets=u.BaseControls.getPreloadAssets,f.identifier="brush",f.controlsComponent=h.a,f.canvasControlsComponent=d.a,f.iconPath="editor/controls/brush/icon.png",f.activeIconPath="editor/controls/brush/icon-active.png",f.requiredOperations=["sprite"],f.defaultOptions={brushes:[],replaceBrushes:!1,availableBrushes:null},e.a=f,p.a.Controls.BrushControls=f},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(7),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(5),f=(n.n(d),n(4)),m=(n.n(f),n(286)),g=d.Operations.SpriteOperation,_=void 0;g&&(_=d.Operations.SpriteOperation.BrushSprite.Brush);var y=f.GroupedControlsStyles.ControlGroupTitle,v=f.GroupedControlsStyles.ControlGroup,b=function(t){function e(){l()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onBrushColorChanged","_onBrushHardnessChanged","_onBrushWidthChanged","_onOperationUpdated"),r._events=s()({},f.Constants.EVENTS.OPERATION_UPDATED,r._onOperationUpdated),r._initBrushManager(),r}return h()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._onBrushSelect(this._brushManager.getBrushes()[0])},e.prototype._initBrushManager=function(){this._brushManager=new f.BrushManager(this.context.ui,this.props.options)},e.prototype._onBrushColorChanged=function(t){var e=this.getSharedState("brushInstance").clone();e.setColor(t.clone()),this.setSharedState({brushInstance:e})},e.prototype._onBrushHardnessChanged=function(t){var e=this.getSharedState("brushInstance").clone();e.setHardness(t/100),this.setSharedState({brushInstance:e,brushHardness:Math.round(t)})},e.prototype.sharedStateDidChange=function(t,e){t.brushSize!==e.brushSize&&this._onBrushWidthChanged(e.brushSize)},e.prototype._onBrushWidthChanged=function(t){var e=this.context.editor,n=e.getOutputDimensions(),i=this.getSharedState("brushInstance").clone();i.setSize(t/n.min()),this.setSharedState({brushInstance:i,brushSize:Math.round(t)})},e.prototype._onOperationUpdated=function(t){var e=this.context.editor;if(t===this.getSharedState("operation")){var n=this.getSharedState("brushSprite");if(n){var i=t.getSprites().filter(function(t){return t.getId()===n.getId()})[0];this.setSharedState({brushSprite:i})}e.render()}},e.prototype._onBrushSelect=function(t){var e=this,n=this.context.editor,i=n.getOutputDimensions(),o=this.getSharedState("brushSize")/i.min(),r=this.getSharedState("brushHardness")/100,s=this.getSharedState("brushColor"),a={size:o,color:s},c=void 0;if(t.prototype&&t.prototype instanceof _){c=new t(a)}else{var p=d.Utils.extend({},t);delete p.image;var f=function(t){function e(){return l()(this,e),u()(this,t.apply(this,arguments))}return h()(e,t),e}(_);f.identifier=t.identifier,c=new f(d.Utils.extend({},p,a))}c.hasOption("hardness")&&c.setHardness(r),this._loadBrush(t,c).then(function(){e.setSharedState({brushInstance:c,brush:t})})},e.prototype._loadBrush=function(t,e){var n=this;return new o.a(function(i,o){if(t.constructor===Object){var r=new window.Image;r.addEventListener("load",function(){e.setImage(r),i()}),r.addEventListener("error",function(){o(new Error("Failed to load image at "+r.src))}),r.src=n._getAssetPath(t.image),r.crossOrigin="Anonymous"}else i()})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderBrushItems=function(){var t=this,e=this._brushManager.getBrushes();return e.length<=1?null:e.map(function(e){return f.React.createElement(m.a,{key:e.identifier,brush:e,selected:t.getSharedState("brush")===e,onClick:t._onBrushSelect.bind(t,e)})})},e.prototype._renderContent=function(){var t=this,e=this.getSharedState("brushInstance");return f.React.createElement(f.ScrollableListComponent,{direction:"vertical",innerListRef:function(e){t._list=e},innerRef:function(e){t._scrollbar=e}},f.React.createElement(S,null,f.React.createElement(C,null,this._t("editor.controls.brush.settings")),f.React.createElement(w,null,f.React.createElement(f.ColorSelectionComponent,{value:this.getSharedState("brushColor"),onChange:this._onBrushColorChanged})),f.React.createElement(k,{label:this._t("editor.controls.brush.width"),minValue:1,maxValue:100,value:this.getSharedState("brushSize"),onSliderValueChange:this._onBrushWidthChanged,onValueChange:this._onBrushWidthChanged,className:void 0}),f.React.createElement(k,{label:this._t("editor.controls.brush.hardness"),minValue:0,maxValue:100,disabled:!(e&&e.hasOption("hardness")),value:this.getSharedState("brushHardness"),onSliderValueChange:this._onBrushHardnessChanged,onValueChange:this._onBrushHardnessChanged})),f.React.createElement(x,null,f.React.createElement(f.ScrollbarComponent,{direction:"vertical"},f.React.createElement(E,null,this._renderBrushItems()))))},e}(f.ControlsComponent);b.contextTypes=f.ControlsComponent.contextTypes,b.RootElement=f.ControlsComponent.RootElement,e.a=b;var k=Object(f.adonis)(f.SliderControlComponent)("6vpx1b","SliderControl"),S=Object(f.adonis)(v).div("r92vc7","Settings"),C=Object(f.adonis)(y).div("120drhm","SettingsTitle"),w=f.adonis.div("yzsuxp","ColorSelection"),x=f.adonis.div("16dil83","Brushes"),E=f.adonis.ul("1lb1mg4","BrushList")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),h.ControlsStyles.PlainControlItemBackground),f=p.Operations.SpriteOperation,m=void 0,g=void 0;f&&(m=f.BrushSprite.Brush,g=f.BrushSprite.Path);var _=p.Math.Vector2,y=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype._loadBrush=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.brush;return new o.a(function(n,i){if(e.constructor===Object){var o=new window.Image;o.addEventListener("load",function(){t._brush.setImage(o),n()}),o.addEventListener("error",function(){i(new Error("Failed to load image at "+o.src))}),o.src=t._getAssetPath(e.image),o.crossOrigin="Anonymous"}else n()})},e.prototype._drawBrush=function(){var t=new g(null,{brush:this._brush},this._canvas);t.addControlPoint(new _(.1,.5)),t.addControlPoint(new _(.9,.5)),t.render(new _(this._canvas.width,this._canvas.height))},e.prototype._instantiateBrush=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.brush,e={color:p.Color.WHITE,size:.25};if(t.prototype&&t.prototype instanceof m){var n=t;this._brush=new n(e)}else{var i=p.Utils.extend({},t);delete i.image;var o=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e}(m);o.identifier=t.identifier,this._brush=new o(p.Utils.extend({},i,e))}},e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this._instantiateBrush();var n=this._canvas,i=n.offsetWidth,o=n.offsetHeight;this._canvas.width=i,this._canvas.height=o,this._loadBrush().then(function(t){e._drawBrush()})},e.prototype.render=function(){var t=this;return h.React.createElement(v,{onClick:this.props.onClick,selected:this.props.selected,className:void 0,"data-selected":this.props.selected},h.React.createElement(b,{innerRef:function(e){t._canvas=e}}))},e}(h.BaseComponent);e.a=y;var v=Object(h.adonis)(d).li("8908c2",{selected:"120drhm"},"BrushListItem"),b=h.adonis.canvas("1ssoezr","Canvas")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=(n.n(u),n(74)),h=c.Operations.SpriteOperation?c.Operations.SpriteOperation:{},d=h.BrushSprite,f=c.Math.Vector2,m=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onMouseEnter","_onMouseLeave","_onMouseMove","_onDrawStart","_onDraw","_onDrawStop"),a.state=c.Utils.extend(a.state,{cursorPosition:new f(0,0),canvasClickDisabled:!0}),a}return l()(e,t),e.prototype._onDrawStart=function(t){this.props.controls.registerLocalHistoryChange("brush");var e=this.context.editor,n=e.getOutputDimensions();this._initialDrawPosition=t.clone();var i=this.getSharedState("brushSprite"),o=this.getSharedState("brushInstance");this._currentPath=i.createPath(o),this._currentPath.addControlPoint(t.clone().divide(n)),this._lastDrawPosition=this._initialDrawPosition.clone(),this._lastCursorPosition=this._initialDrawPosition.clone()},e.prototype._onDraw=function(t,e,n){var i=this.context.editor,o=i.getOutputDimensions(),r=i.getOutputTextureDimensions(),s=this._lastCursorPosition.clone().add(n),a=i.zoom.level,l=this.getSharedState("brushSize");s.clone().subtract(this._lastDrawPosition).abs().len()/a>=l/10&&(this._currentPath.addControlPoint(s.clone().divide(o)),this.getSharedState("brushSprite").render(r),this._lastDrawPosition.copy(s)),this._lastCursorPosition.copy(s)},e.prototype._onDrawStop=function(){this._currentPath.setClosed(!0);var t=this.context.editor,e=t.getOutputTextureDimensions();this.getSharedState("brushSprite").render(e),this._currentPath=null},e.prototype._onMouseEnter=function(){this.setState({cursorVisible:!0})},e.prototype._onMouseLeave=function(){this.setState({cursorVisible:!1})},e.prototype._onMouseMove=function(t){var e=u.Utils.getEventPosition(t),n=this._innerContainer.getBoundingClientRect();e.subtract(n.left,n.top),this.setState({cursorPosition:e})},e.prototype._getPropsForSprite=function(e){var n=t.prototype._getPropsForSprite.call(this,e);return e instanceof d&&(n.hideContent=!1),n},e.prototype._getCursorStyle=function(){return{width:this.getSharedState("brushSize")+8,height:this.getSharedState("brushSize")+8,left:this.state.cursorPosition.x,top:this.state.cursorPosition.y,marginLeft:-.5*(this.getSharedState("brushSize")+8),marginTop:-.5*(this.getSharedState("brushSize")+8)}},e.prototype._renderOverlayControls=function(){return u.React.createElement(u.DraggableComponent,{onStart:this._onDrawStart,onDrag:this._onDraw,onStop:this._onDrawStop},u.React.createElement(g,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,className:void 0},u.React.createElement(_,{style:this._getCursorStyle(),visible:this.state.cursorVisible})))},e}(p.a);m.contextTypes=p.a.contextTypes,e.a=m;var g=u.adonis.div("1sc5z35","BrushCanvasControls"),_=u.adonis.div("y4v90o",{visible:"2jlos"},"Cursor")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(75)),d=n(30),f=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r.state={renderAsSVG:!1,svgAttributes:{}},r}return u()(e,t),e.prototype.componentDidMount=function(){var e=this;if(t.prototype.componentDidMount.call(this),this.props.hideContent)return null;var n=this.props.sprite;n.getImage().src.match(/\w+\.svg(?=\?|$)/i)&&"none"!==n.getTintMode()&&d.a.loadXHR(n.getImage().src,"image/svg+xml").then(function(t){for(var n=t.responseXML.documentElement.attributes,i={},o=0;o<n.length;o++){var r=n[o],s=r.name,a=r.value;"xmlns:xlink"===s&&(s="xmlnsXlink"),i[s]=a}var l=t.responseText.match(/<svg\b[^>]*>([\s\S]*?)<\/svg>/im)[1];l=l.replace(/\s+?fill=["'].*?["']/gi,""),e.setState({renderAsSVG:!0,svgContent:l,svgAttributes:i})})},e.prototype._onBeforeScale=function(){var t=this.props.sprite;this._initialOptions={dimensions:t.getDimensions().clone()}},e.prototype._onScale=function(t){var e=this.context.editor,n=this._initialOptions.dimensions;this.props.sprite.set({dimensions:n.clone().multiply(t/e.zoom.level)}),this.forceUpdate(),e.render()},e.prototype._getSpriteDimensions=function(){var t=this.context.editor;return this.props.sprite.getDimensions().clone().multiply(t.zoom.level)},e.prototype._getContainerStyle=function(){var t=this.context.editor,e=t.getOutputDimensions(),n=this.props.sprite,i=n.getPosition().clone().multiply(e),o=180*n.getRotation()/Math.PI,r="rotateZ("+o.toFixed(2)+"deg)",s=n.getDimensions().clone().multiply(t.zoom.level);return{width:s.x,height:s.y,left:i.x,top:i.y,marginLeft:-.5*s.x,marginTop:-.5*s.y,transform:r,MozTransform:r,msTransform:r,WebkitTransform:r,transformOrigin:"50% 50%",MozTransformOrigin:"50% 50%",msTransformOrigin:"50% 50%",WebkitTransformOrigin:"50% 50%"}},e.prototype._getContentStyle=function(){var t=this.props.sprite,e="rotateY("+(t.getFlipHorizontally()?180:0)+"deg) rotateX("+(t.getFlipVertically()?180:0)+"deg)",n={opacity:t.getAlpha(),transform:e,MozTransform:e,msTransform:e,WebkitTransform:e};return this.state.renderAsSVG&&(n.fill=t.getTintColor().toRGBA()),n},e.prototype._renderContent=function(){if(this.props.hideContent)return null;var t=this.props.sprite,e=this.state.svgAttributes;return this.state.renderAsSVG?React.createElement(g,o()({style:this._getContentStyle(),dangerouslySetInnerHTML:{__html:this.state.svgContent}},e)):React.createElement(m,{src:t.getImage().src,style:this._getContentStyle()})},e}(h.a);f.contextTypes=h.a.contextTypes,f.MIN_WIDTH=h.a.MIN_WIDTH,e.a=f;var m=p.adonis.img("1ssoezr","Image"),g=p.adonis.svg("1ssoezr","SVGImage")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(75)),f=p.Math.Vector2,m=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onTextChange","_onBlur","_onItemDoubleClick","_onWidthDrag","_onWidthDragStop"),r.state={editing:!1,updateBecauseIESucks:!1},r}return u()(e,t),e.prototype._isDraggingDisabled=function(){return t.prototype._isDraggingDisabled.call(this)||this.state.editing},e.prototype.enterEditMode=function(){var t=this,e=this.context.editor,n=this.props.sprite;n.setVisible(!1),e.render(),this.setState({editing:!0},function(){n._edited||(n.setText(""),t._textField.value="",n._edited=!0,t.forceUpdate()),t._textField.focus(),t._textField.select()})},e.prototype.leaveEditMode=function(){var t=this.context.editor;this.props.sprite.setVisible(!0),t.render(),this.setState({editing:!1})},e.prototype.shouldComponentUpdate=function(){return!0},e.prototype._onTakeToFront=function(){var e;this.leaveEditMode();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(e=t.prototype._onTakeToFront).call.apply(e,[this].concat(i))},e.prototype._onFlipHorizontally=function(){var e;this.leaveEditMode();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(e=t.prototype._onFlipHorizontally).call.apply(e,[this].concat(i))},e.prototype._onDuplicate=function(){var e;this.leaveEditMode();for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];(e=t.prototype._onDuplicate).call.apply(e,[this].concat(i))},e.prototype._onSpriteUpdate=function(e,n){var i=this;h.Utils.Browser.isIElte(10)&&n.alignment&&e.getAlignment()!==n.alignment&&this.setState({updateBecauseIESucks:!0},function(){Object(h.requestAnimationFrame)(function(){i.setState({updateBecauseIESucks:!1})})}),t.prototype._onSpriteUpdate.call(this)},e.prototype._onWidthDragStart=function(t,e,n){var i=this.context.editor,o=this.props.sprite,r=o.getAnchor();this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset();var s=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),a=o.getDimensions(i.getSDK(),i.getOutputDimensions()),l=new f(a.width,a.height),c=s.clone().subtract(l.clone().multiply(r)).add(l.clone().multiply(.5)).round(),u=n.clone().subtract(this._containerOffset).subtract(c);this._initialScaleSettings={maxWidth:o.getMaxWidth(),mouseDistanceFromCenter:u},this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},e.prototype._onWidthDrag=function(t){var e=this.props.sprite,n=e.getRotation(),i=this._initialScaleSettings.mouseDistanceFromCenter,o=i.clone().add(t),r=Math.cos(n),s=Math.sin(n),a=Math.max(Math.abs(2*(o.x*r+o.y*s)),50)/this._imageBoundingBox.width;e.setMaxWidth(a),this.context.editor.render()},e.prototype._onWidthDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},e.prototype._onBlur=function(){this.leaveEditMode();var t=this.props.sprite;t&&""===t.getText()&&(t.setText(this._t("editor.controls.text.defaultText")),t._edited=!1)},e.prototype._onTextChange=function(t){this.props.sprite.setText(t.target.value),this.forceUpdate()},e.prototype._onItemDoubleClick=function(){this.props.selected&&this.enterEditMode()},e.prototype._onBeforeScale=function(){var t=this.props.sprite;this._initialOptions={maxWidth:t.getMaxWidth(),fontSize:t.getFontSize()}},e.prototype._onScale=function(t){var e=this._initialOptions,n=e.maxWidth,i=e.fontSize,o=this.props.sprite;o.set({maxWidth:n*t,fontSize:i*t}),this.context.mediator.emit(h.Constants.EVENTS.TEXT_SCALED,o),this.forceUpdate()},e.prototype._getContainerStyle=function(){var t=this.context.editor,e=t.getOutputDimensions(),n=this.props.sprite,i=n.getPosition().clone().multiply(e),o=180*n.getRotation()/Math.PI,r="rotateZ("+o.toFixed(2)+"deg)",s=n.getMaxWidth()*e.x,a=n.getDimensions(t.getSDK(),e).y;return{width:s,height:a,left:i.x,top:i.y,marginLeft:-.5*s,marginTop:-.5*a,transform:r,MozTransform:r,msTransform:r,WebkitTransform:r,transformOrigin:"50% 50%",MozTransformOrigin:"50% 50%",msTransformOrigin:"50% 50%",WebkitTransformOrigin:"50% 50%"}},e.prototype._getTextStyle=function(){var t=this.context.editor,e=this.props.sprite,n=t.getSDK(),i=t.getOutputDimensions(),o=e.getDOMStyle(n,i),r=this._getAbsoluteSpritePosition(),s=e.getDimensions(n,i);return o.height=Math.min(s.y,i.y-r.y+s.y/2),o},e.prototype._renderKnobs=function(){var e=this,n=t.prototype._renderKnobs.call(this);return["left","right"].forEach(function(t){var i="width-"+t,r=o()({},t,!0);n.push(h.React.createElement(h.DraggableComponent,{key:i,onStart:e._onWidthDragStart.bind(e,t),onDrag:e._onWidthDrag,onStop:e._onWidthDragStop},h.React.createElement(y,r)))}),n},e.prototype._getItemControlsProps=function(){return{onDoubleClick:this._onItemDoubleClick,onTouchStart:this._onItemTouchStart,onTouchEnd:this._onItemTouchEnd}},e.prototype._renderContent=function(){var t=this,e=this.props,n=e.sprite,i=e.selected,o=this.state,r=o.editing,s=o.updateBecauseIESucks,a=[];return this.props.hideContent&&!this.state.editing||a.push(h.React.createElement(g,{key:"text-field",editing:r,innerRef:function(e){t._textField=e},style:this._getTextStyle(),defaultValue:n.getText(),onBlur:this._onBlur,onChange:this._onTextChange,updateBecauseIESucks:s})),this.state.editing||a.push(h.React.createElement(_,{key:"disabled-overlay",className:void 0,selected:i})),a},e}(d.a);m.contextTypes=d.a.contextTypes,m.MIN_WIDTH=100,e.a=m;var g=h.adonis.textarea("12u5t8c",{updateBecauseIESucks:"ckktkq",editing:"15kzu1c"},"TextField"),_=h.adonis.div("8gacw5","DisabledOverlay"),y=h.adonis.div("jqmmm4",{left:"tr97e1",right:"1llojum"},"WidthControl")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),n(75)),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var e=this.props.sprite.getCanvas();this._brush&&this._appendCanvas(e)},e.prototype.componentWillReceiveProps=function(t){if(t.sprite!==this.props.sprite){var e=this.props.sprite.getCanvas();if(e.parentNode.removeChild(e),this._brush){var n=t.sprite.getCanvas();this._appendCanvas(n)}}},e.prototype._appendCanvas=function(t){t.style.width="100%",t.style.height="100%",this._brush.appendChild(t)},e.prototype._renderOverlayControls=function(){return null},e.prototype.render=function(){var t=this;return this.props.hideContent?null:c.React.createElement(h,{innerRef:function(e){t._brush=e}})},e}(u.a);e.a=p;var h=c.adonis.div("8gacw5","BrushItem")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=n.n(u),h=n(292),d=void 0;c.Operations.FilterOperation&&(d=c.Operations.FilterOperation.Filters);var f=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onOperationRemoved=function(t){t===this.sharedState.get("operation")&&this._onEnter()},e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("filter"),n=t.operations.getOrCreate("filter"),i=n.serializeOptions();this.sharedState.set({operation:n,initialOptions:i,operationExistedBeforeEntering:e})},e.prototype._onLeave=function(){var t=this.context.editor,e=this.sharedState.state,n=e.operation,i=e.initialOptions,o=e.operationExistedBeforeEntering,r=i.intensity!==n.getIntensity()||i.identifier!==n.getIdentifier();if(n.getFilter().constructor===d.IdentityFilter&&t.operations.remove(n,!1),r){var s=i.filter.constructor,a=void 0;"3d-lut"===s.identifier&&(a=i.filter.getImage()),this.addHistoryItem({type:"global",operation:n.constructor.identifier,options:{identifier:i.identifier,intensity:i.intensity},undo:function(){var e=t.operations.getOrCreate("filter");"3d-lut"===s.identifier?e.setFilter(new s({image:a,resolution:i.filter.getResolution(),horizontalTileCount:i.filter.getHorizontalTileCount(),verticalTileCount:i.filter.getVerticalTileCount()})):e.setFilter(new s)},existent:o})}},e.isEnabled=function(t){return t.isToolEnabled("filter")&&t.isToolAllowed("filter")},e.getPreloadAssets=function(t){var e=[],n=t.getOptions(),i=c.Utils.defaults(n.editor.controlsOptions.filter,this.defaultOptions);return new u.FilterManager(t.getUI(),i).getFiltersForCategory("all").forEach(function(t){void 0!==t.lutImage&&e.push([t.lutImage,!1])}),e},e}(u.BaseControls);f.clickAtPosition=u.BaseControls.clickAtPosition,f.identifier="filter",f.controlsComponent=h.a,f.canvasControlsComponent=u.BaseControls.canvasControlsComponent,f.iconPath="editor/controls/filter/icon.png",f.activeIconPath="editor/controls/filter/icon-active.png",f.requiredOperations=["filter","transform"],f.defaultOptions={categories:[],replaceCategories:!1,availableFilters:null},e.a=f,p.a.Controls.FilterControls=f},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(7),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(5),f=n.n(d),m=n(4),g=(n.n(m),n(116)),_=n(13),y=n(293),v=n(294),b=void 0;d.Operations.FilterOperation&&(b=d.Operations.FilterOperation.Filters.IdentityFilter);var k=function(t){function e(){l()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onIntensityChanged","_onListScroll","_onOperationUpdated");var a=r.context,c=a.ui,p=a.editor,h=a.theme;r._loadedFilters=[],r._filterPreviewRenderer=new v.a(p),r._renderQueue=new g.a(1,1/0,h.listItemSlideInDelay),r._filterManager=new m.FilterManager(c,r.props.options),r._filterPreviewQueue=[],r._events=s()({},m.Constants.EVENTS.OPERATION_UPDATED,r._onOperationUpdated);var f=r.getSharedState("operation");return r.state=d.Utils.extend(r.state,{intensity:100*f.getIntensity(),category:"all",filterPreviews:[]}),r}return h()(e,t),e.prototype.fixStyles=function(){var e=this;return t.prototype.fixStyles.call(this).then(function(){e._onListScroll()})},e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this._filterPreviewRenderer.init(),this._renderPreviewsAnimationFrame=Object(_.b)(function(){e._renderPreviews()})},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._renderPreviewsAnimationFrame&&Object(_.a)(this._renderPreviewsAnimationFrame),this._renderQueue.dispose(),this._filterPreviewRenderer.dispose(),this._disposed=!0,window.clearInterval(this._interval)},e.prototype.shouldComponentUpdate=function(t,e){return this.state.intensity!==e.intensity},e.prototype._renderPreviews=function(){var t=this,e=this.context.editor,n=e.getSDK().getRenderer(),i=this._getVisibleFilters().filter(function(e){return-1===t._loadedFilters.indexOf(e)});n.isOfType(f.a.RendererType.WEBGL)?i.forEach(function(e){t._loadedFilters.push(e),t._renderQueue.add(function(){return t._filterManager.instantiateFilterWithIdentifier(e.identifier).then(function(n){if(!t._disposed)return t._filterPreviewRenderer.render(n).then(function(n){t.state.filterPreviews[e.identifier]=n,t.forceUpdate()})})})}):(this._loadedFilters=this._loadedFilters.concat(i),i.forEach(function(e){t._renderQueue.add(function(){return new o.a(function(n){t.state.filterPreviews[e.identifier]=t._getAssetPath("editor/controls/filter/filters/"+e.identifier+".png",!0),t.forceUpdate(),n()})})}))},e.prototype._getVisibleFilters=function(){for(var t=[b].concat(this._filterManager.getFiltersForCategory(this.state.category)),e=[],n=this._container.getBoundingClientRect(),i=0,o=t.length;i<o;i++){var r=t[i],s=this.refs["filter-"+r.identifier].container,a=s.getBoundingClientRect();if(!(a.top>n.bottom+n.height||a.bottom<n.top))e.push(r);else if(e.length)break}return e},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onListScroll=function(t){this._renderPreviews()},e.prototype._onItemClick=function(t){var e=this,n=this.getSharedState("operation");n.getIdentifier()!==t&&this._filterManager.instantiateFilterWithIdentifier(t).then(function(i){n.set({filter:i,identifier:t,intensity:1}),e.context.editor.render(),e.forceUpdate(),e.setState({intensity:100})})},e.prototype._onIntensityChanged=function(t){var e=this.context.editor;this.getSharedState("operation").setIntensity(t/100),e.render(),this.setState({intensity:t})},e.prototype._renderListItems=function(){var t=this,e=this._filterManager.getFiltersForCategory(this.state.category),n=this.getSharedState("operation"),i=n.getIdentifier(),o=this.state.filterPreviews;return[b].concat(e).map(function(n,r){var s=n.identifier,a=!o[s]&&r===t._loadedFilters.length,l=s===i;return m.React.createElement(C,{key:s,"data-selected":l,"data-identifier":s,className:void 0},m.React.createElement(y.a,{ref:"filter-"+s,filter:n,identifier:s,lastChild:n===e[e.length-1],onClick:t._onItemClick.bind(t,s),selected:l,intensity:t.state.intensity,displaySlider:n!==b,onIntensityChanged:t._onIntensityChanged,visible:!!o[s],previewUrl:o[s]}),a&&m.React.createElement(w,null))})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this;return m.React.createElement(m.ScrollableListComponent,{direction:"vertical",onScroll:this._onListScroll,innerRef:function(e){t._scrollbar=e}},m.React.createElement(S,null,this._renderListItems()))},e}(m.ControlsComponent);k.contextTypes=m.ControlsComponent.contextTypes,k.propTypes=m.ControlsComponent.propTypes,k.RootElement=m.ControlsComponent.RootElement,e.a=k;var S=m.adonis.ul("9uviv9","List"),C=m.adonis.li("13hv8io","ListItemContainer"),w=Object(m.adonis)(m.LoadingIndicatorComponent)("11ztmqh","LoadingIndicator")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(0),s=n.n(r),a=n(15),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(4),f=(n.n(d),d.ControlsStyles.ControlItem),m=d.ControlsStyles.ControlItemActiveOverlay,g=d.ControlsStyles.ControlItemTitle,_=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));return r.state={hovered:!1},r}return h()(e,t),e.prototype.shouldComponentUpdate=function(t,e){return this.props.previewUrl!==t.previewUrl||this.props.selected!==t.selected||this.props.visible!==t.visible||this.state.hovered!==e.hovered||this.props.filter!==t.filter||!(this.props.intensity===t.intensity||!t.selected)},e.prototype.render=function(){var t=this,e=this.props,n=e.lastChild,i=e.onClick,r=e.onIntensityChanged,s=e.selected,a=e.intensity,l=e.displaySlider,c=e.visible,u=e.filter,p=null;this.props.previewUrl&&(p=d.React.createElement(S,{src:this.props.previewUrl}));var h=this.context.theme.transitionDuration,f={lastChild:n,onClick:i,visible:c};return d.React.createElement(y,o()({},f,{animated:!0,innerRef:function(e){t._container=e},onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})}}),d.React.createElement(b,{selected:s},p,d.React.createElement(d.Transition,{active:s&&l,enterProp:"rendered",enterDuration:1e3*h,appearProp:"visible",appearDuration:1e3*h,leaveDuration:1e3*h},s&&l&&d.React.createElement(v,null,d.React.createElement(d.SliderComponent,{minValue:0,maxValue:100,valueUnit:"",middleDot:!1,value:a,onChange:r}))),d.React.createElement(k,{hovered:this.state.hovered},this._t("editor.controls.filter.filters."+u.identifier)||u.defaultName),d.React.createElement(d.Transition,{active:s,enterProp:"rendered",enterDuration:1e3*h,appearProp:"visible",appearDuration:1e3*h,leaveDuration:1e3*h},d.React.createElement(C,{selected:s}))))},l()(e,[{key:"container",get:function(){return this._container}}]),e}(d.BaseComponent);_.contextTypes=d.BaseComponent.contextTypes,e.a=_;var y=Object(d.adonis)(f).div("120drhm",{lastChild:"229bd5"},"Item"),v=d.adonis.div("19g9ike",{visible:"zgbg08",rendered:"2jlos"},"Slider"),b=d.adonis.div("rf12k1","ItemContainer"),k=Object(d.adonis)(g).span("hpn4lp","ItemTitle"),S=d.adonis.img("3x5zfy","Preview"),C=Object(d.adonis)(m).div("120drhm","Overlay")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(5),s=n.n(r),a=r.Math.Vector2,l=new a(180,80),c=function(){function t(e){o()(this,t),this._editor=e,this._disposed=!1}return t.prototype.init=function(){this._initSDK()},t.prototype.render=function(t){var e=this;return this._filterOperation.setFilter(t),this._sdk.render().then(function(){return e._sdk.getCanvas().toDataURL("image/png")})},t.prototype._initSDK=function(){var t=this._editor.getOptions(),e=t.logLevel,n=t.debug,i=t.license,o=t.editor,r=o.smoothDownscaling,a=o.smoothUpscaling,c=o.preferredRenderer,u={logLevel:e,debug:n,pixelRatio:1,smoothDownscaling:r,smoothUpscaling:a,transparent:!0,license:i,image:this._editor.getSDK().getImage(),renderMode:"export",versionCheck:!1,displayWelcomeMessage:!1};this._sdk=new s.a(c,u),this._sdk.resizeTo(l),this._filterOperation=this._sdk.createOperation("filter"),this._transformOperation=this._sdk.createOperation("transform");var p=this._calculateTransformOptions(),h=p.start,d=p.end,f=p.textureScale;this._transformOperation.set({start:h,end:d,textureScale:f}),this._sdk.render()},t.prototype._calculateTransformOptions=function(){var t=this._transformOperation.getInputDimensions(),e=t.x/t.y,n=new a,i=new a,o=l.x/l.y;if(e<=o){var r=1/t.y*(t.x/o);n.set(0,(1-r)/2),i.set(1,1-n.y)}else{var s=1/t.x*(o*t.y);n.set((1-s)/2,0),i.set(1-n.x,1)}var c=i.clone().subtract(n),u=t.clone().multiply(c),p=l.x/u.x;return{dimensions:l,start:n,end:i,textureScale:p}},t.prototype.dispose=function(){this._sdk&&this._sdk.dispose()},t.prototype.isDisposed=function(){return this._disposed},t}();e.a=c},function(t,e,n){"use strict";var i=n(20),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=n.n(p),d=n(296),f=n(298),m=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.getOperation=function(){var t=this.context.editor;return this.constructor.FOCUS_OPERATIONS.map(function(e){return t.operations.get(e)}).reduce(function(t,e){return t||e})},e.prototype.isFocusOperation=function(t){var e="object"===(void 0===t?"undefined":o()(t))?t.constructor.identifier:t;return-1!==this.constructor.FOCUS_OPERATIONS.indexOf(e)},e.prototype._onEnter=function(){var t=this.context.editor,e=this.getOperation(),n={};e&&(n=e.serializeOptions(),delete n.enabled);var i=e&&e.getInputDimensions(!1);this.sharedState.set({selectedFocus:"none",initialOperation:e,operationExistedBeforeEntering:!!e,initialOptions:n,operation:e,inputDimensions:i}),t.zoom.auto(!0,!1,function(){t.features.disable("zoom","drag")},!1)},e.prototype._onLeave=function(){this.context.editor.features.enable("zoom","drag");var t=this.sharedState.get("initialOptions"),e=this.sharedState.get("initialOperation"),n=this.sharedState.get("operation");(!n&&e||n&&e&&n.constructor===e.constructor)&&this.addHistoryItem({type:"global",operation:e.constructor.identifier,options:e,existent:!0}),n&&!e&&this.addHistoryItem({type:"global",operation:n.constructor.identifier,existent:!1}),n&&e&&n.constructor!==e.constructor&&this.addHistoryItems([{type:"global",operation:e.constructor.identifier,options:t,existent:!0},{type:"global",operation:n.constructor.identifier,options:{},existent:!1}])},e.getPreloadAssets=function(t){var e=[];return this.ITEMS.forEach(function(t){e.push(t.backgroundImagePath),e.push(t.activeBackgroundImagePath)}),e},e.prototype._onOperationRemoved=function(t){},e.isEnabled=function(t){return t.isToolAllowed("focus")&&t.isToolEnabled("focus")},e}(p.BaseControls);m.clickAtPosition=p.BaseControls.clickAtPosition,m.ITEMS=[{identifier:"none",operationIdentifier:null,backgroundImagePath:"editor/controls/focus/none.png",activeBackgroundImagePath:"editor/controls/focus/none-active.png"},{identifier:"radial",operationIdentifier:"radial-focus",backgroundImagePath:"editor/controls/focus/radial.png",activeBackgroundImagePath:"editor/controls/focus/radial-active.png"},{identifier:"mirrored",operationIdentifier:"mirrored-focus",backgroundImagePath:"editor/controls/focus/mirrored.png",activeBackgroundImagePath:"editor/controls/focus/mirrored-active.png"},{identifier:"linear",operationIdentifier:"linear-focus",backgroundImagePath:"editor/controls/focus/linear.png",activeBackgroundImagePath:"editor/controls/focus/linear-active.png"},{identifier:"gaussian",operationIdentifier:"blur",backgroundImagePath:"editor/controls/focus/gaussian.png",activeBackgroundImagePath:"editor/controls/focus/gaussian-active.png"}],m.FOCUS_OPERATIONS=m.ITEMS.map(function(t){return t.operationIdentifier}).filter(function(t){return t}),m.identifier="focus",m.controlsComponent=d.a,m.canvasControlsComponent=f.a,m.iconPath="editor/controls/focus/icon.png",m.activeIconPath="editor/controls/focus/icon-active.png",m.requiredOperations=m.ITEMS.map(function(t){return t.operationIdentifier}).filter(function(t){return t}),m.defaultOptions={availableModes:null},e.a=m,h.a.Controls.FocusControls=m},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(297)),d=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onBlurRadiusChanged","_onHistoryUndo"),a._events=o()({},p.Constants.EVENTS.HISTORY_UNDO,a._onHistoryUndo),a.state.selectedItem="none",a.state.intensity=50,a._autoSelectItem(!0),a}return u()(e,t),e.prototype._isModeAvailable=function(t){var e=this.props.options.availableModes;return"none"===t||null===e||-1!==e.indexOf(t)},e.prototype._autoSelectItem=function(t,e){var n=this,i=this.props.controls,o=i.constructor.ITEMS;e=e||i.getOperation(),e?(o.forEach(function(i){i.operationIdentifier===e.constructor.identifier&&n._onItemClick(i,!1,t)}),t||this.setSharedState({operation:e})):this._onItemClick(o[0],!1,t)},e.prototype._onItemClick=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.context.editor,o=this.getSharedState("operation");if(this.getSharedState("selectedFocus")!==t.identifier){var r={selectedFocus:t.identifier};e&&(o&&i.operations.remove(o,!1),t.operationIdentifier&&(o=i.operations.getOrCreate(t.operationIdentifier),r.operation=o,r.inputDimensions=o.getInputDimensions(!1))),i.render(),this.setSharedState(r,!n)}},e.prototype._onBlurRadiusChanged=function(t){var e=this.context.editor;this.getSharedState("operation").setBlurRadius(t),e.render()},e.prototype._onHistoryUndo=function(t){var e=this.props.controls,n=this.context.editor.operations;t.some(function(t){return e.isFocusOperation(t.getOperation())})&&(n.remove(this.getSharedState("operation")),this._autoSelectItem(!1),this.setSharedState({initialOperation:null}))},e.prototype._renderListItems=function(){var t=this,e=this.props.controls,n=this.getSharedState("operation"),i=this.getSharedState("selectedFocus");return e.constructor.ITEMS.filter(function(e){return t._isModeAvailable(e.identifier)}).map(function(e){var o=t._getAssetPath(e.backgroundImagePath,!0),r=t._getAssetPath(e.activeBackgroundImagePath,!0),s=e.identifier===i;return p.React.createElement(h.a,{key:e.identifier,title:t._t("editor.controls.focus.items."+e.identifier),selected:s,showSlider:!!e.operationIdentifier,blurRadius:n&&n.getBlurRadius(),onBlurRadiusChanged:t._onBlurRadiusChanged,backgroundImagePath:o,activeBackgroundImagePath:r,onClick:t._onItemClick.bind(t,e,!0,!1)})},this)},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this;return p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerListRef:function(e){t._list=e},innerRef:function(e){t._scrollbar=e}},p.React.createElement(f,null,this._renderListItems()))},e}(p.ControlsComponent);d.contextTypes=p.ControlsComponent.contextTypes,d.propTypes=p.ControlsComponent.propTypes,d.RootElement=p.ControlsComponent.RootElement,e.a=d;var f=p.adonis.ul("1snluvd","List")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.ControlItem),p=c.ControlsStyles.ControlItemTitle,h=c.ControlsStyles.ControlItemActiveOverlay,d=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onSliderValueChanged"),a}return l()(e,t),e.prototype._onSliderValueChanged=function(t){var e=this.props.onBlurRadiusChanged,n=this.getSharedState("inputDimensions"),i=n.min();e&&e(t/i)},e.prototype._renderSlider=function(){var t=this.props,e=t.selected,n=t.showSlider,i=t.blurRadius;if(!e||!n)return null;var o=this.getSharedState("operation"),r=Math.min(180,Math.round(.1*o.getInputDimensions(!1).min())),s=this.getSharedState("inputDimensions"),a=s.min();return c.React.createElement(c.SliderComponent,{minValue:0,maxValue:r,valueUnit:"",middleDot:!1,value:i*a,onChange:this._onSliderValueChanged})},e.prototype.render=function(){var t=this.props,e=t.title,n=t.backgroundImagePath,i=t.activeBackgroundImagePath,o=t.selected,r=t.onClick,s=t.showSlider,a={backgroundImage:"url('"+(o?i:n)+"')"},l=this.context.theme.transitionDuration;return c.React.createElement(f,{selected:o,"data-selected":o,className:void 0,onClick:r,style:a},c.React.createElement(m,{selected:o,withSlider:o&&s},e),c.React.createElement(_,{visible:o&&s},this._renderSlider()),c.React.createElement(c.Transition,{active:o,enterProp:"rendered",enterDuration:1e3*l,appearProp:"visible",appearDuration:1e3*l,leaveDuration:1e3*l},c.React.createElement(g,{selected:!0})))},e}(c.SharedStateComponent);d.contextTypes=c.SharedStateComponent.contextTypes,e.a=d;var f=Object(c.adonis)(u).li("19qom6j","ListItem"),m=Object(c.adonis)(p).div("1cwztpc",{selected:"2znik8",withSlider:"fsvvyb"},"ListItemTitle"),g=Object(c.adonis)(h).div("rctda3","ListItemOverlay"),_=c.adonis.div("chwlso",{visible:"vpr3tu"},"Slider")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(299)),f=n(300),m=n(301),g=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onZoomDone"),a._events=o()({},h.Constants.EVENTS.ZOOM_DONE,a._onZoomDone),a.state=p.Utils.extend(a.state,{zoomDone:!1}),a}return u()(e,t),e.prototype._onZoomDone=function(){this.setState({zoomDone:!0})},e.prototype._renderControls=function(){var t=this.getSharedState("selectedFocus"),e=void 0;switch(t){case"radial":e=d.a;break;case"linear":e=f.a;break;case"mirrored":e=m.a;break;default:return h.React.createElement("div",null)}return h.React.createElement(e,{zoomDone:this.state.zoomDone})},e}(h.CanvasControlsComponent);g.contextTypes=h.CanvasControlsComponent.contextTypes,e.a=g},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(13)),f=h.ControlsStyles.Knob,m=h.ControlsStyles.FullContainer,g=p.Math.Vector2,_=p.Math.Rectangle,y=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onCircleDragStart","_onCircleDrag","_onKnobDragStart","_onKnobDrag","_onOperationUpdated","_onZoomDone"),c.state=p.Utils.extend(c.state,{circlePosition:new g,circleDimensions:new g,knobPosition:new g,visible:!1}),c._knobChangedManually=!1,c._operation=c.getSharedState("operation"),c._events=(n={},o()(n,h.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),o()(n,h.Constants.EVENTS.ZOOM_DONE,c._onZoomDone),n),c.props.zoomDone&&Object(d.b)(function(){c._onZoomDone()}),c}return u()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},e.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&(this._knobChangedManually=!1,this._updatePositionsAndDimensions())},e.prototype._onCircleDragStart=function(){this._initialPosition=this._operation.getPosition(),this._initialKnobPosition=this.state.knobPosition.clone()},e.prototype._onCircleDrag=function(t){var e=this.context.editor,n=e.getOutputDimensions(),i=t.clone().divide(n),o=this._initialPosition.clone().add(i),r=this._initialKnobPosition.clone().add(t);this._operation.set({position:o}),this.state.knobPosition=r,e.render(),this._updatePositionsAndDimensions()},e.prototype._onKnobDragStart=function(t){this._knobChangedManually=!0,this._initialKnobPosition=this.state.knobPosition.clone()},e.prototype._onKnobDrag=function(t){var e=this.context.editor,n=e.getOutputDimensions(),i=this._initialKnobPosition.clone().add(t).clamp(new g(0,0),n),o=this._operation.getPosition().clone().multiply(n),r=i.clone().subtract(o).abs().len(),s=r/2;this.setState({knobPosition:i,circleDimensions:new g(2*r,2*r)}),this._operation.set({radius:r/n.min(),gradientRadius:s/n.min()}),e.render()},e.prototype._updatePositionsAndDimensions=function(){var t=this.context.editor,e=t.getOutputDimensions(),n=this._operation.getPosition().clone().multiply(e),i=this._operation.getRadius()*e.min(),o=2*i,r=new g(o,o),s={circleDimensions:r,circlePosition:n};this._knobChangedManually||(s.knobPosition=n.clone().add(i,0)),this.setState(s)},e.prototype._updateOnCanvasControls=function(){var t=this.context.editor,e=t.getSDK().getSprite().getBounds(),n=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),o=new _(Math.floor(e.x-(n.left-i.left)),Math.floor(e.y-(n.top-i.top)),Math.ceil(e.width)+1,Math.ceil(e.height)+1);h.Utils.styleElement(this._onCanvasControls,{left:o.x+"px",top:o.y+"px",width:o.width+"px",height:o.height+"px"}),this.forceUpdate()},e.prototype._getCircleStyles=function(){return{width:this.state.circleDimensions.x,height:this.state.circleDimensions.y,left:this.state.circlePosition.x,top:this.state.circlePosition.y,marginLeft:-.5*this.state.circleDimensions.x,marginTop:-.5*this.state.circleDimensions.y}},e.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},e.prototype.render=function(){var t=this;return h.React.createElement(v,{innerRef:function(e){t._container=e}},h.React.createElement(h.Transition,{active:this.state.visible,enterProp:"rendered",enterDuration:1e3*this.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},h.React.createElement(b,{innerRef:function(e){t._onCanvasControls=e}},h.React.createElement(h.DraggableComponent,{onStart:this._onCircleDragStart,onDrag:this._onCircleDrag},h.React.createElement(S,{className:void 0,style:this._getCircleStyles()})),h.React.createElement(h.DraggableComponent,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},h.React.createElement(k,{className:void 0,style:this._getKnobStyle()})))))},e}(h.SharedStateComponent);y.contextTypes=h.SharedStateComponent.contextTypes,e.a=y;var v=Object(h.adonis)(m).div("1rineb","CanvasControls"),b=h.adonis.div("12e79nm",{rendered:"2jlos",visible:"zgbg08"},"OnCanvasControls"),k=Object(h.adonis)(f).div("120drhm","Knob"),S=h.adonis.div("kgwi8g","Circle")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(13)),f=h.ControlsStyles.Knob,m=h.ControlsStyles.FullContainer,g=p.Math.Vector2,_=p.Math.Rectangle,y=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onKnobDragStart","_onKnobDrag","_onOperationUpdated","_onZoomDone"),c.state=p.Utils.extend(c.state,{visible:!1}),c._operation=c.getSharedState("operation"),c._events=(n={},o()(n,h.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),o()(n,h.Constants.EVENTS.ZOOM_DONE,c._onZoomDone),n),c.props.zoomDone&&Object(d.b)(function(){c._onZoomDone()}),c}return u()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._updateOnCanvasControls()},e.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls()},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onKnobDragStart=function(t,e){var n=this.getSharedState("operation");this._initialPosition=n.getOption("controlPoint"+t)},e.prototype._onKnobDrag=function(t,e){var n=this.context.editor,i=this.getSharedState("operation"),o=n.getSDK().getSprite().getBounds(),r=this._container.getBoundingClientRect(),s=this.context.appComponent.getBounds(),a=this._initialPosition.clone().multiply(o.width,o.height),l=a.add(e).clamp(new g(r.left-s.left-o.x,r.top-s.top-o.y),new g(r.width-(o.x-(r.left-s.left)),r.height-(o.y-(r.top-s.top)))),c=l.divide(o.width,o.height);i.setOption("controlPoint"+t,c),n.render(),this.forceUpdate()},e.prototype._updateOnCanvasControls=function(){var t=this.context.editor,e=t.getSDK().getSprite().getBounds(),n=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),o=new _(Math.floor(e.x-(n.left-i.left)),Math.floor(e.y-(n.top-i.top)),Math.ceil(e.width)+1,Math.ceil(e.height)+1);h.Utils.styleElement(this._onCanvasControls,{left:o.x+"px",top:o.y+"px",width:o.width+"px",height:o.height+"px"}),this.forceUpdate()},e.prototype._getKnobStyle=function(t){var e=this.context.editor,n=this.getSharedState("operation"),i=n.getOption("controlPoint"+t),o=e.getSDK().getSprite().getBounds(),r=i.clone().multiply(o.width,o.height);return{left:r.x,top:r.y}},e.prototype._getLineStyle=function(){var t=this.context.editor,e=this.getSharedState("operation"),n=t.getSDK().getSprite().getBounds(),i={1:e.getControlPoint1().clone().multiply(n.width,n.height),2:e.getControlPoint2().clone().multiply(n.width,n.height)},o=i[2].clone().subtract(i[1]),r=o.len(),s=Math.atan2(o.y,o.x);return{width:r+"px",left:i[1].x+"px",top:i[1].y+"px",transform:"rotate("+s+"rad) translateY(-50%)"}},e.prototype._renderKnobs=function(){for(var t=[],e=1;e<=2;e++)t.push(h.React.createElement(h.DraggableComponent,{onStart:this._onKnobDragStart.bind(this,e),onDrag:this._onKnobDrag.bind(this,e),key:e},h.React.createElement(k,{style:this._getKnobStyle(e),className:void 0})));return t},e.prototype.render=function(){var t=this;return h.React.createElement(v,{innerRef:function(e){t._container=e}},h.React.createElement(h.Transition,{active:this.state.visible,enterProp:"rendered",enterDuration:1e3*this.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},h.React.createElement(b,{innerRef:function(e){t._onCanvasControls=e}},this._renderKnobs(),h.React.createElement(S,{style:this._getLineStyle()}))))},e}(h.SharedStateComponent);y.contextTypes=h.SharedStateComponent.contextTypes,e.a=y;var v=Object(h.adonis)(m).div("1rineb","CanvasControls"),b=h.adonis.div("12e79nm",{rendered:"2jlos",visible:"zgbg08"},"OnCanvasControls"),k=Object(h.adonis)(f).div("120drhm","Knob"),S=h.adonis.div("1rrhaqy","Line")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(13)),f=h.ControlsStyles.Knob,m=h.ControlsStyles.FullContainer,g=p.Math.Vector2,_=p.Math.Rectangle,y=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag","_onOperationUpdated","_onZoomDone"),c.state=p.Utils.extend(c.state,{areaPosition:new g,areaDimensions:new g,knobPosition:new g,visible:!1}),c._events=(n={},o()(n,h.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),o()(n,h.Constants.EVENTS.ZOOM_DONE,c._onZoomDone),n),c._operation=c.getSharedState("operation"),c.props.zoomDone&&Object(d.b)(function(){c._onZoomDone()}),c}return u()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},e.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},e.prototype._onOperationUpdated=function(t){t===this._operation&&(this.forceUpdate(),this._updatePositionsAndDimensions())},e.prototype._onCenterDragStart=function(){var t=this._operation;this._initialStart=t.getStart(),this._initialEnd=t.getEnd(),this._initialDist=this._initialEnd.clone().subtract(this._initialStart)},e.prototype._onCenterDrag=function(t){var e=this.context.editor,n=this._operation,i=e.getOutputDimensions(),o=t.clone().divide(i),r=this._initialStart.clone().add(o).clamp(new g(0,0),new g(1,1).subtract(this._initialDist)),s=r.clone().add(this._initialDist);n.set({start:r,end:s}),e.render(),this._updatePositionsAndDimensions(),this.forceUpdate()},e.prototype._onKnobDragStart=function(t){this._initialKnobPosition=this.state.knobPosition.clone()},e.prototype._onKnobDrag=function(t){var e=this.context.editor,n=this._operation,i=e.getOutputDimensions(),o=this._initialKnobPosition.clone().add(t).clamp(new g(0,0),i),r=o.clone().subtract(this.state.areaPosition),s=this.state.areaPosition.clone().add(-r.y,r.x).divide(i),a=this.state.areaPosition.clone().add(r.y,-r.x).divide(i),l=2*r.len();n.set({start:s,end:a,size:l/i.min(),gradientSize:l/i.min()}),this.setState({knobPosition:o,areaDimensions:new g(this.state.areaDimensions.x,l)}),e.render()},e.prototype._getAreaStyle=function(){var t=this.state.knobPosition.clone().subtract(this.state.areaPosition),e=Math.atan2(t.x,t.y)*(180/Math.PI),n="rotate("+(-e).toFixed(2)+"deg)";return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:-.5*this.state.areaDimensions.x,marginTop:-.5*this.state.areaDimensions.y,transform:n,MozTransform:n,msTransform:n,WebkitTransform:n}},e.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},e.prototype._updatePositionsAndDimensions=function(){var t=this.context.editor,e=t.getOutputDimensions(),n=this._operation,i=n.getStart().clone().multiply(e),o=n.getEnd().clone().multiply(e),r=n.getSize()*e.min(),s=o.clone().subtract(i),a=i.clone().add(s.clone().divide(2)),l=new g(2*e.len(),r),c=s.len(),u=s.clone().divide(c).divide(2);this.setState({areaDimensions:l,areaPosition:a.clone(),knobPosition:a.clone().add(-r*u.y,r*u.x)})},e.prototype._updateOnCanvasControls=function(){var t=this.context.editor,e=t.getSDK().getSprite().getBounds(),n=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),o=new _(Math.floor(e.x-(n.left-i.left)),Math.floor(e.y-(n.top-i.top)),Math.ceil(e.width)+1,Math.ceil(e.height)+1);h.Utils.styleElement(this._onCanvasControls,{left:o.x+"px",top:o.y+"px",width:o.width+"px",height:o.height+"px"}),this.forceUpdate()},e.prototype.render=function(){var t=this;return h.React.createElement(v,{innerRef:function(e){t._container=e}},h.React.createElement(h.Transition,{active:this.state.visible,enterProp:"rendered",enterDuration:1e3*this.context.theme.transitionDuration,appearProp:"visible",appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},h.React.createElement(b,{innerRef:function(e){t._onCanvasControls=e}},h.React.createElement(h.DraggableComponent,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},h.React.createElement(S,{className:void 0,style:this._getAreaStyle()})),h.React.createElement(h.DraggableComponent,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},h.React.createElement(k,{className:void 0,style:this._getKnobStyle()})))))},e}(h.SharedStateComponent);y.contextTypes=h.SharedStateComponent.contextTypes,e.a=y;var v=Object(h.adonis)(m).div("1rineb","CanvasControls"),b=h.adonis.div("aovk7s",{rendered:"2jlos",visible:"zgbg08"},"OnCanvasControls"),k=Object(h.adonis)(f).div("120drhm","Knob"),S=h.adonis.div("36haff","Area")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=n.n(c),p=n(303),h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("frame"),n=t.operations.get("frame"),i=n&&n.serializeOptions();this.sharedState.set({operation:n,initialOptions:i,operationExistedBeforeEntering:e})},e.prototype._onLeave=function(){var t=this.sharedState.get("initialOptions"),e=this.sharedState.get("operationExistedBeforeEntering"),n={type:"global",operation:"frame",options:t,existent:e};this.addHistoryItem(n)},e.prototype._onOperationRemoved=function(t){},e.isEnabled=function(t){return t.isToolAllowed("frame")&&t.isToolEnabled("frame")},e}(c.BaseControls);h.clickAtPosition=c.BaseControls.clickAtPosition,h.getPreloadAssets=c.BaseControls.getPreloadAssets,h.identifier="frame",h.controlsComponent=p.a,h.canvasControlsComponent=c.BaseControls.canvasControlsComponent,h.iconPath="editor/controls/frame/icon.png",h.activeIconPath="editor/controls/frame/icon-active.png",h.requiredOperations=["frame"],h.defaultOptions={categories:[],replaceCategories:!1,availableFrames:null},e.a=h,u.a.Controls.FrameControls=h},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(304)),d=n(306),f={ROOT:1,CATEGORY:2,OPTIONS:3},m=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));c._bindAll("_onFrameClick","_onReplaceClick","_onHistoryUndo","_onOperationUpdated"),c._initFrameManager(),c._needsStyleFixes=!0;var u=f.ROOT,h=c.getSharedState("operation");return h&&h.getFrame()&&(u=f.OPTIONS),c.state={currentPanel:u},c._events=(n={},o()(n,p.Constants.EVENTS.HISTORY_UNDO,c._onHistoryUndo),o()(n,p.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),n),c}return u()(e,t),e.prototype.fixStyles=function(){var e=this;return this._list.style.height="100%",t.prototype.fixStyles.call(this).then(function(){if(p.Utils.Browser.isIElte(10)){var t=e._container.offsetHeight;e._list.style.height=t+"px"}return e.refs.panel.fixStyles()})},e.prototype.componentDidUpdate=function(t,e){this.state.currentPanel!==e.currentPanel&&this.fixStyles()},e.prototype._initFrameManager=function(){this._frameManager=new p.FrameManager(this.context.ui,this.props.options)},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onHistoryUndo=function(){var t=this.context.editor,e=t.operations.get("frame");if(!e||e&&!e.getFrame())return this.setState({currentPanel:f.ROOT})},e.prototype._onReplaceClick=function(){this.setState({currentPanel:f.ROOT})},e.prototype._onCategoryClick=function(t){this.setState({currentPanel:f.CATEGORY,category:t})},e.prototype._onFrameClick=function(t){var e=this,n=this.context.editor;if(this.props.controls.registerLocalHistoryChange("frame-image",!1,"frame"),!t){var i=this.getSharedState("operation");return void(i&&(n.operations.remove(i),this.setSharedState({operation:null}),n.render()))}var o=new p.Frame(this.context.ui,t),r=n.operations.getOrCreate("frame"),s=void 0,a=setTimeout(function(){s=p.ModalManager.instance.displayLoading(e._t("loading.loading"))},100);o.load().then(function(){s&&s.close(),a&&(clearTimeout(a),a=null),r.setFrame(o.getFrame()),n.render(),e.setSharedState({operation:r},!1),e.setState({currentPanel:f.OPTIONS})})},e.prototype._renderCurrentPanel=function(){var t=this,e=this.props.controls;switch(this.state.currentPanel){case f.ROOT:return p.React.createElement(h.a,{innerRef:function(e){t._list=e},frameManager:this._frameManager,onFrameClick:this._onFrameClick,controls:e,ref:"panel"});case f.OPTIONS:return p.React.createElement(d.a,{innerRef:function(e){t._list=e},frameManager:this._frameManager,onReplaceClick:this._onReplaceClick,onNewFrameClick:this._onNewFrameClick,controls:e,ref:"panel"})}},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){return this._renderCurrentPanel()},e}(p.ControlsComponent);m.contextTypes=p.ControlsComponent.contextTypes,m.RootElement=p.ControlsComponent.RootElement,e.a=m},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(13)),d=n(305),f=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(h.b)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.render=function(){var t=this,e=this.props,n=e.frameManager,i=e.innerRef;return p.React.createElement(m,{innerRef:function(e){i&&i(e),t._wrapper=e},className:void 0},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(d.a,{frames:n.getFramesForCategory("all"),onFrameClick:this.props.onFrameClick})))},e}(p.BaseComponent);f.contextTypes=p.BaseComponent.contextTypes,e.a=f;var m=p.adonis.div("rfecls","Wrapper")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.PlainControlItem),p=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onFrameClick=function(t){this.props.onFrameClick&&this.props.onFrameClick(t)},e.prototype._renderListItems=function(){var t=this,e=this.props.frames,n=void 0,i=this.getSharedState("operation");i&&i.getFrame()&&(n=i.getFrame().identifier);var o=this.getSharedState("selectedSprite");return o&&(n=o.getIdentifier()),e.map(function(e){var i=t._getAssetPath(e.thumbnail),o={background:"url('"+i+"') no-repeat center center",backgroundSize:"contain"};return c.React.createElement(d,{selected:e.identifier===n,key:e.identifier,onClick:t._onFrameClick.bind(t,e),className:void 0,twoColumns:!0},c.React.createElement(f,{style:o}))})},e.prototype.render=function(){var t=this.getSharedState("operation"),e=t&&t.getFrame();return c.React.createElement(h,null,c.React.createElement(d,{selected:!e,onClick:this._onFrameClick.bind(this,null),className:void 0,withText:!0,twoColumns:!0},"None"),this._renderListItems())},e}(c.SharedStateComponent);p.contextTypes=c.SharedStateComponent.contextTypes,e.a=p;var h=c.adonis.ul("18qztam","FrameList"),d=Object(c.adonis)(u).li("u8nfgk","FrameListItem"),f=c.adonis.div("7r0ke8","FrameImage")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(7),s=n.n(r),a=n(0),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(4),f=(n.n(d),n(13)),m=d.ControlsStyles.PlainControlItemBackground,g=function(t){function e(){l()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onTintToggle","_onTintColorChange","_onOpacityChange","_onWidthChange","_onHistoryUndo"),r._events=s()({},d.Constants.EVENTS.HISTORY_UNDO,r._onHistoryUndo);var a=r.getSharedState("operation");return r.state={tintEnabled:a.getTintColor().a>0,tintColor:a.getTintColor()},r}return h()(e,t),e.prototype._onTintToggle=function(t){this.props.controls.registerLocalHistoryChange("frame-tint-enabled");var e=this.getSharedState("operation"),n=this.state.tintEnabled,i=e.getTintColor().clone();i.a=n?0:1,e.setTintColor(i),this.context.editor.render(),this.setState({tintEnabled:!n})},e.prototype._onTintColorChange=function(t){this.props.controls.registerLocalHistoryChange("frame-tint-color",!0),this.getSharedState("operation").setTintColor(t.clone()),this.context.editor.render(),this.forceUpdate()},e.prototype._onHistoryUndo=function(){if(this.context.editor.operations.exists("frame")){var t=this.getSharedState("operation");t.getFrame()&&this.setState({tintEnabled:t.getTintColor().a>0,tintColor:t.getTintColor().clone()})}},e.prototype._onOpacityChange=function(t){this.props.controls.registerLocalHistoryChange("frame-opacity",!0),this.getSharedState("operation").setAlpha(t/100),this.context.editor.render(),this.forceUpdate()},e.prototype._onWidthChange=function(t){this.props.controls.registerLocalHistoryChange("frame-width",!0);var e=this.context.editor,n=this.getSharedState("operation"),i=n.getInputDimensions().min();n.setScale(t/i),e.render(),this.forceUpdate()},e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){d.Utils.Browser.isIElte(10)?Object(f.b)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.render=function(){var t=this,e=this.props,n=e.innerRef,i=e.onReplaceClick,o=this.getSharedState("operation"),r=o.getFrame(),s=o.getInputDimensions(),a=s.min(),l=r.tintable,c={background:"url('"+this._getAssetPath(r.thumbnail,!1)+"') center center / contain no-repeat"};return d.React.createElement(_,{innerRef:function(e){n&&n(e),t._wrapper=e},className:void 0},d.React.createElement(d.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},d.React.createElement("div",null,d.React.createElement(y,null,d.React.createElement(v,null,d.React.createElement(b,null,d.React.createElement(k,{style:c,onClick:i})),d.React.createElement(S,null,d.React.createElement(C,null,this._t("editor.controls.frame.frames."+r.identifier)||r.defaultName),d.React.createElement(w,{onClick:i,className:void 0},this._t("editor.controls.frame.replace")))),d.React.createElement(d.SliderControlComponent,{minValue:0,value:Math.round(100*o.getAlpha()),maxValue:100,label:this._t("editor.controls.frame.opacity"),onSliderValueChange:this._onOpacityChange,onValueChange:this._onOpacityChange,middleDot:!1,className:void 0}),d.React.createElement(d.SliderControlComponent,{minValue:.05*a,value:Math.round(o.getScale()*a),maxValue:.3*a,label:this._t("editor.controls.frame.width"),onSliderValueChange:this._onWidthChange,onValueChange:this._onWidthChange,middleDot:!1,className:void 0})),l&&d.React.createElement(d.CollapseSectionComponent,{toggleable:!0,title:this._t("editor.controls.frame.fill"),expanded:this.state.tintEnabled,className:void 0,onToggle:this._onTintToggle},d.React.createElement(x,{value:this.state.tintColor,onColorPickerToggle:this.fixStyles,onChange:this._onTintColorChange})))))},e}(d.SharedStateComponent);g.contextTypes=d.SharedStateComponent.contextTypes,e.a=g;var _=d.adonis.div("rfecls","Wrapper"),y=d.adonis.div("1vnvjau","TopSection"),v=d.adonis.div("16woy02","Details"),b=Object(d.adonis)(m).div("6u8g0p","Thumbnail"),k=d.adonis.div("7r0ke8","ThumbnailImage"),S=d.adonis.div("1trlo6v","DetailsContainer"),C=d.adonis.div("w9mc0y","Title"),w=d.adonis.div("1rhky7p","ReplaceButton"),x=Object(d.adonis)(d.ColorSelectionComponent)("1ouwzwk","ColorSelection")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=n.n(c),p=n(308),h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onOperationRemoved=function(t){t===this.sharedState.get("operation")&&this._onEnter()},e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("overlay"),n=t.operations.getOrCreate("overlay"),i=n.serializeOptions();delete i.enabled,this.sharedState.set({operation:n,initialOptions:i,operationExistedBeforeEntering:e})},e.prototype._onLeave=function(){var t=this.context.editor,e=this.sharedState.state,n=e.operation,i=e.initialOptions,o=e.operationExistedBeforeEntering;!n.optionsEqual(i)&&this.addHistoryItem({type:"global",operation:n.constructor.identifier,options:i,existent:o,undo:function(){o&&t.operations.getOrCreate("overlay").setImage(i.image)}})},e.isEnabled=function(t){return t.isToolAllowed("overlay")&&t.isToolEnabled("overlay")},e}(c.BaseControls);h.clickAtPosition=c.BaseControls.clickAtPosition,h.getPreloadAssets=c.BaseControls.getPreloadAssets,h.identifier="overlay",h.controlsComponent=p.a,h.canvasControlsComponent=c.BaseControls.canvasControlsComponent,h.iconPath="editor/controls/overlay/icon.png",h.activeIconPath="editor/controls/overlay/icon-active.png",h.requiredOperations=["overlay"],h.defaultOptions={overlays:[],replaceOverlays:!1,availableOverlays:null},e.a=h,u.a.Controls.OverlayControls=h},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(30)),d=n(116),f=n(309),m=n(117),g=p.ControlsStyles.PlainControlItem,_=p.ControlsStyles.PlainControlItemBackground,y=p.ControlsStyles.ControlItemTitle,v=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));a._bindAll("_onOperationUpdated");var c=a.context,u=c.ui,h=c.theme;return a._thumbnailLoadQueue=new d.a(1,1/0,h.listItemSlideInDelay),a._thumbnailsLoaded={},a._overlayManager=new p.OverlayManager(u,a.props.options),a._events=o()({},p.Constants.EVENTS.OPERATION_UPDATED,a._onOperationUpdated),a.state={},a}return u()(e,t),e.prototype.componentDidMount=function(){var e=this;t.prototype.componentDidMount.call(this),this._overlayManager.getOverlays().forEach(function(t){e._thumbnailLoadQueue.add(function(){return h.a.load(e._getAssetPath(t.thumbnail)).then(function(n){e._thumbnailsLoaded[t.identifier]=n,e.forceUpdate()})})})},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._thumbnailLoadQueue.dispose()},e.prototype._onOperationUpdated=function(t){t===this.getSharedState("operation")&&this.forceUpdate()},e.prototype._onBeforeBlendModeChange=function(){this.props.controls.registerLocalHistoryChange("overlay-blendmode",!1)},e.prototype._onItemClick=function(t){var e=this;this.props.controls.registerLocalHistoryChange("overlay-image",!1);var n=this.context.editor,i=this.getSharedState("operation");if(!t)return i.set({image:null,identifier:null,alpha:1}),n.render(),this.forceUpdate();if(t.identifier!==i.getIdentifier()){var o=this._getAssetPath(t.image),r=m.a[t.blendMode],s=void 0,a=setTimeout(function(){s=p.ModalManager.instance.displayLoading(e._t("loading.loading"))},100);h.a.load(o).then(function(o){s&&s.close(),a&&(clearTimeout(a),a=null),i.set({identifier:t.identifier,image:o,blendMode:r,alpha:void 0===t.intensity?1:t.intensity}),n.render(),e.forceUpdate()})}},e.prototype._renderListItems=function(){var t=this,e=this.getSharedState("operation");return this._overlayManager.getOverlays().map(function(n){return p.React.createElement(f.a,{key:n.identifier,overlay:n,selected:e.getIdentifier()===n.identifier,visible:!!t._thumbnailsLoaded[n.identifier],onClick:t._onItemClick.bind(t,n),onBeforeBlendModeChange:t._onBeforeBlendModeChange.bind(t,n)})})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this,e=this.getSharedState("operation"),n=!e.getIdentifier();return p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(b,null,p.React.createElement(k,{onClick:this._onItemClick.bind(this,null)},p.React.createElement(S,{selected:n},p.React.createElement(C,null,this._t("editor.controls.overlay.overlays.none")))),this._renderListItems()))},e}(p.ControlsComponent);v.contextTypes=p.ControlsComponent.contextTypes,v.propTypes=p.ControlsComponent.propTypes,v.RootElement=p.ControlsComponent.RootElement,e.a=v;var b=p.adonis.ul("9uviv9","List"),k=Object(p.adonis)(g).div("1sgdmny","NoneItem"),S=Object(p.adonis)(_).div("yogtp1","NoneItemBackground"),C=Object(p.adonis)(y).span("5krmrh","ItemTitle")},function(t,e,n){"use strict";var i=n(14),o=n.n(i),r=n(0),s=n.n(r),a=n(15),l=n.n(a),c=n(1),u=n.n(c),p=n(2),h=n.n(p),d=n(4),f=(n.n(d),n(310)),m=d.ControlsStyles.ControlItem,g=d.ControlsStyles.ControlItemActiveOverlay,_=d.ControlsStyles.ControlItemTitle,y=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=u()(this,t.call.apply(t,[this].concat(i)));return r.state={hovered:!1},r._bindAll("_onBlendModeChange","_onAlphaChange"),r}return h()(e,t),e.prototype._onBlendModeChange=function(t){this.props.onBeforeBlendModeChange&&this.props.onBeforeBlendModeChange();var e=this.context.editor;this.getSharedState("operation").setBlendMode(t),e.render(),this.forceUpdate()},e.prototype._onAlphaChange=function(t){var e=this.context.editor;this.getSharedState("operation").setAlpha(t),e.render(),this.forceUpdate()},e.prototype.shouldComponentUpdate=function(t,e){return this.props.selected!==t.selected||this.props.visible!==t.visible||this.state.hovered!==e.hovered||this.props.overlay!==t.overlay||!(this.props.intensity===t.intensity||!t.selected)},e.prototype.render=function(){var t=this,e=this.props,n=e.lastChild,i=e.onClick,r=e.selected,s=e.visible,a=e.overlay,l=this.getSharedState("operation"),c=l.getAlpha(),u={lastChild:n,onClick:i,visible:s};return u.style={backgroundImage:"url('"+this._getAssetPath(a.thumbnail)+"')"},d.React.createElement(v,o()({},u,{className:void 0,animated:!0,innerRef:function(e){t._container=e},onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})}}),d.React.createElement(k,{selected:r},d.React.createElement(d.Transition,{active:!r},d.React.createElement(w,null,d.React.createElement(S,{hovered:this.state.hovered},this._t("editor.controls.overlay.overlays."+a.identifier)||a.defaultName))),d.React.createElement(d.Transition,{active:r},d.React.createElement(w,null,d.React.createElement(C,null,"Blending"),d.React.createElement(E,{value:l.getBlendMode(),onChange:this._onBlendModeChange}),r&&d.React.createElement(b,null,d.React.createElement(d.SliderComponent,{minValue:0,maxValue:1,valueUnit:"",middleDot:!1,value:c,onChange:this._onAlphaChange})),d.React.createElement(x,{rendered:!0,visible:!0})))))},l()(e,[{key:"container",get:function(){return this._container}}]),e}(d.SharedStateComponent);y.contextTypes=d.SharedStateComponent.contextTypes,e.a=y;var v=Object(d.adonis)(m).div("193vjnw",{lastChild:"229bd5"},"Item"),b=d.adonis.div("12dmntm","Slider"),k=d.adonis.div("1m161zg","ItemContainer"),S=Object(d.adonis)(_).span("120drhm","ItemTitle"),C=Object(d.adonis)(S)("1kbikta","BlendingLabel"),w=d.adonis.div("tj7k39",{rendered:"cuo4v2",visible:"82svov"},"ItemContent"),x=Object(d.adonis)(g).div("120drhm","Overlay"),E=Object(d.adonis)(f.a)("ii685b","BlendingControl")},function(t,e,n){"use strict";var i=n(311),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(117)),f=h.ControlsStyles.ControlItemTitle,m=p.Utils.flipObject(d.a),g=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onPreviousClick","_onNextClick"),r}return u()(e,t),e.prototype._onPreviousClick=function(t){t.preventDefault(),t.stopPropagation();var e=o()(m),n=e.indexOf(this.props.value.toString()),i=(n+e.length-1)%e.length,r=parseInt(e[i],10);this.props.onChange&&this.props.onChange(r)},e.prototype._onNextClick=function(t){t.preventDefault(),t.stopPropagation();var e=o()(m),n=e.indexOf(this.props.value.toString()),i=(n+e.length+1)%e.length,r=parseInt(e[i],10);this.props.onChange&&this.props.onChange(r)},e.prototype.render=function(){var t={backgroundImage:"url('"+this._getAssetPath("editor/controls/overlay/arrow-left.png",!0)+"')"},e={backgroundImage:"url('"+this._getAssetPath("editor/controls/overlay/arrow-right.png",!0)+"')"},n=this.props.value;return h.React.createElement(_,{styles:this.props.styles},h.React.createElement(v,{onClick:this._onPreviousClick,style:t}),h.React.createElement(y,null,this._t("editor.controls.overlay.blendModes."+m[n])),h.React.createElement(v,{onClick:this._onNextClick,style:e}))},e}(h.BaseComponent);g.contextTypes=h.BaseComponent.contextTypes,e.a=g;var _=h.adonis.div("15zte1z","BlendingControlContainer");g.RootElement=_;var y=Object(h.adonis)(f).div("1v7ogyl","Label"),v=h.adonis.div("1v32l0l","Arrow")},function(t,e,n){t.exports={default:n(312),__esModule:!0}},function(t,e,n){n(313),t.exports=n(8).Object.keys},function(t,e,n){var i=n(56),o=n(27);n(314)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(11),o=n(8),r=n(23);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=n.n(u),h=n(316),d=n(321),f=void 0,m=void 0;c.Operations.SpriteOperation&&(f=c.Operations.SpriteOperation.StickerSprite,m=c.Operations.SpriteOperation.BrushSprite);var g=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("sprite"),n=t.operations.getOrCreate("sprite"),i=n.serializeOptions();t.zoom.auto(),t.features.disable("zoom","drag"),this.sharedState.set({operationExistedBeforeEntering:e,operation:n,initialOptions:i})},e.prototype._onLeave=function(){var t=this.sharedState.getState(),e=t.initialOptions,n=t.operation,i=t.operationExistedBeforeEntering;n.optionsEqual(e)||this.addHistoryItem({type:"global",operation:"sprite",options:e,existent:i});var o=this.context.editor;o.features.enable("zoom","drag"),o.render()},e.clickAtPosition=function(t,e){if(!e.operations.exists("sprite"))return!1;var n=e.operations.getOrCreate("sprite"),i=n.getSpritesAtPosition(t,e.getOutputTextureDimensions()).filter(function(t){return!(t instanceof m)});return!!(i.length&&i[0]instanceof f)&&{selectedSprite:i[0]}},e.getPreloadAssets=function(t){return["editor/controls/shared/canvas-overlay-controls/to-front.png","editor/controls/shared/canvas-overlay-controls/duplicate.png","editor/controls/shared/canvas-overlay-controls/delete.png"]},e.isEnabled=function(t){return t.isToolAllowed("sticker")&&t.isToolEnabled("sticker")},e}(u.BaseControls);g.identifier="sticker",g.controlsComponent=h.a,g.canvasControlsComponent=d.a,g.iconPath="editor/controls/sticker/icon.png",g.activeIconPath="editor/controls/sticker/icon-active.png",g.requiredOperations=["sprite"],g.defaultOptions={categories:[],replaceCategories:!1,availableStickers:null,snapRotation:90,snapRotationTolerance:5},e.a=g,p.a.Controls.StickerControls=g},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(317)),f=n(319),m=n(320),g=p.Math.Vector2,_={ROOT:1,CATEGORY:2,OPTIONS:3},y=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));r._bindAll("_onCategoryClick","_onStickerClick","_onBackClick","_onNewStickerClick","_onReplaceClick"),r._initStickerManager(),r._needsStyleFixes=!0;var a=_.ROOT;return r.getSharedState("selectedSprite")&&(a=_.OPTIONS),r.state.currentPanel=a,r}return u()(e,t),e.prototype.fixStyles=function(){var e=this;return this._list.style.height="100%",t.prototype.fixStyles.call(this).then(function(){if(h.Utils.Browser.isIElte(10)){var t=e._container.offsetHeight;e._list.style.height=t+"px"}return e.refs.panel.fixStyles()})},e.prototype.sharedStateDidChange=function(t,e){t.selectedSprite!==e.selectedSprite&&e.selectedSprite&&this.setState({currentPanel:_.OPTIONS})},e.prototype.componentDidUpdate=function(t,e){this.state.currentPanel!==e.currentPanel&&this.fixStyles()},e.prototype._initStickerManager=function(){var t=this.props.options,e=t.categories,n=t.replaceCategories,i=t.availableStickers;this._stickerManager=new h.StickerManager(this.context.ui,{categories:e,replaceCategories:n,availableStickers:i})},e.prototype._loadStickerImage=function(t){var e=this;return new o.a(function(n,i){var o=t.images.mediaBase,r=h.StickerManager.getURLForSticker(t,"base"),s=e._getAssetPath(r),a=new window.Image,l=void 0,c=setTimeout(function(){l=h.ModalManager.instance.displayLoading(e._t("loading.loading"))},100);a.addEventListener("load",function(){l&&l.close(),c&&(clearTimeout(c),c=null),void 0!==o.width&&void 0!==o.height&&(a.width=o.width,a.height=o.height),n(a)}),a.addEventListener("error",function(){l&&l.close(),c&&(clearTimeout(c),c=null),h.ModalManager.instance.displayError(e._t("errors.title"),e._t("errors.stickerLoadingError.text",{path:a.src})),i(new Error("Loading sticker failed"))}),a.crossOrigin="Anonymous",a.src=s})},e.prototype._createSticker=function(t){var e=this;return this._loadStickerImage(t).then(function(n){var i=e.context.editor;e.props.controls.registerLocalHistoryChange("sticker-creation",!0);var o=e.getSharedState("operation"),r=o.getInputDimensions(!1),s=new g(n.width,n.height),a=new g(.5*r.min(),.5*r.min()),l=o.createSticker({identifier:t.identifier,image:n,position:new g(.5,.5),dimensions:p.Utils.resizeVectorToFit(s,a),rotation:0,smoothDownscaling:e.props.options.smoothDownscaling});return o.addSprite(l),i.render(function(){e.setSharedState({selectedSprite:l})}),l})},e.prototype._onReplaceClick=function(){this.setState({currentPanel:_.ROOT})},e.prototype._onNewStickerClick=function(){this.state.currentPanel=_.ROOT,this.setSharedState({selectedSprite:null})},e.prototype._onCategoryClick=function(t){this.setState({currentPanel:_.CATEGORY,category:t})},e.prototype._onBackClick=function(){this.setState({currentPanel:_.ROOT})},e.prototype._onStickerClick=function(t){var e=this,n=this.getSharedState("selectedSprite"),i=function(){e.setState({currentPanel:_.OPTIONS})},o=this.context.editor;n?(this.props.controls.registerLocalHistoryChange("sticker-image",!0),this._loadStickerImage(t).then(function(e){var r=n.getDimensions().clone(),s=r.max(),a=new g(s,s),l=new g(e.width,e.height),c={image:e,identifier:t.identifier,dimensions:p.Utils.resizeVectorToFit(l,a)};"none"!==n.getTintMode()&&n.setTintMode(t.tintMode||"none"),n.set(c),n.setImage(e),o.render(),i()})):this._createSticker(t).then(function(t){e.setSharedState({selectedSprite:t}),i()})},e.prototype._renderCurrentPanel=function(){var t=this,e=this.props.controls;switch(this.state.currentPanel){case _.ROOT:return h.React.createElement(d.a,{innerRef:function(e){t._list=e},stickerManager:this._stickerManager,onCategoryClick:this._onCategoryClick,onStickerClick:this._onStickerClick,controls:e,ref:"panel"});case _.CATEGORY:return h.React.createElement(f.a,{innerRef:function(e){t._list=e},category:this.state.category,stickerManager:this._stickerManager,onBackClick:this._onBackClick,onStickerClick:this._onStickerClick,controls:e,ref:"panel"});case _.OPTIONS:return h.React.createElement(m.a,{innerRef:function(e){t._list=e},stickerManager:this._stickerManager,onReplaceClick:this._onReplaceClick,onNewStickerClick:this._onNewStickerClick,controls:e,ref:"panel"})}},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){return this._renderCurrentPanel()},e}(h.ControlsComponent);y.contextTypes=h.ControlsComponent.contextTypes,y.RootElement=h.ControlsComponent.RootElement,e.a=y},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(318)),d=n(118),f=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r.state={category:"all"},r}return u()(e,t),e.prototype._onCategoryClick=function(t,e){this.props.onCategoryClick&&this.props.onCategoryClick(t)},e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(p.requestAnimationFrame)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype._renderListItems=function(){var t=this;return this.props.stickerManager.getCategories().map(function(e){return p.React.createElement(h.a,{key:e.identifier,category:e,onClick:t._onCategoryClick.bind(t,e)})})},e.prototype.render=function(){var t=this,e=this.props,n=e.stickerManager,i=e.innerRef;return p.React.createElement(m,{innerRef:function(e){i&&i(e),t._wrapper=e},className:void 0},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(g,null,this._renderListItems()),p.React.createElement(d.a,{stickers:n.getStickersForCategory("all"),onStickerClick:this.props.onStickerClick})))},e}(p.BaseComponent);f.contextTypes=p.BaseComponent.contextTypes,e.a=f;var m=p.adonis.div("rfecls","Wrapper"),g=p.adonis.ul("5jg0ou","CategoryList")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.ControlItem),p=c.ControlsStyles.ControlItemTitle,h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.render=function(){var t=this.props.category,e=this._getAssetPath(t.metaData.backgroundImage),n={backgroundImage:"url('"+e+"')"};return c.React.createElement(d,{onClick:this.props.onClick,style:n,className:void 0},c.React.createElement(m,null,this._t("editor.controls.sticker.stickerCategories."+t.identifier)||t.defaultName),c.React.createElement(f,null))},e}(c.BaseComponent);h.contextTypes=c.BaseComponent.contextTypes,e.a=h;var d=Object(c.adonis)(u).li("1dc04zg","StickerCategoryItem"),f=c.adonis.div("1fxaw8w","Gradient"),m=Object(c.adonis)(p).div("120drhm","Title")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(118)),d=p.ControlsStyles.ControlItemTextStyles,f=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(p.requestAnimationFrame)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.render=function(){var t=this,e=this.props,n=e.stickerManager,i=e.category,o=e.onBackClick,r=e.onStickerClick,s=e.innerRef,a=this._getAssetPath(i.metaData.backgroundImage),l={backgroundImage:"url('"+a+"')",backgroundSize:"cover"},c={backgroundImage:"url('"+this._getAssetPath("editor/controls/shared/back.png",!0)+"')"},u=n.getStickersForCategory(i.identifier);return p.React.createElement(m,{innerRef:function(t){return s&&s(t)},className:void 0},p.React.createElement(g,{style:l},p.React.createElement(_,null,p.React.createElement(v,null,this._t("editor.controls.sticker.stickerCategories."+i.identifier)||i.defaultName),i.metaData.author&&p.React.createElement(b,null,p.React.createElement("span",null,"by "),i.metaData.author),p.React.createElement(k,{style:c,onClick:o.bind(this),className:void 0}))),p.React.createElement(y,{innerRef:function(e){t._wrapper=e}},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement(h.a,{stickers:u,onStickerClick:r}))))},e}(p.BaseComponent);f.contextTypes=p.BaseComponent.contextTypes,e.a=f;var m=p.adonis.div("iauaz2","StickerCategoryPanel"),g=p.adonis.div("2j8ygm","Header"),_=p.adonis.div("3wd3qf","HeaderContent"),y=p.adonis.div("zb78lb","Content"),v=Object(p.adonis)(d).div("kswtk0","Title"),b=Object(p.adonis)(d).div("1qn5s6u","Subtitle"),k=p.adonis.button("1t2nim8","BackButton")},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),p.ControlsStyles.PlainControlItemBackground),d=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=l()(this,t.call.apply(t,[this].concat(i)));return r._bindAll("_onTintToggle","_onTintColorChange","_onOpacityChange"),r}return u()(e,t),e.prototype._getStickerObject=function(){var t=this.props.stickerManager,e=this.getSharedState("selectedSprite"),n=e.getIdentifier();return t.getStickerByIdentifier(n)},e.prototype._onOpacityChange=function(t){this.props.controls.registerLocalHistoryChange("sticker-opacity",!0),this.getSharedState("selectedSprite").setAlpha(t/100),this.context.editor.render(),this.forceUpdate()},e.prototype._onTintToggle=function(t){this.props.controls.registerLocalHistoryChange("sticker-tint",!0);var e=this.getSharedState("selectedSprite"),n=this._getStickerObject();e.setTintMode(t?n.tintMode:"none"),this.context.editor.render(),this.forceUpdate()},e.prototype._onTintColorChange=function(t){this.props.controls.registerLocalHistoryChange("sticker-tint",!0),this.getSharedState("selectedSprite").setTintColor(t.clone()),this.context.editor.render(),this.forceUpdate()},e.prototype.fixStyles=function(){var t=this;return o.a.resolve().then(function(){p.Utils.Browser.isIElte(10)?Object(p.requestAnimationFrame)(function(){t._scrollbar.update()}):t._scrollbar.update()})},e.prototype.render=function(){var t=this,e=this.props,n=e.innerRef,i=e.onNewStickerClick,o=e.onReplaceClick,r=this.getSharedState("selectedSprite");if(!r)return null;var s=this._getStickerObject(),a={background:"url('"+r.getImage().src+"') center center / contain no-repeat"},l=!!s.tintMode&&"none"!==s.tintMode;return p.React.createElement(f,{innerRef:function(e){n&&n(e),t._wrapper=e},className:void 0},p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerRef:function(e){t._scrollbar=e}},p.React.createElement("div",null,p.React.createElement(m,null,p.React.createElement(p.ButtonComponent,{title:this._t("editor.controls.sticker.new"),className:void 0,onClick:i}),p.React.createElement(g,null,p.React.createElement(_,null,p.React.createElement(y,{onClick:o,style:a})),p.React.createElement(v,null,p.React.createElement(b,null,this._t("editor.controls.sticker.stickers."+s.identifier)||s.defaultName),p.React.createElement(k,{onClick:o,className:void 0},this._t("editor.controls.sticker.replace")))),p.React.createElement(p.SliderControlComponent,{minValue:0,value:Math.round(100*r.getAlpha()),maxValue:100,label:this._t("editor.controls.sticker.opacity"),onSliderValueChange:this._onOpacityChange,onValueChange:this._onOpacityChange,middleDot:!1,className:void 0})),l&&p.React.createElement(p.CollapseSectionComponent,{toggleable:!0,title:this._t("editor.controls.sticker.fill"),expanded:"none"!==r.getTintMode(),className:void 0,onToggle:this._onTintToggle},p.React.createElement(S,{value:r.getTintColor(),onColorPickerToggle:this.fixStyles,onChange:this._onTintColorChange})))))},e}(p.SharedStateComponent);d.contextTypes=p.SharedStateComponent.contextTypes,e.a=d;var f=p.adonis.div("rfecls","Wrapper"),m=p.adonis.div("1vnvjau","TopSection"),g=p.adonis.div("aqfteq","Details"),_=Object(p.adonis)(h).div("6u8g0p","Thumbnail"),y=p.adonis.div("7r0ke8","ThumbnailImage"),v=p.adonis.div("1trlo6v","DetailsContainer"),b=p.adonis.div("w9mc0y","Title"),k=p.adonis.div("1rhky7p","ReplaceButton"),S=Object(p.adonis)(p.ColorSelectionComponent)("1ouwzwk","ColorSelection")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(74)),p=c.Operations.SpriteOperation,h=void 0;p&&(h=c.Operations.SpriteOperation.StickerSprite);var d=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._renderSpriteItems=function(e){return t.prototype._renderSpriteItems.call(this,e.filter(function(t){return t instanceof h}))},e.prototype._selectNextSprite=function(){for(var t=this.getSharedState("operation"),e=t.getSprites().slice(0).reverse(),n=void 0,i=void 0,o=0;o<e.length;o++)if((n=e[o])instanceof h){i=n;break}i||(this.props.controls.skipHistory=!0,this.context.screen.switchToControls("default")),this.setSharedState({selectedSprite:i})},e.prototype._createSprite=function(t){return this.getSharedState("operation").createSticker(t)},e}(u.a);d.contextTypes=u.a.contextTypes,e.a=d},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=n.n(u),h=n(323),d=n(327),f=c.Math.Vector2,m=void 0,g=void 0;c.Operations.SpriteOperation&&(m=c.Operations.SpriteOperation.TextSprite,g=c.Operations.SpriteOperation.BrushSprite);var _=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype.createText=function(){var t=this.context.editor,e=this.sharedState.get("operation"),n=this.sharedState.get("fontManager"),i=n.getDefaultVariation(),o=t.getOutputDimensions(),r=t.getSDK(),s=r.getRenderer(),a=s.getMaxTextureSize();this.addHistorySnapshot("local");var l=e.createText({text:this.context.ui.translate("editor.controls.text.defaultText"),position:new f(.5,.5),maxWidth:.5,maxHeight:a?a/o.y:3,textMetrics:i.getTextMetrics(),fontIdentifier:i.getIdentifier(),fontSize:.08,fontFamily:i.getFontFamily(),fontWeight:i.getFontWeight(),fontStyle:i.getFontStyle(),color:c.Color.WHITE,alignment:"center"});return e.addSprite(l),this.sharedState.set({selectedSprite:l}),l},e.prototype._onEnter=function(){this._globalHistoryItem=this.createHistoryItem("global","sprite");var t=this.context.editor,e=t.operations.exists("sprite"),n=t.operations.getOrCreate("sprite"),i=n.serializeOptions(),o=this._options,r=o.fonts,s=o.replaceFonts,a=o.availableVariations,l=new u.FontManager(this.context.ui,{fonts:r,replaceFonts:s,availableVariations:a});this.sharedState.set({operation:n,fontManager:l}),t.features.disable("zoom","drag"),t.zoom.auto(),this.sharedState.get("selectedSprite")||this.createText(),this.sharedState.set({operationExistedBeforeEntering:e,operation:n,initialOptions:i}),t.render()},e.prototype._onLeave=function(){var t=this.context.editor;this._localHistoryItems.length&&!this.skipHistory&&this.addHistoryItem(this._globalHistoryItem),t.features.enable("zoom","drag"),t.render()},e.clickAtPosition=function(t,e){if(!e.operations.exists("sprite"))return!1;var n=e.operations.getOrCreate("sprite"),i=n.getSpritesAtPosition(t,e.getOutputTextureDimensions()).filter(function(t){return!(t instanceof g)});return!!(i.length&&i[0]instanceof m)&&{selectedSprite:i[0]}},e.getPreloadAssets=function(t){return["editor/controls/shared/canvas-overlay-controls/to-front.png","editor/controls/shared/canvas-overlay-controls/duplicate.png","editor/controls/shared/canvas-overlay-controls/delete.png"]},e.isEnabled=function(t){return t.isToolAllowed("text")&&t.isToolEnabled("text")},e}(u.BaseControls);_.identifier="text",_.controlsComponent=h.a,_.canvasControlsComponent=d.a,_.iconPath="editor/controls/text/icon.png",_.activeIconPath="editor/controls/text/icon-active.png",_.requiredOperations=["sprite"],_.defaultOptions={fonts:[],replaceFonts:!1,availableVariations:null,snapRotation:90,snapRotationTolerance:5},e.a=_,p.a.Controls.TextControls=_},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(4),h=(n.n(p),n(324)),d=n(325),f=n(326),m=p.GroupedControlsStyles.ControlGroupList,g=function(t){function e(){s()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=l()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onNewTextClick","_onFontChanged","_onFontSizeChanged","_onCharacterSpacingChanged","_onLineSpacingChanged","_onColorChanged","_onBackgroundColorChanged","_onSelectedSpriteUpdate","_onAlignmentChanged","_onVariationChanged","_onTextScaled"),a._events=o()({},p.Constants.EVENTS.TEXT_SCALED,a._onTextScaled),a}return u()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._loadFonts()},e.prototype.sharedStateDidChange=function(t,e){t.selectedSprite!==e.selectedSprite&&(this._lastLocalHistoryItem=null,t.selectedSprite.off("update",this._onSelectedSpriteUpdate),e.selectedSprite&&e.selectedSprite.on("update",this._onSelectedSpriteUpdate))},e.prototype._loadFonts=function(){var t=this,e=this.getSharedState("fontManager"),n=this.context.ui.getFontLoader();n.setFonts(e.getFonts());var i=void 0,o=window.setTimeout(function(){i=p.ModalManager.instance.displayLoading(t._t("loading.fonts"),!0)},200),r=this.getSharedState("selectedSprite");return n.load().then(function(){window.clearTimeout(o),i&&i.close(),r.emit("update"),t.context.editor.render()}).catch(function(e){window.clearTimeout(o),i&&i.close(),p.ModalManager.instance.displayError(t._t("errors.fontLoadingError.text",{fontFamily:e.font.getFontFamily()}))})},e.prototype._onSelectedSpriteUpdate=function(t,e){e&&e.fontSize&&this.forceUpdate()},e.prototype._onNewTextClick=function(){this.props.controls.createText(),this.context.editor.render(),this.forceUpdate()},e.prototype._onAlignmentChanged=function(t){this.props.controls.registerLocalHistoryChange("text-alignment",!0),this.getSharedState("selectedSprite").setAlignment(t),this.forceUpdate(),this.context.editor.render()},e.prototype._onVariationChanged=function(t){var e=this.context.editor;this.props.controls.registerLocalHistoryChange("font-variation",!0);var n=this.getSharedState("selectedSprite");n.setFontIdentifier(t.getIdentifier()),n.setFontFamily(t.getFontFamily()),n.setFontWeight(t.getFontWeight()),n.setFontStyle(t.getFontStyle()),n.setTextMetrics(t.getTextMetrics()),this.forceUpdate(),e.render()},e.prototype._onFontChanged=function(t){this.props.controls.registerLocalHistoryChange("font-family",!0);var e=t.getVariations()[0];this._onVariationChanged(e),this.forceUpdate(),this.context.editor.render()},e.prototype._onFontSizeChanged=function(t){this.props.controls.registerLocalHistoryChange("font-size");var e=this.getSharedState("selectedSprite"),n=this.getSharedState("operation"),i=n.getInputDimensions();e.setFontSize(t/i.min()),this.context.editor.render()},e.prototype._onColorChanged=function(t){this.props.controls.registerLocalHistoryChange("color",!0),this.getSharedState("selectedSprite").setColor(t.clone()),this.context.editor.render()},e.prototype._onBackgroundColorChanged=function(t){this.props.controls.registerLocalHistoryChange("backgroundColor",!0),this.getSharedState("selectedSprite").setBackgroundColor(t.clone()),this.context.editor.render()},e.prototype._onCharacterSpacingChanged=function(t){this.getSharedState("selectedSprite").setCharacterSpacing(t),this.forceUpdate(),this.context.editor.render()},e.prototype._onLineSpacingChanged=function(t){this.props.controls.registerLocalHistoryChange("line-spacing",!0),this.getSharedState("selectedSprite").setLineHeight(t),this.forceUpdate(),this.context.editor.render()},e.prototype._onTextScaled=function(){this.forceUpdate()},e.prototype._renderLegibilityPresets=function(){return[{title:"text shadow"},{title:"bg overlay"},{title:"bg blur"}].map(function(t){return p.React.createElement(f.a,{key:t.title,title:t.title})})},e.prototype._renderFontFamilyAndSizeComponent=function(){var t=this.getSharedState("selectedSprite"),e=this.getSharedState("fontManager"),n=this.getSharedState("operation"),i=n.getInputDimensions(),o=p.Utils.toFixed(t.getFontSize()*i.min(),1),r=Math.round(i.y);return p.React.createElement(h.a,{onValueChange:this._onFontSizeChanged,onFontChange:this._onFontChanged,fonts:e.getFonts(),dropdownValue:t.getFontFamily(),label:this._t("editor.controls.text.font"),inputLabel:this._t("editor.controls.text.size"),className:void 0,value:o,minValue:10,maxValue:r})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this,e=this.getSharedState("selectedSprite");if(!e)return null;var n=this.getSharedState("fontManager"),i=n.getFontByFontFamily(e.getFontFamily()),o=n.getVariationByIdentifier(e.getFontIdentifier()),r=e.getColor().clone(),s=e.getBackgroundColor().clone();return p.React.createElement(p.ScrollableListComponent,{direction:"vertical",innerListRef:function(e){t._list=e},innerRef:function(e){t._scrollbar=e}},p.React.createElement(_,{className:void 0},p.React.createElement(p.ButtonComponent,{title:this._t("editor.controls.text.new"),onClick:this._onNewTextClick,className:void 0}),p.React.createElement(v,null,this._renderFontFamilyAndSizeComponent(),p.React.createElement(d.a,{alignment:e.getAlignment(),variations:i.getVariations(),selectedVariation:o,onAlignmentChange:this._onAlignmentChanged,onVariationChange:this._onVariationChanged})),p.React.createElement(p.ColorSelectionComponent,{value:r,onColorPickerToggle:this.fixStyles,onChange:this._onColorChanged})),p.React.createElement(y,null,p.React.createElement(p.CollapseSectionComponent,{key:"background",title:this._t("editor.controls.text.background"),alwaysExpanded:!0,className:void 0},p.React.createElement(p.ColorSelectionComponent,{value:s,onColorPickerToggle:this.fixStyles,onChange:this._onBackgroundColorChanged})),p.React.createElement(p.CollapseSectionComponent,{key:"spacing",title:this._t("editor.controls.text.spacing"),alwaysExpanded:!0},p.React.createElement(p.SliderControlComponent,{label:this._t("editor.controls.text.line"),minValue:.5,maxValue:3,className:void 0,value:p.Utils.toFixed(e.getLineHeight(),1),onSliderValueChange:this._onLineSpacingChanged,onValueChange:this._onLineSpacingChanged}))))},e}(p.ControlsComponent);g.contextTypes=p.ControlsComponent.contextTypes,g.RootElement=p.ControlsComponent.RootElement,e.a=g;var _=p.adonis.div("1vnvjau","TopSection"),y=Object(p.adonis)(m).ul("mgrj1m","SectionList"),v=p.adonis.div("tymb4t","Details")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._updateFontsMap(),a}return l()(e,t),e.prototype.componentWillReceiveProps=function(e){t.prototype.componentWillReceiveProps.call(this,e),e.fonts!==this.props.fonts&&this._updateFontsMap()},e.prototype._updateFontsMap=function(){var t=this;this._fontsMap={},this.props.fonts.forEach(function(e){t._fontsMap[e.getFontFamily()]=e})},e.prototype._renderLeftPart=function(){var t=this.getSharedState("selectedSprite"),e=t.getFontFamily(),n=this._fontsMap[e];return c.React.createElement("div",{ref:"root",className:void 0},c.React.createElement(c.DropdownComponent,{value:n,style:{fontFamily:e},className:void 0,onChange:this.props.onFontChange},this.props.fonts.map(function(t){return c.React.createElement(c.DropdownComponent.Item,{value:t,key:t.getFontFamily(),style:{fontFamily:t.getFontFamily()}},t.getFontFamily())})))},e}(c.ValueSelectionComponent));u.contextTypes=c.ValueSelectionComponent.contextTypes,e.a=u},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._onAlignmentItemClick=function(t){this.props.onAlignmentChange&&this.props.onAlignmentChange(t.title)},e.prototype._onStyleItemClick=function(t){switch(t.title){case"bold":this.props.onStyleChange&&this.props.onStyleChange("fontWeight",this.props.bold?"normal":"bold");break;case"italic":this.props.onStyleChange&&this.props.onStyleChange("fontStyle",this.props.italic?"normal":"italic")}},e.prototype._renderAligmentItems=function(){var t=this,e=this.props.alignment;return[{title:"left",selected:"left"===e,iconPath:"editor/controls/text/align-left.png",selectedIconPath:"editor/controls/text/align-left-selected.png"},{title:"center",selected:"center"===e,iconPath:"editor/controls/text/align-center.png",selectedIconPath:"editor/controls/text/align-center-selected.png"},{title:"right",selected:"right"===e,iconPath:"editor/controls/text/align-right.png",selectedIconPath:"editor/controls/text/align-right-selected.png"}].map(function(e){var n=t._getAssetPath(e.iconPath,!0),i=t._getAssetPath(e.selectedIconPath,!0);return c.React.createElement(d,{key:e.title,className:void 0,"data-alignment":e.title,"data-selected":e.selected,onClick:t._onAlignmentItemClick.bind(t,e)},c.React.createElement(f,{visible:!0,src:n}),c.React.createElement(f,{visible:e.selected,src:i}))},this)},e.prototype._renderStylesDropdown=function(){var t=this.props,e=t.variations,n=t.selectedVariation;return c.React.createElement(c.DropdownComponent,{value:n,onChange:this.props.onVariationChange,className:void 0,enableMenu:e.length>1},e.map(function(t){return c.React.createElement(c.DropdownComponent.Item,{value:t,key:t.getIdentifier(),style:{fontFamily:t.getFontFamily(),fontStyle:t.getFontStyle(),fontWeight:t.getFontWeight()}},t.getLabel())}))},e.prototype.render=function(){return c.React.createElement(p,{className:void 0},c.React.createElement(h,null,this._renderStylesDropdown()),c.React.createElement(h,{right:!0},this._renderAligmentItems()))},e}(c.BaseComponent));u.contextTypes=c.BaseComponent.contextTypes,e.a=u;var p=c.adonis.div("1hzgwcr","TextControlsStyling"),h=c.adonis.div("64aub5",{right:"9ygmmm"},"Group"),d=c.adonis.div("tgbgl1",{selected:"zgbg08"},"ItemContainer"),f=c.adonis.img("7ni881",{visible:"zgbg08"},"ItemImage")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.ControlItem),p=c.ControlsStyles.ControlItemTitle,h=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onClick","_onMouseEnter","_onMouseLeave","_onIntensityChanged"),a.state={selected:!1,hovering:!1,intensity:50},a}return l()(e,t),e.prototype._onClick=function(){this.setState({selected:!0})},e.prototype._onMouseEnter=function(){this.setState({hovering:!0})},e.prototype._onMouseLeave=function(){this.setState({hovering:!1})},e.prototype._onIntensityChanged=function(t){this.setState({intensity:t})},e.prototype.render=function(){var t=this.state,e=t.selected,n=t.hovering,i=t.intensity;return c.React.createElement(d,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onClick:this._onClick,selected:e},!(e&&n)&&c.React.createElement(f,{selected:e},this.props.title),e&&n&&c.React.createElement(m,null,c.React.createElement(c.SliderComponent,{minValue:0,maxValue:100,valueUnit:"",middleDot:!1,value:i,onChange:this._onIntensityChanged})))},e}(c.BaseComponent);h.contextTypes=c.BaseComponent.contextTypes,e.a=h;var d=Object(c.adonis)(u).div("nasu8t",{selected:"120drhm"},"LegibilityPresetItem"),f=Object(c.adonis)(p).div("1hd9n2f",{selected:"186qcx6"},"Title"),m=c.adonis.div("8ekz81","Slider")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(74)),p=void 0;c.Operations.SpriteOperation&&(p=c.Operations.SpriteOperation.TextSprite);var h=function(t){function e(){return o()(this,e),s()(this,t.apply(this,arguments))}return l()(e,t),e.prototype._selectNextSprite=function(){for(var t=this.getSharedState("operation"),e=t.getSprites().slice(0).reverse(),n=void 0,i=void 0,o=0;o<e.length;o++)if((n=e[o])instanceof p){i=n;break}i||(this.props.controls.skipHistory=!0,this.context.screen.switchToControls("default")),this.setSharedState({selectedSprite:i})},e.prototype._createSprite=function(t){return this.getSharedState("operation").createText(t)},e}(u.a);h.contextTypes=u.a.contextTypes,e.a=h},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=n.n(h),f=n(329),m=n(331),g=p.Math.Vector2,_=new g(50,50),y=function(t){function e(){return s()(this,e),l()(this,t.apply(this,arguments))}return u()(e,t),e.prototype._onEnter=function(){var t=this.context.editor,e=t.operations.exists("transform"),n=t.operations.getOrCreate("transform");n.setEnabled(!1,!1);var i=t.operations.exists("orientation"),o=t.operations.getOrCreate("orientation"),r={end:new g(1,1),rotation:0,start:new g(0,0),textureScale:1},s=n.getInputDimensions(!1),a=n.getNewDimensions(s),l=r,c=l,u=c.start,h=c.end,d=c.textureScale,f=c.rotation;if(e){l=n.serializeOptions(),u=l.start,h=l.end,f=l.rotation,d=l.textureScale,delete l.enabled;var m=n.calculateScale(f),_=n.getInputDimensions(!1),y=Math.cos(f),v=Math.sin(f),b=h.clone().subtract(u).divide(2),k=u.clone().add(b).multiply(_),S=k.subtract(_.clone().multiply(.5)),C=new g(S.x*y-S.y*v,S.x*v+S.y*y).multiply(m),w=_.clone().multiply(.5).add(C),x=w.clone().divide(_),E=x.clone().subtract(b.clone().multiply(m)),O=x.clone().add(b.clone().multiply(m));u=E,h=O}t.broadcastTransform(n,r);var T=o.serializeOptions();t.setSpriteScale(n.calculateScale()),t.setRotation(f),n.set(r,e);var R=t.features.isEnabledByOptions("export");t.zoom.auto(!0,!1,function(){t.features.disable("zoom","drag","export")},!1),this.sharedState.set({transformOperation:n,initialTransformOptions:l,newTransformOptions:{start:u,end:h,rotation:f,textureScale:d},transformOperationExistedBeforeEntering:e,exportEnabled:R,orientationOperation:o,initialOrientationOptions:T,newOrientationOptions:p.Utils.cloneOptions(T),orientationOperationExistedBeforeEntering:i,start:g.fromObject(u),end:g.fromObject(h),rotation:f,orientationRotation:o.getRotation(),flipVertically:o.getFlipVertically(),flipHorizontally:o.getFlipHorizontally(),initialDimensions:a,initialRatio:n._ratio||null})},e.prototype._onBeforeLeave=function(){var t=this,e=this.context.ui.translate.bind(this.context.ui);return new o.a(function(n,i){var o=t.sharedState.get("changesDone"),r=t.sharedState.get("changesAccepted");if(o&&!r){return void h.ModalManager.instance.displayWarning(e("warnings.discardChanges.title"),e("warnings.discardChanges.text"),[e("warnings.discardChanges.buttons.cancel"),e("warnings.discardChanges.buttons.discard")]).on("button",function(t){return 0===t?n({leave:!1}):1===t?n({leave:!0,data:{discard:!0}}):void 0})}n({leave:!0})})},e.prototype._onLeave=function(t){var e=t.discard,n=this.context.editor,i=this.sharedState.get("transformOperation"),o=this.sharedState.get("orientationOperation");if(e){var r=this.sharedState.get("initialOrientationOptions");o.set(r);var s=this.sharedState.get("initialTransformOptions");n.broadcastTransform(i,s),i.set(s),i.setTextureScale(this._calculateTextureScale()),i.setEnabled(!0)}else{var a={rotation:0,flipVertically:!1,flipHorizontally:!1};o.optionsEqual(a)&&n.operations.remove(o,!1);var l=this.sharedState.get("newTransformOptions"),c=l.start,u=l.end,p=l.textureScale,h=l.rotation;p=this._calculateTextureScale(),c=c.clone(),u=u.clone();var d=i.calculateScale(h),f=i.getInputDimensions(!1),m=Math.cos(-h),_=Math.sin(-h),y=u.clone().subtract(c).divide(2),v=c.clone().add(y).multiply(f),b=v.subtract(f.clone().multiply(.5)),k=new g(b.x*m-b.y*_,b.x*_+b.y*m).divide(d),S=f.clone().multiply(.5).add(k),C=S.clone().divide(f),w=C.clone().subtract(y.clone().divide(d)),x=C.clone().add(y.clone().divide(d)),E={start:new g(0,0),end:new g(1,1),rotation:0,textureScale:1},O={start:w,end:x,textureScale:p,rotation:h};O.start.equals(E.start)&&O.end.equals(E.end)&&O.rotation===E.rotation&&O.textureScale===E.textureScale?n.operations.remove(i,!1):(n.broadcastTransform(i,O),i.set(O),i.setTextureScale(this._calculateTextureScale()),i.setEnabled(!0));var T=this._getHistoryItems();if(T.length){var R=T[T.length-1],D=R.undo;R.undo=function(){D&&D.apply(void 0,arguments),n.zoom.auto(!0,!0)},this.addHistoryItems(T)}}n.setRotation(0),n.setSpriteScale(1),n.features.enable("zoom","drag","export"),this.sharedState.get("exportEnabled")&&n.features.enable("export"),n.zoom.auto(!0)},e.prototype._onOperationRemoved=function(t){},e.prototype._calculateTextureScale=function(){var t=this.sharedState.get("transformOperation"),e=this.sharedState.get("ratio");if(!e||!e.dimensions)return 1;var n=this.sharedState.get("start"),i=this.sharedState.get("end"),o=i.clone().subtract(n),r=t.getInputDimensions(!1).multiply(o);return e.dimensions.x/r.x},e.prototype._getHistoryItems=function(){var t=[],e=this._getTransformHistoryItem();e&&t.push(e);var n=this._getOrientationHistoryItem();return n&&t.push(n),t},e.prototype._getTransformHistoryItem=function(){var t=this.context.editor,e=this.sharedState.get("newTransformOptions"),n=this.sharedState.get("transformOperation"),i=this.sharedState.get("initialTransformOptions"),o=this.sharedState.get("transformOperationExistedBeforeEntering");if(!i.start.equals(e.start)||!i.end.equals(e.end)||i.rotation!==e.rotation||i.textureScale!==e.textureScale)return{type:"global",operation:n.constructor.identifier,options:i,existent:o,data:{ratio:this.sharedState.get("initialRatio")},undoBefore:function(e,n){t.broadcastTransform(e,n)}}},e.prototype._getOrientationHistoryItem=function(){var t=this.context.editor,e=this.sharedState.get("orientationOperation"),n=this.sharedState.get("initialOrientationOptions"),i=this.sharedState.get("orientationOperationExistedBeforeEntering");if(!e.optionsEqual(n))return{type:"global",operation:e.constructor.identifier,options:n,existent:i,undo:function(e,n){e.getRotation()!==n.rotation&&t.broadcastRotate(n.rotation-e.getRotation());var i=n.rotation,o=90===i||270===i;e.getFlipVertically()!==n.flipVertically?t.broadcastFlip(o?"horizontal":"vertical"):e.getFlipHorizontally()!==n.flipHorizontally&&t.broadcastFlip(o?"vertical":"horizontal")}}},e.prototype.fixTransform=function(t,e,n,i){var o=this.context.editor,r=this.sharedState.get("transformOperation"),s=r.getInputDimensions(!1),a=this.sharedState.get("ratio"),l=a.ratio,c=a.dimensions;c&&!l&&(l=c.x/c.y);var u=void 0;"*"!==l&&(u=h.Utils.findIntegerFraction(l));var p=new g;p.x="left"===n?e.x:1-t.x,p.y="top"===i?e.y:1-t.y;var d=s.clone().multiply(p),f=e.clone().subtract(t),m=f.clone().multiply(s),y=_.clone().divide(o.zoom.targetLevel),v=new g(Math.min(y.x,.1*s.x),Math.min(y.y,.1*s.y));if("*"!==l&&v.divide(u).round().multiply(u),m.x=Math.min(Math.max(v.x,m.x),d.x),"*"!==l){var b=Math.floor(s.x/u.x);m.x=Math.max(1,Math.min(b,Math.round(m.x/u.x)))*u.x,m.y=m.x/l}m.y=Math.min(Math.max(v.y,m.y),d.y),"*"!==l&&(m.x=m.y*l);var k=m.divide(s);return"top"===i?t.y=e.y-k.y:e.y=t.y+k.y,"left"===n?t.x=e.x-k.x:e.x=t.x+k.x,"*"===l&&(t.multiply(s).round().divide(s),e.multiply(s).round().divide(s)),{start:t,end:e}},e.getPreloadAssets=function(t){var e=t.getOptions(),n=p.Utils.defaults(e.editor.controlsOptions.transform,this.defaultOptions),i=["editor/controls/transform/dimensions-cross.png","editor/controls/transform/degree-slider.png","editor/controls/transform/flip.png","editor/controls/transform/lock.png","editor/controls/transform/rotate.png"];return new h.TransformRatioManager(n).getCategories().forEach(function(t){t.ratios.forEach(function(t){var e=t.identifier;i.push("editor/controls/transform/ratios/"+e+"-default.png","editor/controls/transform/ratios/"+e+"-hover.png","editor/controls/transform/ratios/"+e+"-active.png")})}),i},e.isEnabled=function(t){return t.isToolAllowed("transform")&&t.isToolEnabled("transform")},e}(h.BaseControls);y.clickAtPosition=h.BaseControls.clickAtPosition,y.identifier="transform",y.controlsComponent=m.a,y.canvasControlsComponent=f.a,y.iconPath="editor/controls/transform/icon.png",y.activeIconPath="editor/controls/transform/icon-active.png",y.requiredOperations=["transform","orientation"],y.defaultOptions={categories:[],replaceCategories:!1,availableRatios:null,enableRotation:!0,enableStraighten:!0,enableFlip:!0},e.a=y,d.a.Controls.TransformControls=y},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(13)),f=n(330),m=p.Math.Vector2,g=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_onZoomDone","_onCornerDrag","_onCenterDragStart","_onCenterDrag","_onRotationChange","_onOperationUpdated","_onOperationRemoved","_onAcceptClick","_onAcceptMouseDown"),c._events=(n={},o()(n,h.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),o()(n,h.Constants.EVENTS.OPERATION_REMOVED,c._onOperationRemoved),o()(n,h.Constants.EVENTS.ZOOM_DONE,c._onZoomDone),n),c.state=p.Utils.extend(c.state,{visible:!1}),c}return u()(e,t),e.prototype.shouldSharedComponentUpdate=function(t,e){return!t.start.equals(e.start)||!t.end.equals(e.end)||t.orientationRotation!==e.orientationRotation||t.ratio!==e.ratio||t.changesDone!==e.changesDone},e.prototype.sharedStateDidChange=function(t,e){(t.ratio&&t.ratio.ratio)!==(e.ratio&&e.ratio.ratio)&&this._calculateRatioFraction()},e.prototype.sharedComponentWillUpdate=function(t,e){t.orientationRotation!==e.orientationRotation&&this._updateTransformAreaStyles()},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._updateTransformAreaStyles(),this._calculateRatioFraction(),this.forceUpdate()},e.prototype.componentWillUpdate=function(){this._updateTransformAreaStyles()},e.prototype.componentDidUpdate=function(){!this._transformContainerRect&&this.getSharedState("ratio")&&(this._updateTransformAreaStyles(),this.forceUpdate())},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this._zoomAFRequest&&(Object(d.a)(this._zoomAFRequest),this._zoomAFRequest=null)},e.prototype._calculateRatioFraction=function(){var t=this.getSharedState("ratio");t&&"*"!==t.ratio&&(this._ratioFraction=h.Utils.findIntegerFraction(t.ratio))},e.prototype._onCenterDragStart=function(t){var e=this.getSharedState("transformOperation");this._dragOptions={initialStart:this.getSharedState("start").clone(),initialEnd:this.getSharedState("end").clone(),areaDimensions:this._transformContainerRect.getSize(),imageDimensions:e.getInputDimensions(!1)}},e.prototype._onCenterDrag=function(t){var e=this._dragOptions,n=e.initialStart,i=e.initialEnd,o=e.areaDimensions,r=e.imageDimensions,s=t.clone().divide(o),a=i.clone().subtract(n),l=new m(0,0),c=new m(1,1).subtract(a),u=n.clone().add(s).clamp(l,c),p=u.clone().add(a);u.multiply(r).floor().divide(r),p.multiply(r).floor().divide(r),this.props.controls.fixTransform(u,p,"right","bottom");var h=this.getSharedState("newTransformOptions");h.start=u,h.end=p,this.setSharedState({start:u,end:p,changesDone:this.getSharedState("changesDone")||!(n.equals(u)&&i.equals(p))})},e.prototype._onCornerDragStart=function(t,e,n){var i=this.getSharedState("transformOperation");this._dragOptions={initialStart:this.getSharedState("start").clone(),initialEnd:this.getSharedState("end").clone(),verticalSide:t,horizontalSide:e,areaDimensions:this._transformContainerRect.getSize(),imageDimensions:i.getInputDimensions(!1)},this._currentCorner={vertical:t,horizontal:e}},e.prototype._onCornerDrag=function(t){var e=this._dragOptions,n=e.initialStart,i=e.initialEnd,o=e.verticalSide,r=e.horizontalSide,s=e.areaDimensions,a=t.clone().divide(s),l=n.clone(),c=i.clone();("top"===o?l:c).y+=a.y,("left"===r?l:c).x+=a.x,this.props.controls.fixTransform(l,c,r,o);var u=this.getSharedState("newTransformOptions");u.start=l,u.end=c,this.setSharedState({start:l,end:c,changesDone:!0}),this._emitEvent(h.Constants.EVENTS.TRANSFORM_RESIZE)},e.prototype._onRotationChange=function(t){var e=this.getSharedState("transformOperation"),n=this.context.editor;n.setRotation(t),n.setSpriteScale(e.calculateScale(t)),this.getSharedState("newTransformOptions").rotation=t,n.render(),this.setSharedState({rotation:t,changesDone:!0})},e.prototype._onAcceptClick=function(t){t.preventDefault(),t.stopPropagation(),this.getSharedState("changesDone")&&(this.setSharedState({changesAccepted:!0}),this.context.screen.switchToControls("default"))},e.prototype._onAcceptMouseDown=function(t){t.stopPropagation()},e.prototype._onZoomDone=function(){var t=this;this._zoomAFRequest=Object(d.b)(function(){t._updateTransformAreaStyles(),t.state.visible=!0,t.forceUpdate(),t._zoomAFRequest=null})},e.prototype._onOperationUpdated=function(t){if(t===this.getSharedState("transformOperation")){var e=this.context.editor,n=e.getSDK();n.setRotation(t.getRotation()),n.setSpriteScale(t.calculateScale()),e.render(),this.setSharedState({rotation:t.getRotation()}),this.forceUpdate()}},e.prototype._onOperationRemoved=function(t){"transform"!==t.constructor.identifier&&"orientation"!==t.constructor.identifier||this.forceUpdate()},e.prototype._onFlipClick=function(t){var e=this.context.editor,n=this.getSharedState("orientationOperation"),i=t.charAt(0).toUpperCase()+t.slice(1)+"ly",r=!this.getSharedState("flip"+i);this.setSharedState(o()({},"flip"+i,r)),n.flip(t);var s=this.getSharedState("newTransformOptions"),a=-1*this.getSharedState("rotation");e.setRotation(a);var l=this.getSharedState("start").clone(),c=this.getSharedState("end").clone(),u=l.clone();"horizontal"===t?(l.set(1-c.x,l.y),c.set(1-u.x,c.y)):"vertical"===t&&(l.set(l.x,1-c.y),c.set(c.x,1-u.y)),s.start=l,s.end=c,s.rotation=a,this.setSharedState({start:l,end:c,rotation:a,changesDone:!0,newTransformOptions:s}),this.forceUpdate(),e.broadcastFlip(t),e.render()},e.prototype._onRotateClick=function(t){var e=this,n="cw"===t?90:-90,i=this.context.editor,o=this.getSharedState("orientationOperation"),r=(o.getRotation()+n)%360;o.set({rotation:r});var s={orientationRotation:r},a=this.getSharedState("newTransformOptions"),l=this.getSharedState("ratio");if(l)if(l.dimensions||"*"!==l.ratio)this._emitEvent(h.Constants.EVENTS.TRANSFORM_REAPPLY_RATIO),this._emitEvent(h.Constants.EVENTS.TRANSFORM_RESIZE);else{var c=this.getSharedState("start").clone(),u=this.getSharedState("end").clone(),p=c.clone();"cw"===t?(c.set(1-u.y,p.x),u.set(1-p.y,u.x)):"ccw"===t&&(c.set(p.y,1-u.x),u.set(u.y,1-p.x)),s.start=c,s.end=u,a.start=c,a.end=u}this.setSharedState({changesDone:!0,newTransformOptions:a}),i.broadcastRotate(n),i.zoom.auto(!0,!0,function(){e.setSharedState(s)})},e.prototype._updateTransformAreaStyles=function(){this._transformContainerRect=this.getImageBoundingRect(),this._imageContainer&&h.Utils.styleElement(this._imageContainer,{left:this._transformContainerRect.x+"px",top:this._transformContainerRect.y+"px",width:this._transformContainerRect.width+"px",height:this._transformContainerRect.height+"px"})},e.prototype._getAreaStyles=function(){var t=void 0,e=void 0,n=void 0,i=void 0,o=void 0;this._transformContainer?(t=this._transformContainerRect.getSize(),o=this._transformContainerRect.getPosition(),e=this.getSharedState("start").clone().multiply(t),n=this.getSharedState("end").clone().multiply(t),i=n.clone().subtract(e)):(t=new m(0,0),e=new m(0,0),i=new m(0,0),o=new m(0,0));var r=this._getDimensionsStyles(i.x,i.y);return{topLeft:this._getDimensionsStyles(e.x+o.x,e.y+o.y),topCenter:this._getDimensionsStyles(i.x,e.y+o.y),centerLeft:this._getDimensionsStyles(e.x+o.x,i.y),center:{width:r.width},innerTransformContainer:r}},e.prototype._getDimensionsStyles=function(t,e){return{width:Math.max(1,t),height:Math.max(1,e)}},e.prototype._renderOnCanvasControls=function(){var t=this,e=this._getAreaStyles(),n=!this.getSharedState("ratio"),i={backgroundImage:"url('"+this._getAssetPath("editor/controls/transform/accept.png",!0)+"')"};return h.React.createElement(y,{innerRef:function(e){t._container=e}},h.React.createElement(S,{className:"js-imageContainer",innerRef:function(e){t._imageContainer=e}},h.React.createElement(M,{className:void 0,enabled:this.getSharedState("changesDone"),onClick:this._onAcceptClick,onMouseDown:this._onAcceptMouseDown,style:i})),h.React.createElement(C,{visible:this.state.visible,innerRef:function(e){t._transformContainer=e}},h.React.createElement(x,null,h.React.createElement(R,{style:e.topLeft}),h.React.createElement(R,{style:e.topCenter}),h.React.createElement(R,null)),h.React.createElement(x,null,h.React.createElement(R,{style:e.centerLeft}),h.React.createElement(h.DraggableComponent,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag,disabled:n},h.React.createElement(T,{style:e.center,className:void 0,undraggable:n},!n&&[h.React.createElement(h.DraggableComponent,{onStart:this._onCornerDragStart.bind(this,"top","left"),onDrag:this._onCornerDrag,key:"topLeft"},h.React.createElement(D,{top:!0,left:!0,className:void 0})),h.React.createElement(h.DraggableComponent,{onStart:this._onCornerDragStart.bind(this,"top","right"),onDrag:this._onCornerDrag,key:"topRight"},h.React.createElement(D,{top:!0,right:!0,className:void 0})),h.React.createElement(h.DraggableComponent,{onStart:this._onCornerDragStart.bind(this,"bottom","left"),onDrag:this._onCornerDrag,key:"bottomLeft"},h.React.createElement(D,{bottom:!0,left:!0,className:void 0})),h.React.createElement(h.DraggableComponent,{onStart:this._onCornerDragStart.bind(this,"bottom","right"),onDrag:this._onCornerDrag,key:"bottomRight"},h.React.createElement(D,{bottom:!0,right:!0,className:void 0})),h.React.createElement(w,{style:e.innerTransformContainer,className:void 0,key:"inner"},h.React.createElement(x,null,h.React.createElement(O,{right:!0,bottom:!0}),h.React.createElement(O,{right:!0,bottom:!0}),h.React.createElement(O,{bottom:!0})),h.React.createElement(x,null,h.React.createElement(O,{right:!0,bottom:!0}),h.React.createElement(O,{right:!0,bottom:!0}),h.React.createElement(O,{bottom:!0})),h.React.createElement(x,null,h.React.createElement(O,{right:!0}),h.React.createElement(O,{right:!0}),h.React.createElement(O,null)))])),h.React.createElement(R,null)),h.React.createElement(x,null,h.React.createElement(R,null),h.React.createElement(R,null),h.React.createElement(R,null))))},e.prototype._renderControls=function(){var t={backgroundImage:"url('"+this._getAssetPath("editor/controls/transform/flip.png",!0)+"')"},e={backgroundImage:"url('"+this._getAssetPath("editor/controls/transform/rotate.png",!0)+"')"},n=this.props.options,i=n.enableRotation,o=n.enableFlip,r=n.enableStraighten;return h.React.createElement(_,{className:void 0},this._renderOnCanvasControls(),h.React.createElement(v,null,h.React.createElement(b,{className:void 0},o&&[h.React.createElement(P,{style:t,key:"flip-h",onClick:this._onFlipClick.bind(this,"horizontal"),className:void 0}),h.React.createElement(P,{vertical:!0,style:t,key:"flip-v",onClick:this._onFlipClick.bind(this,"vertical"),className:void 0})],r&&h.React.createElement(f.a,{value:this.getSharedState("rotation"),onChange:this._onRotationChange}),i&&[h.React.createElement(B,{style:e,key:"rotate-ccw",onClick:this._onRotateClick.bind(this,"ccw"),className:void 0}),h.React.createElement(B,{clockwise:!0,style:e,key:"rotate-cw",onClick:this._onRotateClick.bind(this,"cw"),className:void 0})])))},e}(h.CanvasControlsComponent);g.contextTypes=h.CanvasControlsComponent.contextTypes,e.a=g;var _=h.adonis.div("120drhm","CanvasControls"),y=h.adonis.div("8gacw5",{draggable:"ovipzq"},"OnCanvasControls"),v=h.adonis.div("nmw377","BottomControlsContainer"),b=h.adonis.div("1gk061a","BottomControls"),k=h.adonis.div("1v9hd4r","TransformContainer"),S=h.adonis.div("15kzu1c","ImageContainer"),C=Object(h.adonis)(k)("1kjfwvf",{visible:"zgbg08"},"OuterTransformContainer"),w=Object(h.adonis)(k)("120drhm","InnerTransformContainer"),x=h.adonis.div("15u7gri","TransformRow"),E=h.adonis.div("1q481v0","TransformCell"),O=Object(h.adonis)(E)("1qh9j3j",{top:"1mup05p",right:"12l7t8k",bottom:"1ebuiz6",left:"txqhsl"},"BorderedTransformCell"),T=Object(h.adonis)(E)("52h18o",{undraggable:"16s6vgr"},"CenterTransformCell"),R=Object(h.adonis)(E)("17b4s67","DarkTransformCell"),D=h.adonis.div("1tai30v",{top:"1stnln8",right:"1wj5vxi",bottom:"17bojqc",left:"1a9ompl"},"Dragger"),I=h.adonis.button("127b6wl","Button"),P=Object(h.adonis)(I)("120drhm",{vertical:"12fqiy2"},"FlipButton"),B=Object(h.adonis)(I)("120drhm",{clockwise:"o7ss47"},"RotateButton"),M=h.adonis.div("sbdqjz",{enabled:"ro0g1e"},"AcceptButton")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a._bindAll("_onDragStart","_onDrag"),a._width=0,a.state={value:a.props.value||0},a}return l()(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._degreesPerPixel=90/217},e.prototype.componentWillReceiveProps=function(t){this.state.value!==t.value&&this.setState({value:t.value})},e.prototype._onDragStart=function(){this._initialDegrees=180*this.state.value/Math.PI},e.prototype._onDrag=function(t){var e=this._initialDegrees+t.x*this._degreesPerPixel;e=Math.min(45,Math.max(e,-45));var n=e*Math.PI/180;this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},e.prototype._getValue=function(){return Math.round(180*this.state.value/Math.PI)+"°"},e.prototype._getIndicatorPosition=function(){var t=45*Math.PI/180;return this._width/2+this.state.value/t*(this._width/2)},e.prototype._getIndicatorStyles=function(){var t=45*Math.PI/180;return{left:{left:108.5+this.state.value/t*108.5},right:{right:108.5-this.state.value/t*108.5}}},e.prototype.render=function(){var t=this._getIndicatorStyles(),e={backgroundImage:"url('"+this._getAssetPath("editor/controls/transform/degree-slider.png",!0)+"')",backgroundPosition:t.left.left-4},n={backgroundImage:"url('"+this._getAssetPath("editor/controls/transform/degree-slider.png",!0)+"')",backgroundPosition:t.left.left+35};return c.React.createElement(c.DraggableComponent,{onStart:this._onDragStart,onDrag:this._onDrag},c.React.createElement(p,{className:void 0},c.React.createElement(h,{style:e},c.React.createElement(d,{style:t.left})),c.React.createElement(f,{className:void 0},this._getValue()),c.React.createElement(h,{style:n},c.React.createElement(d,{style:t.right}))))},e}(c.BaseComponent));u.contextTypes=c.BaseComponent.contextTypes,e.a=u;var p=c.adonis.div("tix0xu","Wrapper"),h=c.adonis.div("6mdana","RotationSlider"),d=c.adonis.div("nxjpo","Indicator"),f=c.adonis.div("d97kws","Value")},function(t,e,n){"use strict";var i=n(7),o=n.n(i),r=n(0),s=n.n(r),a=n(1),l=n.n(a),c=n(2),u=n.n(c),p=n(5),h=(n.n(p),n(4)),d=(n.n(h),n(332)),f=n(333),m=h.GroupedControlsStyles.ControlGroupList,g=h.GroupedControlsStyles.ControlGroup,_=h.GroupedControlsStyles.ControlGroupTitle,y=p.Math.Vector2,v=function(t){function e(){var n;s()(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var c=l()(this,t.call.apply(t,[this].concat(r)));return c._bindAll("_reapplyRatio","_onHistoryUndo","_onResetDefaultClick","_onOperationRemoved","_onOperationUpdated"),c._events=(n={},o()(n,h.Constants.EVENTS.TRANSFORM_REAPPLY_RATIO,c._reapplyRatio),o()(n,h.Constants.EVENTS.OPERATION_REMOVED,c._onOperationRemoved),o()(n,h.Constants.EVENTS.OPERATION_UPDATED,c._onOperationUpdated),o()(n,h.Constants.EVENTS.HISTORY_UNDO,c._onHistoryUndo),n),c._transformRatioManager=new h.TransformRatioManager(c.props.options),c.state.ratio=null,c._selectInitialRatio(!c.getSharedState("transformOperationExistedBeforeEntering")),c}return u()(e,t),e.prototype.shouldSharedComponentUpdate=function(t,e){return t.ratio!==e.ratio},e.prototype._onHistoryUndo=function(t){var e=this,n=this.context.editor;t.forEach(function(t){var i=t.getOperation(),o=t.getData();if("transform"===i){var r={};o.ratio&&(r.ratio=o.ratio);var s=n.operations.get(i),a=e.getSharedState("newTransformOptions");a.start=s.getStart(),a.end=s.getEnd(),a.rotation=s.getRotation(),a.textureScale=s.getTextureScale(),r.newTransformOptions=a,e.setSharedState(r)}})},e.prototype._onOperationUpdated=function(t){var e=this.getSharedState("transformOperation");e===t&&this.setSharedState({rotation:e.getRotation(),start:e.getStart().clone(),end:e.getEnd().clone()})},e.prototype._onOperationRemoved=function(t){var e=this.context.editor;if(this.getSharedState("transformOperation")===t){var n=e.operations.getOrCreate("transform",{enabled:!1}),i=e.getSDK();i.setRotation(0),i.setSpriteScale(1),this.setSharedState({transformOperation:n,rotation:0,initialTransformOptions:n.serializeOptions(),transformOperationExistedBeforeEntering:!1}),n._ratio=null,this._selectInitialRatio(!0,!0)}if(this.getSharedState("orientationOperation")===t){var o=e.operations.getOrCreate("orientation");this.setSharedState({orientationOperation:o,rotation:0,flipVertically:!1,flipHorizontally:!1})}},e.prototype._onResetDefaultClick=function(){var t=this.context.editor,e=this.getSharedState("orientationOperation"),n=e.getRotation();e.set({flipHorizontally:!1,flipVertically:!1,rotation:0}),t.broadcastRotate(-n);var i=this.getSharedState("newTransformOptions");i.start=new y(0,0),i.end=new y(1,1),i.rotation=0,this.setSharedState({ratio:null,start:new y(0,0),end:new y(1,1),orientationRotation:0,rotation:0,flipVertically:!1,flipHorizontally:!1,changesDone:!0}),this._emitEvent(h.Constants.EVENTS.TRANSFORM_RESIZE),t.setRotation(0),t.setSpriteScale(1),t.zoom.auto(!0,!0)},e.prototype._reapplyRatio=function(){var t=this.getSharedState("ratio");this._selectRatio(t)},e.prototype._selectRatio=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getSharedState("transformOperation");e&&t&&this._setDefaultOptionsForRatio(t,n),i._ratio=t,this.setSharedState({ratio:t},n),n&&this.setSharedState({changesDone:!0}),this._emitEvent(h.Constants.EVENTS.TRANSFORM_RESIZE)},e.prototype._setDefaultOptionsForRatio=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t||{},i=n.ratio,o=n.dimensions,r=new y,s=new y;o&&!i&&(i=o.x/o.y);var a=i&&h.Utils.findIntegerFraction(i);if(i&&"*"!==i){var l=this.getSharedState("transformOperation"),c=l.getInputDimensions(!1),u=c.x/c.y,p=void 0,d=void 0;if(u<=i){var f=Math.floor(c.x/a.x)*a.y;d=Math.floor(Math.min(f,c.y)/a.y)*a.y,p=d*i,r.set((c.x-p)/2,(c.y-d)/2).floor()}else{var m=Math.floor(c.y/a.y)*a.x;p=Math.floor(Math.min(m,c.x)/a.x)*a.x,d=p/i,r.set((c.x-p)/2,(c.y-d)/2).floor()}s.copy(r).add(p,d),r.divide(c),s.divide(c)}else r=new y(0,0),s=new y(1,1);var g=this.getSharedState("newTransformOptions");g.start=r,g.end=s,this.setSharedState({start:r,end:s},e)},e.prototype._selectInitialRatio=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getSharedState("transformOperation"),i=null,o=this._transformRatioManager.getCategories(),r=o.map(function(t){return t.ratios}).reduce(function(t,e){return t.concat(e)}),s=n._ratio;if(s){i=r.filter(function(t){return t===s})[0]}if(!i){i=r.filter(function(t){return t.selected}).pop()}return i||(i=r[0]),this._selectRatio(i,t,e)},e.prototype._renderSections=function(){var t=this,e=function(e){return h.React.createElement(S,{key:e.identifier},h.React.createElement(C,null,t._t("editor.controls.transform.ratios."+e.identifier+".name")||e.defaultName),h.React.createElement(w,null,n(e)))},n=function(e){return t._transformRatioManager.getRatiosForCategory(e).map(function(n){var i=t.getSharedState("ratio")===n;return h.React.createElement(d.a,{key:n.identifier,defaultIconPath:"editor/controls/transform/ratios/"+n.identifier+"-default.png",hoverIconPath:"editor/controls/transform/ratios/"+n.identifier+"-hover.png",activeIconPath:"editor/controls/transform/ratios/"+n.identifier+"-active.png",onClick:t._selectRatio.bind(t,n),title:t._t("editor.controls.transform.ratios."+e.identifier+".ratios."+n.identifier)||n.defaultName,identifier:n.identifier,selected:i})})};return this._transformRatioManager.getCategories().map(function(t){return e(t)})},e.prototype._getRootProps=function(){return{className:void 0,withBorderTop:!0}},e.prototype._renderContent=function(){var t=this,e=this.getSharedState("ratio");return[h.React.createElement(h.ScrollableListComponent,{key:"list",direction:"vertical",innerRef:function(e){t._scrollbar=e}},h.React.createElement(k,null,h.React.createElement(b,null,h.React.createElement(h.ButtonComponent,{title:this._t("editor.controls.transform.reset"),className:void 0,onClick:this._onResetDefaultClick})),this._renderSections())),h.React.createElement(f.a,{key:"transformDimensions",controls:this.props.controls,disabled:!e||!!e.dimensions})]},e}(h.ControlsComponent);v.contextTypes=h.ControlsComponent.contextTypes,v.RootElement=h.ControlsComponent.RootElement,e.a=v;var b=h.adonis.li("7abnmv","SectionListHeader"),k=Object(h.adonis)(m).ul("x32ss4","SectionList"),S=Object(h.adonis)(g).li("ber9o0","Section"),C=Object(h.adonis)(_).div("15ebqhq","SectionTitle"),w=h.adonis.ul("1klgjyq","SectionGrid")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(4),u=(n.n(c),c.ControlsStyles.PlainControlItem),p=function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i)));return a.state={hovered:!1},a}return l()(e,t),e.prototype.render=function(){var t=this,e={backgroundImage:"url('"+this._getAssetPath(this.props.defaultIconPath,!0)+"')"},n={backgroundImage:"url('"+this._getAssetPath(this.props.hoverIconPath,!0)+"')"},i={backgroundImage:"url('"+this._getAssetPath(this.props.activeIconPath,!0)+"')"},o=this.props,r=o.selected,s=o.onClick,a=o.identifier,l=o.title,u=this.state.hovered;return c.React.createElement(h,{selected:r,onClick:s,"data-identifier":a,"data-selected":r,onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},className:void 0},c.React.createElement(c.Transition,{active:!r},c.React.createElement(d,{style:e})),c.React.createElement(c.Transition,{active:!r&&u},c.React.createElement(d,{style:n})),c.React.createElement(c.Transition,{active:r},c.React.createElement(d,{style:i})),c.React.createElement(f,{selected:r},l))},e}(c.BaseComponent);p.contextTypes=c.BaseComponent.contextTypes,e.a=p;var h=Object(c.adonis)(u).li("71xi0n","TransformListItem"),d=c.adonis.div("u0ryhr",{rendered:"2jlos",visible:"82svov"},"Icon"),f=c.adonis.div("jpjwq7",{selected:"zgbg08"},"Title")},function(t,e,n){"use strict";var i=n(0),o=n.n(i),r=n(1),s=n.n(r),a=n(2),l=n.n(a),c=n(5),u=(n.n(c),n(4)),p=(n.n(u),function(t){function e(){o()(this,e);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var a=s()(this,t.call.apply(t,[this].concat(i))),l=a._getTransformDimensions();return a.state={dimensions:l,x:l.x,y:l.y},a}return l()(e,t),e.prototype.shouldSharedComponentUpdate=function(t,e){return!t.start.equals(e.start)||!t.end.equals(e.end)||t.ratio!==e.ratio},e.prototype.sharedComponentWillUpdate=function(t,e){if(e.transformOperation){var n=this._getTransformDimensions(),i=n.x,o=n.y;this.state.dimensions=n,this.state.x=i,this.state.y=o}},e.prototype._onInputLiveChange=function(t,e){var n=e.target.value;n.length&&!n.match(/\d+?/i)||(this.state[t]=n&&parseInt(n,10)||"",this.forceUpdate())},e.prototype._onInputChange=function(t,e){var n=this.state[t]||0,i=this.getSharedState("transformOperation"),o=i.getInputDimensions(!1),r=this.getSharedState("ratio"),s=r.ratio,a=this.getSharedState("start"),l=this.getSharedState("end"),p=l.clone().subtract(a),h=p.clone().multiply(o);if(h[t]=Math.min(o[t],n),"*"!==s){var d=u.Utils.findIntegerFraction(s);h[t]=Math.max(1,Math.round(h[t]/d[t]))*d[t],"x"===t?h.y=h.x/s:h.x=h.y*s}var f=h.clone();(h.x>o.x||h.y>o.y)&&(f=c.Utils.resizeVectorToFit(h,o));var m=this._getTransformDimensions(),g=m.x,_=m.y;this.state.dimensions=m,this.state.x=g,this.state.y=_,this._resizeTransformTo(f),this.forceUpdate()},e.prototype._getTransformDimensions=function(){var t=this.getSharedState("transformOperation"),e=this.getSharedState("ratio")||{ratio:"*"},n=void 0;if(e.dimensions)n=e.dimensions.clone();else{var i=t.getInputDimensions(!1),o=this.getSharedState("start");n=this.getSharedState("end").clone().subtract(o).multiply(i).round()}return n},e.prototype._resizeTransformTo=function(t){var e=this.getSharedState("transformOperation"),n=e.getInputDimensions(!1),i=this.getSharedState("start").clone(),o=this.getSharedState("end").clone(),r=t.divide(n);o.copy(i).add(r),o.x>1&&(i.x-=o.x-1,o.x=1),o.y>1&&(i.y-=o.y-1,o.y=1);var s=this.props.controls,a=s.fixTransform(i,o,"right","bottom"),l=a.start,c=a.end,p=this.getSharedState("newTransformOptions");p.start=l,p.end=c,this.setSharedState({start:l,end:c}),this._emitEvent(u.Constants.EVENTS.TRANSFORM_RESIZE)},e.prototype.render=function(){return u.React.createElement(f,{className:void 0},u.React.createElement(m,null,u.React.createElement(g,null,u.React.createElement(_,null,u.React.createElement(h,{suffix:this._t("editor.controls.transform.dimensions.width"),name:"width",disabled:this.props.disabled,value:this.state.x,onLiveChange:this._onInputLiveChange.bind(this,"x"),onChange:this._onInputChange.bind(this,"x")})),u.React.createElement(y,null,u.React.createElement(d,{src:this._getAssetPath("editor/controls/transform/dimensions-cross.png",!0)})),u.React.createElement(_,null,u.React.createElement(h,{suffix:this._t("editor.controls.transform.dimensions.height"),name:"height",disabled:this.props.disabled,value:this.state.y,onLiveChange:this._onInputLiveChange.bind(this,"y"),onChange:this._onInputChange.bind(this,"y")}))),u.React.createElement(u.Transition,{active:this.props.disabled,enterProp:"rendered",enterDuration:300,appearProp:"visible",appearDuration:300,leaveDuration:300},u.React.createElement(v,{className:void 0},u.React.createElement(b,{src:this._getAssetPath("editor/controls/transform/lock.png",!0)})))))},e}(u.SharedStateComponent));p.contextTypes=u.SharedStateComponent.contextTypes,e.a=p;var h=Object(u.adonis)(u.SuffixedTextInputComponent)("2jlos","DimensionInput"),d=u.adonis.img("1dew3s1","Cross"),f=u.adonis.div("1yz821h","TransformDimensions"),m=u.adonis.div("1dg9k0o","TransformDimensionsWrapper"),g=u.adonis.div("wlk9p6","Table"),_=u.adonis.div("1q481v0","Cell"),y=Object(u.adonis)(_)("13lk3i9","CrossCell"),v=u.adonis.div("943mx5",{rendered:"2jlos",visible:"rval4i"},"LockOverlay"),b=u.adonis.img("1hp46pm","Lock")}])});